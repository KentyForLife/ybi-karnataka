function x_(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function A_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ch={exports:{}},Zo={},hh={exports:{}},xe={};var Qp;function C_(){if(Qp)return xe;Qp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function C(b){return b===null||typeof b!="object"?null:(b=T&&b[T]||b["@@iterator"],typeof b=="function"?b:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,H={};function B(b,W,Te){this.props=b,this.context=W,this.refs=H,this.updater=Te||U}B.prototype.isReactComponent={},B.prototype.setState=function(b,W){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,W,"setState")},B.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function le(){}le.prototype=B.prototype;function te(b,W,Te){this.props=b,this.context=W,this.refs=H,this.updater=Te||U}var ie=te.prototype=new le;ie.constructor=te,G(ie,B.prototype),ie.isPureReactComponent=!0;var de=Array.isArray,ke=Object.prototype.hasOwnProperty,Ie={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(b,W,Te){var Se,Ae={},Ce=null,je=null;if(W!=null)for(Se in W.ref!==void 0&&(je=W.ref),W.key!==void 0&&(Ce=""+W.key),W)ke.call(W,Se)&&!k.hasOwnProperty(Se)&&(Ae[Se]=W[Se]);var be=arguments.length-2;if(be===1)Ae.children=Te;else if(1<be){for(var Be=Array(be),Ft=0;Ft<be;Ft++)Be[Ft]=arguments[Ft+2];Ae.children=Be}if(b&&b.defaultProps)for(Se in be=b.defaultProps,be)Ae[Se]===void 0&&(Ae[Se]=be[Se]);return{$$typeof:i,type:b,key:Ce,ref:je,props:Ae,_owner:Ie.current}}function A(b,W){return{$$typeof:i,type:b.type,key:W,ref:b.ref,props:b.props,_owner:b._owner}}function D(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function N(b){var W={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Te){return W[Te]})}var L=/\/+/g;function x(b,W){return typeof b=="object"&&b!==null&&b.key!=null?N(""+b.key):W.toString(36)}function $e(b,W,Te,Se,Ae){var Ce=typeof b;(Ce==="undefined"||Ce==="boolean")&&(b=null);var je=!1;if(b===null)je=!0;else switch(Ce){case"string":case"number":je=!0;break;case"object":switch(b.$$typeof){case i:case e:je=!0}}if(je)return je=b,Ae=Ae(je),b=Se===""?"."+x(je,0):Se,de(Ae)?(Te="",b!=null&&(Te=b.replace(L,"$&/")+"/"),$e(Ae,W,Te,"",function(Ft){return Ft})):Ae!=null&&(D(Ae)&&(Ae=A(Ae,Te+(!Ae.key||je&&je.key===Ae.key?"":(""+Ae.key).replace(L,"$&/")+"/")+b)),W.push(Ae)),1;if(je=0,Se=Se===""?".":Se+":",de(b))for(var be=0;be<b.length;be++){Ce=b[be];var Be=Se+x(Ce,be);je+=$e(Ce,W,Te,Be,Ae)}else if(Be=C(b),typeof Be=="function")for(b=Be.call(b),be=0;!(Ce=b.next()).done;)Ce=Ce.value,Be=Se+x(Ce,be++),je+=$e(Ce,W,Te,Be,Ae);else if(Ce==="object")throw W=String(b),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return je}function yt(b,W,Te){if(b==null)return b;var Se=[],Ae=0;return $e(b,Se,"","",function(Ce){return W.call(Te,Ce,Ae++)}),Se}function kt(b){if(b._status===-1){var W=b._result;W=W(),W.then(function(Te){(b._status===0||b._status===-1)&&(b._status=1,b._result=Te)},function(Te){(b._status===0||b._status===-1)&&(b._status=2,b._result=Te)}),b._status===-1&&(b._status=0,b._result=W)}if(b._status===1)return b._result.default;throw b._result}var Ye={current:null},ee={transition:null},fe={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Ie};function se(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:yt,forEach:function(b,W,Te){yt(b,function(){W.apply(this,arguments)},Te)},count:function(b){var W=0;return yt(b,function(){W++}),W},toArray:function(b){return yt(b,function(W){return W})||[]},only:function(b){if(!D(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},xe.Component=B,xe.Fragment=n,xe.Profiler=a,xe.PureComponent=te,xe.StrictMode=s,xe.Suspense=y,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,xe.act=se,xe.cloneElement=function(b,W,Te){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Se=G({},b.props),Ae=b.key,Ce=b.ref,je=b._owner;if(W!=null){if(W.ref!==void 0&&(Ce=W.ref,je=Ie.current),W.key!==void 0&&(Ae=""+W.key),b.type&&b.type.defaultProps)var be=b.type.defaultProps;for(Be in W)ke.call(W,Be)&&!k.hasOwnProperty(Be)&&(Se[Be]=W[Be]===void 0&&be!==void 0?be[Be]:W[Be])}var Be=arguments.length-2;if(Be===1)Se.children=Te;else if(1<Be){be=Array(Be);for(var Ft=0;Ft<Be;Ft++)be[Ft]=arguments[Ft+2];Se.children=be}return{$$typeof:i,type:b.type,key:Ae,ref:Ce,props:Se,_owner:je}},xe.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:c,_context:b},b.Consumer=b},xe.createElement=I,xe.createFactory=function(b){var W=I.bind(null,b);return W.type=b,W},xe.createRef=function(){return{current:null}},xe.forwardRef=function(b){return{$$typeof:m,render:b}},xe.isValidElement=D,xe.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:kt}},xe.memo=function(b,W){return{$$typeof:v,type:b,compare:W===void 0?null:W}},xe.startTransition=function(b){var W=ee.transition;ee.transition={};try{b()}finally{ee.transition=W}},xe.unstable_act=se,xe.useCallback=function(b,W){return Ye.current.useCallback(b,W)},xe.useContext=function(b){return Ye.current.useContext(b)},xe.useDebugValue=function(){},xe.useDeferredValue=function(b){return Ye.current.useDeferredValue(b)},xe.useEffect=function(b,W){return Ye.current.useEffect(b,W)},xe.useId=function(){return Ye.current.useId()},xe.useImperativeHandle=function(b,W,Te){return Ye.current.useImperativeHandle(b,W,Te)},xe.useInsertionEffect=function(b,W){return Ye.current.useInsertionEffect(b,W)},xe.useLayoutEffect=function(b,W){return Ye.current.useLayoutEffect(b,W)},xe.useMemo=function(b,W){return Ye.current.useMemo(b,W)},xe.useReducer=function(b,W,Te){return Ye.current.useReducer(b,W,Te)},xe.useRef=function(b){return Ye.current.useRef(b)},xe.useState=function(b){return Ye.current.useState(b)},xe.useSyncExternalStore=function(b,W,Te){return Ye.current.useSyncExternalStore(b,W,Te)},xe.useTransition=function(){return Ye.current.useTransition()},xe.version="18.3.1",xe}var Kp;function Zh(){return Kp||(Kp=1,hh.exports=C_()),hh.exports}var Gp;function R_(){if(Gp)return Zo;Gp=1;var i=Zh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,v){var w,T={},C=null,U=null;v!==void 0&&(C=""+v),y.key!==void 0&&(C=""+y.key),y.ref!==void 0&&(U=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(T[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)T[w]===void 0&&(T[w]=y[w]);return{$$typeof:e,type:m,key:C,ref:U,props:T,_owner:a.current}}return Zo.Fragment=n,Zo.jsx=h,Zo.jsxs=h,Zo}var Yp;function P_(){return Yp||(Yp=1,ch.exports=R_()),ch.exports}var R=P_(),X=Zh();const ed=A_(X),k_=x_({__proto__:null,default:ed},[X]);var Wl={},dh={exports:{}},Qt={},fh={exports:{}},ph={};var Xp;function N_(){return Xp||(Xp=1,(function(i){function e(ee,fe){var se=ee.length;ee.push(fe);e:for(;0<se;){var b=se-1>>>1,W=ee[b];if(0<a(W,fe))ee[b]=fe,ee[se]=W,se=b;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],se=ee.pop();if(se!==fe){ee[0]=se;e:for(var b=0,W=ee.length,Te=W>>>1;b<Te;){var Se=2*(b+1)-1,Ae=ee[Se],Ce=Se+1,je=ee[Ce];if(0>a(Ae,se))Ce<W&&0>a(je,Ae)?(ee[b]=je,ee[Ce]=se,b=Ce):(ee[b]=Ae,ee[Se]=se,b=Se);else if(Ce<W&&0>a(je,se))ee[b]=je,ee[Ce]=se,b=Ce;else break e}}return fe}function a(ee,fe){var se=ee.sortIndex-fe.sortIndex;return se!==0?se:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],v=[],w=1,T=null,C=3,U=!1,G=!1,H=!1,B=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(ee){for(var fe=n(v);fe!==null;){if(fe.callback===null)s(v);else if(fe.startTime<=ee)s(v),fe.sortIndex=fe.expirationTime,e(y,fe);else break;fe=n(v)}}function de(ee){if(H=!1,ie(ee),!G)if(n(y)!==null)G=!0,kt(ke);else{var fe=n(v);fe!==null&&Ye(de,fe.startTime-ee)}}function ke(ee,fe){G=!1,H&&(H=!1,le(I),I=-1),U=!0;var se=C;try{for(ie(fe),T=n(y);T!==null&&(!(T.expirationTime>fe)||ee&&!N());){var b=T.callback;if(typeof b=="function"){T.callback=null,C=T.priorityLevel;var W=b(T.expirationTime<=fe);fe=i.unstable_now(),typeof W=="function"?T.callback=W:T===n(y)&&s(y),ie(fe)}else s(y);T=n(y)}if(T!==null)var Te=!0;else{var Se=n(v);Se!==null&&Ye(de,Se.startTime-fe),Te=!1}return Te}finally{T=null,C=se,U=!1}}var Ie=!1,k=null,I=-1,A=5,D=-1;function N(){return!(i.unstable_now()-D<A)}function L(){if(k!==null){var ee=i.unstable_now();D=ee;var fe=!0;try{fe=k(!0,ee)}finally{fe?x():(Ie=!1,k=null)}}else Ie=!1}var x;if(typeof te=="function")x=function(){te(L)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,yt=$e.port2;$e.port1.onmessage=L,x=function(){yt.postMessage(null)}}else x=function(){B(L,0)};function kt(ee){k=ee,Ie||(Ie=!0,x())}function Ye(ee,fe){I=B(function(){ee(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){G||U||(G=!0,kt(ke))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(ee){switch(C){case 1:case 2:case 3:var fe=3;break;default:fe=C}var se=C;C=fe;try{return ee()}finally{C=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var se=C;C=ee;try{return fe()}finally{C=se}},i.unstable_scheduleCallback=function(ee,fe,se){var b=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?b+se:b):se=b,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=se+W,ee={id:w++,callback:fe,priorityLevel:ee,startTime:se,expirationTime:W,sortIndex:-1},se>b?(ee.sortIndex=se,e(v,ee),n(y)===null&&ee===n(v)&&(H?(le(I),I=-1):H=!0,Ye(de,se-b))):(ee.sortIndex=W,e(y,ee),G||U||(G=!0,kt(ke))),ee},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(ee){var fe=C;return function(){var se=C;C=fe;try{return ee.apply(this,arguments)}finally{C=se}}}})(ph)),ph}var Jp;function V_(){return Jp||(Jp=1,fh.exports=N_()),fh.exports}var Zp;function D_(){if(Zp)return Qt;Zp=1;var i=Zh(),e=V_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function C(t){return y.call(T,t)?!0:y.call(w,t)?!1:v.test(t)?T[t]=!0:(w[t]=!0,!1)}function U(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G(t,r,o,u){if(r===null||typeof r>"u"||U(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function H(t,r,o,u,d,f,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=_}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new H(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];B[r]=new H(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new H(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new H(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new H(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new H(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new H(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new H(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new H(t,5,!1,t.toLowerCase(),null,!1,!1)});var le=/[\-:]([a-z])/g;function te(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(le,te);B[r]=new H(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(le,te);B[r]=new H(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(le,te);B[r]=new H(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new H(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new H(t,1,!1,t.toLowerCase(),null,!0,!0)});function ie(t,r,o,u){var d=B.hasOwnProperty(r)?B[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(G(r,o,d,u)&&(o=null),u||d===null?C(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var de=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Ye=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,b;function W(t){if(b===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);b=r&&r[1]||""}return`
`+b+t}var Te=!1;function Se(t,r){if(!t||Te)return"";Te=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var u=F}Reflect.construct(t,[],r)}else{try{r.call()}catch(F){u=F}t.call(r.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var d=F.stack.split(`
`),f=u.stack.split(`
`),_=d.length-1,S=f.length-1;1<=_&&0<=S&&d[_]!==f[S];)S--;for(;1<=_&&0<=S;_--,S--)if(d[_]!==f[S]){if(_!==1||S!==1)do if(_--,S--,0>S||d[_]!==f[S]){var P=`
`+d[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=S);break}}}finally{Te=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?W(t):""}function Ae(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=Se(t.type,!1),t;case 11:return t=Se(t.type.render,!1),t;case 1:return t=Se(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Ie:return"Portal";case A:return"Profiler";case I:return"StrictMode";case x:return"Suspense";case $e:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case kt:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function je(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function be(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ft(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){u=""+_,f.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Yi(t){t._valueTracker||(t._valueTracker=Ft(t))}function io(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xi(t,r){var o=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Na(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=be(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ji(t,r){r=r.checked,r!=null&&ie(t,"checked",r,!1)}function fi(t,r){Ji(t,r);var o=be(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?lt(t,r.type,o):r.hasOwnProperty("defaultValue")&&lt(t,r.type,be(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function so(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function lt(t,r,o){(r!=="number"||wr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var it=Array.isArray;function mn(t,r,o,u){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+be(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function oo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ao(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(it(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:be(o)}}function Va(t,r){var o=be(r.value),u=be(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Tr(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lo(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zi(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lo(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sr,Da=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,d)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Sr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function pi(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ba=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(t){ba.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Ir[r]=Ir[t]})});function xr(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Ir.hasOwnProperty(t)&&Ir[t]?(""+r).trim():r+"px"}function es(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=xr(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var uo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gn(t,r){if(r){if(uo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ts(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ar=null;function ns(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jn=null,Zn=null,tt=null;function co(t){if(t=jo(t)){if(typeof Jn!="function")throw Error(n(280));var r=t.stateNode;r&&(r=al(r),Jn(t.stateNode,t.type,r))}}function Cr(t){Zn?tt?tt.push(t):tt=[t]:Zn=t}function Rr(){if(Zn){var t=Zn,r=tt;if(tt=Zn=null,co(t),r)for(t=0;t<r.length;t++)co(r[t])}}function La(t,r){return t(r)}function Oa(){}var An=!1;function Ma(t,r,o){if(An)return t(r,o);An=!0;try{return La(t,r,o)}finally{An=!1,(Zn!==null||tt!==null)&&(Oa(),Rr())}}function mi(t,r){var o=t.stateNode;if(o===null)return null;var u=al(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Pr=!1;if(m)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Pr=!1}function ja(t,r,o,u,d,f,_,S,P){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(K){this.onError(K)}}var er=!1,Cn=null,rs=!1,sn=null,Fa={onError:function(t){er=!0,Cn=t}};function Ua(t,r,o,u,d,f,_,S,P){er=!1,Cn=null,ja.apply(Fa,arguments)}function ho(t,r,o,u,d,f,_,S,P){if(Ua.apply(this,arguments),er){if(er){var F=Cn;er=!1,Cn=null}else throw Error(n(198));rs||(rs=!0,sn=F)}}function yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function fo(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ba(t){if(yn(t)!==t)throw Error(n(188))}function za(t){var r=t.alternate;if(!r){if(r=yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return Ba(d),t;if(f===u)return Ba(d),r;f=f.sibling}throw Error(n(188))}if(o.return!==u.return)o=d,u=f;else{for(var _=!1,S=d.child;S;){if(S===o){_=!0,o=d,u=f;break}if(S===u){_=!0,u=d,o=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===o){_=!0,o=f,u=d;break}if(S===u){_=!0,u=f,o=d;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function $a(t){return t=za(t),t!==null?gi(t):null}function gi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=gi(t);if(r!==null)return r;t=t.sibling}return null}var po=e.unstable_scheduleCallback,is=e.unstable_cancelCallback,yi=e.unstable_shouldYield,tr=e.unstable_requestPaint,He=e.unstable_now,Bu=e.unstable_getCurrentPriorityLevel,ss=e.unstable_ImmediatePriority,mo=e.unstable_UserBlockingPriority,vi=e.unstable_NormalPriority,go=e.unstable_LowPriority,os=e.unstable_IdlePriority,_i=null,Gt=null;function qa(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(_i,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Ei,Rn=Math.log,on=Math.LN2;function Ei(t){return t>>>=0,t===0?32:31-(Rn(t)/on|0)|0}var Pn=64,Nr=4194304;function Me(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nr(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,f=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~d;S!==0?u=Me(S):(f&=_,f!==0&&(u=Me(f)))}else _=o&~d,_!==0?u=Me(_):f!==0&&(u=Me(f));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,f=r&-r,d>=f||d===16&&(f&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Yt(r),d=1<<o,u|=t[o],r&=~d;return u}function wi(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ti(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes;0<f;){var _=31-Yt(f),S=1<<_,P=d[_];P===-1?((S&o)===0||(S&u)!==0)&&(d[_]=wi(S,r)):P<=r&&(t.expiredLanes|=S),f&=~S}}function yo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vo(){var t=Pn;return Pn<<=1,(Pn&4194240)===0&&(Pn=64),t}function _o(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Si(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Yt(r),t[r]=o}function zu(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Yt(o),f=1<<d;r[d]=0,u[d]=-1,t[d]=-1,o&=~f}}function Eo(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Yt(o),d=1<<u;d&r|t[u]&r&&(t[u]|=r),o&=~d}}var Ne=0;function kn(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var wo,as,To,So,Io,Nn=!1,ls=[],Vn=null,Dn=null,St=null,Ii=new Map,rr=new Map,Xt=[],Ha="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vr(t,r){switch(t){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Ii.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(r.pointerId)}}function vn(t,r,o,u,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},r!==null&&(r=jo(r),r!==null&&as(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Wa(t,r,o,u,d){switch(r){case"focusin":return Vn=vn(Vn,t,r,o,u,d),!0;case"dragenter":return Dn=vn(Dn,t,r,o,u,d),!0;case"mouseover":return St=vn(St,t,r,o,u,d),!0;case"pointerover":var f=d.pointerId;return Ii.set(f,vn(Ii.get(f)||null,t,r,o,u,d)),!0;case"gotpointercapture":return f=d.pointerId,rr.set(f,vn(rr.get(f)||null,t,r,o,u,d)),!0}return!1}function us(t){var r=Ri(t.target);if(r!==null){var o=yn(r);if(o!==null){if(r=o.tag,r===13){if(r=fo(o),r!==null){t.blockedOn=r,Io(t.priority,function(){To(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ze(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=cs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Ar=u,o.target.dispatchEvent(u),Ar=null}else return r=jo(o),r!==null&&as(r),t.blockedOn=o,!1;r.shift()}return!0}function Qa(t,r,o){ze(t)&&o.delete(r)}function $u(){Nn=!1,Vn!==null&&ze(Vn)&&(Vn=null),Dn!==null&&ze(Dn)&&(Dn=null),St!==null&&ze(St)&&(St=null),Ii.forEach(Qa),rr.forEach(Qa)}function Dr(t,r){t.blockedOn===r&&(t.blockedOn=null,Nn||(Nn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$u)))}function br(t){function r(d){return Dr(d,t)}if(0<ls.length){Dr(ls[0],t);for(var o=1;o<ls.length;o++){var u=ls[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Vn!==null&&Dr(Vn,t),Dn!==null&&Dr(Dn,t),St!==null&&Dr(St,t),Ii.forEach(r),rr.forEach(r),o=0;o<Xt.length;o++)u=Xt[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Xt.length&&(o=Xt[0],o.blockedOn===null);)us(o),o.blockedOn===null&&Xt.shift()}var ir=de.ReactCurrentBatchConfig,sr=!0;function bn(t,r,o,u){var d=Ne,f=ir.transition;ir.transition=null;try{Ne=1,xo(t,r,o,u)}finally{Ne=d,ir.transition=f}}function Ka(t,r,o,u){var d=Ne,f=ir.transition;ir.transition=null;try{Ne=4,xo(t,r,o,u)}finally{Ne=d,ir.transition=f}}function xo(t,r,o,u){if(sr){var d=cs(t,r,o,u);if(d===null)ec(t,r,u,Ln,o),Vr(t,u);else if(Wa(d,t,r,o,u))u.stopPropagation();else if(Vr(t,u),r&4&&-1<Ha.indexOf(t)){for(;d!==null;){var f=jo(d);if(f!==null&&wo(f),f=cs(t,r,o,u),f===null&&ec(t,r,u,Ln,o),f===d)break;d=f}d!==null&&u.stopPropagation()}else ec(t,r,u,null,o)}}var Ln=null;function cs(t,r,o,u){if(Ln=null,t=ns(u),t=Ri(t),t!==null)if(r=yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=fo(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ln=t,null}function hs(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bu()){case ss:return 1;case mo:return 4;case vi:case go:return 16;case os:return 536870912;default:return 16}default:return 16}}var Jt=null,ds=null,or=null;function Ga(){if(or)return or;var t,r=ds,o=r.length,u,d="value"in Jt?Jt.value:Jt.textContent,f=d.length;for(t=0;t<o&&r[t]===d[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===d[f-u];u++);return or=d.slice(t,1<u?1-u:void 0)}function xi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function On(){return!0}function Ao(){return!1}function Nt(t){function r(o,u,d,f,_){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?On:Ao,this.isPropagationStopped=Ao,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),r}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Nt(Mn),Lr=se({},Mn,{view:0,detail:0}),fs=Nt(Lr),ps,ms,Zt,Ci=se({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ee,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zt&&(Zt&&t.type==="mousemove"?(ps=t.screenX-Zt.screenX,ms=t.screenY-Zt.screenY):ms=ps=0,Zt=t),ps)},movementY:function(t){return"movementY"in t?t.movementY:ms}}),Co=Nt(Ci),Ya=se({},Ci,{dataTransfer:0}),Xa=Nt(Ya),gs=se({},Lr,{relatedTarget:0}),It=Nt(gs),Ja=se({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=Nt(Ja),Or=se({},Mn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l=Nt(Or),p=se({},Mn,{data:0}),g=Nt(p),E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=z[t])?!!r[t]:!1}function Ee(){return Z}var st=se({},Lr,{key:function(t){if(t.key){var r=E[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=xi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ee,charCode:function(t){return t.type==="keypress"?xi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ue=Nt(st),ut=se({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),en=Nt(ut),ar=se({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ee}),jn=Nt(ar),Fn=se({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ys=Nt(Fn),Ro=se({},Ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_v=Nt(Ro),Ev=[9,13,27,32],qu=m&&"CompositionEvent"in window,Po=null;m&&"documentMode"in document&&(Po=document.documentMode);var wv=m&&"TextEvent"in window&&!Po,jd=m&&(!qu||Po&&8<Po&&11>=Po),Fd=" ",Ud=!1;function Bd(t,r){switch(t){case"keyup":return Ev.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function Tv(t,r){switch(t){case"compositionend":return zd(r);case"keypress":return r.which!==32?null:(Ud=!0,Fd);case"textInput":return t=r.data,t===Fd&&Ud?null:t;default:return null}}function Sv(t,r){if(vs)return t==="compositionend"||!qu&&Bd(t,r)?(t=Ga(),or=ds=Jt=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return jd&&r.locale!=="ko"?null:r.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Iv[t.type]:r==="textarea"}function qd(t,r,o,u){Cr(u),r=il(r,"onChange"),0<r.length&&(o=new Ai("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var ko=null,No=null;function xv(t){uf(t,0)}function el(t){var r=Ss(t);if(io(r))return t}function Av(t,r){if(t==="change")return r}var Hd=!1;if(m){var Hu;if(m){var Wu="oninput"in document;if(!Wu){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Wu=typeof Wd.oninput=="function"}Hu=Wu}else Hu=!1;Hd=Hu&&(!document.documentMode||9<document.documentMode)}function Qd(){ko&&(ko.detachEvent("onpropertychange",Kd),No=ko=null)}function Kd(t){if(t.propertyName==="value"&&el(No)){var r=[];qd(r,No,t,ns(t)),Ma(xv,r)}}function Cv(t,r,o){t==="focusin"?(Qd(),ko=r,No=o,ko.attachEvent("onpropertychange",Kd)):t==="focusout"&&Qd()}function Rv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return el(No)}function Pv(t,r){if(t==="click")return el(r)}function kv(t,r){if(t==="input"||t==="change")return el(r)}function Nv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:Nv;function Vo(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!y.call(r,d)||!_n(t[d],r[d]))return!1}return!0}function Gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yd(t,r){var o=Gd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gd(o)}}function Xd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Xd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Jd(){for(var t=window,r=wr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=wr(t.document)}return r}function Qu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Vv(t){var r=Jd(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Xd(o.ownerDocument.documentElement,o)){if(u!==null&&Qu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!t.extend&&f>u&&(d=u,u=f,f=d),d=Yd(o,f);var _=Yd(o,u);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),f>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dv=m&&"documentMode"in document&&11>=document.documentMode,_s=null,Ku=null,Do=null,Gu=!1;function Zd(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gu||_s==null||_s!==wr(u)||(u=_s,"selectionStart"in u&&Qu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Do&&Vo(Do,u)||(Do=u,u=il(Ku,"onSelect"),0<u.length&&(r=new Ai("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=_s)))}function tl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Es={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Yu={},ef={};m&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function nl(t){if(Yu[t])return Yu[t];if(!Es[t])return t;var r=Es[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in ef)return Yu[t]=r[o];return t}var tf=nl("animationend"),nf=nl("animationiteration"),rf=nl("animationstart"),sf=nl("transitionend"),of=new Map,af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,r){of.set(t,r),c(r,[t])}for(var Xu=0;Xu<af.length;Xu++){var Ju=af[Xu],bv=Ju.toLowerCase(),Lv=Ju[0].toUpperCase()+Ju.slice(1);Mr(bv,"on"+Lv)}Mr(tf,"onAnimationEnd"),Mr(nf,"onAnimationIteration"),Mr(rf,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(sf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ov=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function lf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ho(u,r,void 0,t),t.currentTarget=null}function uf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],P=S.instance,F=S.currentTarget;if(S=S.listener,P!==f&&d.isPropagationStopped())break e;lf(d,S,F),f=P}else for(_=0;_<u.length;_++){if(S=u[_],P=S.instance,F=S.currentTarget,S=S.listener,P!==f&&d.isPropagationStopped())break e;lf(d,S,F),f=P}}}if(rs)throw t=sn,rs=!1,sn=null,t}function We(t,r){var o=r[oc];o===void 0&&(o=r[oc]=new Set);var u=t+"__bubble";o.has(u)||(cf(r,t,2,!1),o.add(u))}function Zu(t,r,o){var u=0;r&&(u|=4),cf(o,t,u,r)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Lo(t){if(!t[rl]){t[rl]=!0,s.forEach(function(o){o!=="selectionchange"&&(Ov.has(o)||Zu(o,!1,t),Zu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[rl]||(r[rl]=!0,Zu("selectionchange",!1,r))}}function cf(t,r,o,u){switch(hs(r)){case 1:var d=bn;break;case 4:d=Ka;break;default:d=xo}o=d.bind(null,r,o,t),d=void 0,!Pr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function ec(t,r,o,u,d){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;S!==null;){if(_=Ri(S),_===null)return;if(P=_.tag,P===5||P===6){u=f=_;continue e}S=S.parentNode}}u=u.return}Ma(function(){var F=f,K=ns(o),Y=[];e:{var Q=of.get(t);if(Q!==void 0){var ne=Ai,ae=t;switch(t){case"keypress":if(xi(o)===0)break e;case"keydown":case"keyup":ne=Ue;break;case"focusin":ae="focus",ne=It;break;case"focusout":ae="blur",ne=It;break;case"beforeblur":case"afterblur":ne=It;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Xa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=jn;break;case tf:case nf:case rf:ne=Za;break;case sf:ne=ys;break;case"scroll":ne=fs;break;case"wheel":ne=_v;break;case"copy":case"cut":case"paste":ne=l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=en}var ue=(r&4)!==0,ot=!ue&&t==="scroll",O=ue?Q!==null?Q+"Capture":null:Q;ue=[];for(var V=F,j;V!==null;){j=V;var J=j.stateNode;if(j.tag===5&&J!==null&&(j=J,O!==null&&(J=mi(V,O),J!=null&&ue.push(Oo(V,J,j)))),ot)break;V=V.return}0<ue.length&&(Q=new ne(Q,ae,null,o,K),Y.push({event:Q,listeners:ue}))}}if((r&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",Q&&o!==Ar&&(ae=o.relatedTarget||o.fromElement)&&(Ri(ae)||ae[lr]))break e;if((ne||Q)&&(Q=K.window===K?K:(Q=K.ownerDocument)?Q.defaultView||Q.parentWindow:window,ne?(ae=o.relatedTarget||o.toElement,ne=F,ae=ae?Ri(ae):null,ae!==null&&(ot=yn(ae),ae!==ot||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ne=null,ae=F),ne!==ae)){if(ue=Co,J="onMouseLeave",O="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ue=en,J="onPointerLeave",O="onPointerEnter",V="pointer"),ot=ne==null?Q:Ss(ne),j=ae==null?Q:Ss(ae),Q=new ue(J,V+"leave",ne,o,K),Q.target=ot,Q.relatedTarget=j,J=null,Ri(K)===F&&(ue=new ue(O,V+"enter",ae,o,K),ue.target=j,ue.relatedTarget=ot,J=ue),ot=J,ne&&ae)t:{for(ue=ne,O=ae,V=0,j=ue;j;j=ws(j))V++;for(j=0,J=O;J;J=ws(J))j++;for(;0<V-j;)ue=ws(ue),V--;for(;0<j-V;)O=ws(O),j--;for(;V--;){if(ue===O||O!==null&&ue===O.alternate)break t;ue=ws(ue),O=ws(O)}ue=null}else ue=null;ne!==null&&hf(Y,Q,ne,ue,!1),ae!==null&&ot!==null&&hf(Y,ot,ae,ue,!0)}}e:{if(Q=F?Ss(F):window,ne=Q.nodeName&&Q.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Q.type==="file")var he=Av;else if($d(Q))if(Hd)he=kv;else{he=Rv;var me=Cv}else(ne=Q.nodeName)&&ne.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(he=Pv);if(he&&(he=he(t,F))){qd(Y,he,o,K);break e}me&&me(t,Q,F),t==="focusout"&&(me=Q._wrapperState)&&me.controlled&&Q.type==="number"&&lt(Q,"number",Q.value)}switch(me=F?Ss(F):window,t){case"focusin":($d(me)||me.contentEditable==="true")&&(_s=me,Ku=F,Do=null);break;case"focusout":Do=Ku=_s=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,Zd(Y,o,K);break;case"selectionchange":if(Dv)break;case"keydown":case"keyup":Zd(Y,o,K)}var ge;if(qu)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else vs?Bd(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(jd&&o.locale!=="ko"&&(vs||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&vs&&(ge=Ga()):(Jt=K,ds="value"in Jt?Jt.value:Jt.textContent,vs=!0)),me=il(F,ve),0<me.length&&(ve=new g(ve,t,null,o,K),Y.push({event:ve,listeners:me}),ge?ve.data=ge:(ge=zd(o),ge!==null&&(ve.data=ge)))),(ge=wv?Tv(t,o):Sv(t,o))&&(F=il(F,"onBeforeInput"),0<F.length&&(K=new g("onBeforeInput","beforeinput",null,o,K),Y.push({event:K,listeners:F}),K.data=ge))}uf(Y,r)})}function Oo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function il(t,r){for(var o=r+"Capture",u=[];t!==null;){var d=t,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=mi(t,o),f!=null&&u.unshift(Oo(t,f,d)),f=mi(t,r),f!=null&&u.push(Oo(t,f,d))),t=t.return}return u}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hf(t,r,o,u,d){for(var f=r._reactName,_=[];o!==null&&o!==u;){var S=o,P=S.alternate,F=S.stateNode;if(P!==null&&P===u)break;S.tag===5&&F!==null&&(S=F,d?(P=mi(o,f),P!=null&&_.unshift(Oo(o,P,S))):d||(P=mi(o,f),P!=null&&_.push(Oo(o,P,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Mv=/\r\n?/g,jv=/\u0000|\uFFFD/g;function df(t){return(typeof t=="string"?t:""+t).replace(Mv,`
`).replace(jv,"")}function sl(t,r,o){if(r=df(r),df(t)!==r&&o)throw Error(n(425))}function ol(){}var tc=null,nc=null;function rc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ic=typeof setTimeout=="function"?setTimeout:void 0,Fv=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,Uv=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(t){return ff.resolve(null).then(t).catch(Bv)}:ic;function Bv(t){setTimeout(function(){throw t})}function sc(t,r){var o=r,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),br(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);br(r)}function jr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function pf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),Un="__reactFiber$"+Ts,Mo="__reactProps$"+Ts,lr="__reactContainer$"+Ts,oc="__reactEvents$"+Ts,zv="__reactListeners$"+Ts,$v="__reactHandles$"+Ts;function Ri(t){var r=t[Un];if(r)return r;for(var o=t.parentNode;o;){if(r=o[lr]||o[Un]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=pf(t);t!==null;){if(o=t[Un])return o;t=pf(t)}return r}t=o,o=t.parentNode}return null}function jo(t){return t=t[Un]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function al(t){return t[Mo]||null}var ac=[],Is=-1;function Fr(t){return{current:t}}function Qe(t){0>Is||(t.current=ac[Is],ac[Is]=null,Is--)}function qe(t,r){Is++,ac[Is]=t.current,t.current=r}var Ur={},Vt=Fr(Ur),zt=Fr(!1),Pi=Ur;function xs(t,r){var o=t.type.contextTypes;if(!o)return Ur;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=r[f];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function $t(t){return t=t.childContextTypes,t!=null}function ll(){Qe(zt),Qe(Vt)}function mf(t,r,o){if(Vt.current!==Ur)throw Error(n(168));qe(Vt,r),qe(zt,o)}function gf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(n(108,je(t)||"Unknown",d));return se({},o,u)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,Pi=Vt.current,qe(Vt,t),qe(zt,zt.current),!0}function yf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=gf(t,r,Pi),u.__reactInternalMemoizedMergedChildContext=t,Qe(zt),Qe(Vt),qe(Vt,t)):Qe(zt),qe(zt,o)}var ur=null,cl=!1,lc=!1;function vf(t){ur===null?ur=[t]:ur.push(t)}function qv(t){cl=!0,vf(t)}function Br(){if(!lc&&ur!==null){lc=!0;var t=0,r=Ne;try{var o=ur;for(Ne=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ur=null,cl=!1}catch(d){throw ur!==null&&(ur=ur.slice(t+1)),po(ss,Br),d}finally{Ne=r,lc=!1}}return null}var As=[],Cs=0,hl=null,dl=0,an=[],ln=0,ki=null,cr=1,hr="";function Ni(t,r){As[Cs++]=dl,As[Cs++]=hl,hl=t,dl=r}function _f(t,r,o){an[ln++]=cr,an[ln++]=hr,an[ln++]=ki,ki=t;var u=cr;t=hr;var d=32-Yt(u)-1;u&=~(1<<d),o+=1;var f=32-Yt(r)+d;if(30<f){var _=d-d%5;f=(u&(1<<_)-1).toString(32),u>>=_,d-=_,cr=1<<32-Yt(r)+d|o<<d|u,hr=f+t}else cr=1<<f|o<<d|u,hr=t}function uc(t){t.return!==null&&(Ni(t,1),_f(t,1,0))}function cc(t){for(;t===hl;)hl=As[--Cs],As[Cs]=null,dl=As[--Cs],As[Cs]=null;for(;t===ki;)ki=an[--ln],an[ln]=null,hr=an[--ln],an[ln]=null,cr=an[--ln],an[ln]=null}var tn=null,nn=null,Xe=!1,En=null;function Ef(t,r){var o=dn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function wf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=jr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=ki!==null?{id:cr,overflow:hr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=dn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function hc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dc(t){if(Xe){var r=nn;if(r){var o=r;if(!wf(t,r)){if(hc(t))throw Error(n(418));r=jr(o.nextSibling);var u=tn;r&&wf(t,r)?Ef(u,o):(t.flags=t.flags&-4097|2,Xe=!1,tn=t)}}else{if(hc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Xe=!1,tn=t}}}function Tf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function fl(t){if(t!==tn)return!1;if(!Xe)return Tf(t),Xe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!rc(t.type,t.memoizedProps)),r&&(r=nn)){if(hc(t))throw Sf(),Error(n(418));for(;r;)Ef(t,r),r=jr(r.nextSibling)}if(Tf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=jr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?jr(t.stateNode.nextSibling):null;return!0}function Sf(){for(var t=nn;t;)t=jr(t.nextSibling)}function Rs(){nn=tn=null,Xe=!1}function fc(t){En===null?En=[t]:En.push(t)}var Hv=de.ReactCurrentBatchConfig;function Fo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var d=u,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(_){var S=d.refs;_===null?delete S[f]:S[f]=_},r._stringRef=f,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function pl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function If(t){var r=t._init;return r(t._payload)}function xf(t){function r(O,V){if(t){var j=O.deletions;j===null?(O.deletions=[V],O.flags|=16):j.push(V)}}function o(O,V){if(!t)return null;for(;V!==null;)r(O,V),V=V.sibling;return null}function u(O,V){for(O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function d(O,V){return O=Gr(O,V),O.index=0,O.sibling=null,O}function f(O,V,j){return O.index=j,t?(j=O.alternate,j!==null?(j=j.index,j<V?(O.flags|=2,V):j):(O.flags|=2,V)):(O.flags|=1048576,V)}function _(O){return t&&O.alternate===null&&(O.flags|=2),O}function S(O,V,j,J){return V===null||V.tag!==6?(V=ih(j,O.mode,J),V.return=O,V):(V=d(V,j),V.return=O,V)}function P(O,V,j,J){var he=j.type;return he===k?K(O,V,j.props.children,J,j.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===kt&&If(he)===V.type)?(J=d(V,j.props),J.ref=Fo(O,V,j),J.return=O,J):(J=jl(j.type,j.key,j.props,null,O.mode,J),J.ref=Fo(O,V,j),J.return=O,J)}function F(O,V,j,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=sh(j,O.mode,J),V.return=O,V):(V=d(V,j.children||[]),V.return=O,V)}function K(O,V,j,J,he){return V===null||V.tag!==7?(V=Fi(j,O.mode,J,he),V.return=O,V):(V=d(V,j),V.return=O,V)}function Y(O,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return V=ih(""+V,O.mode,j),V.return=O,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ke:return j=jl(V.type,V.key,V.props,null,O.mode,j),j.ref=Fo(O,null,V),j.return=O,j;case Ie:return V=sh(V,O.mode,j),V.return=O,V;case kt:var J=V._init;return Y(O,J(V._payload),j)}if(it(V)||fe(V))return V=Fi(V,O.mode,j,null),V.return=O,V;pl(O,V)}return null}function Q(O,V,j,J){var he=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return he!==null?null:S(O,V,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ke:return j.key===he?P(O,V,j,J):null;case Ie:return j.key===he?F(O,V,j,J):null;case kt:return he=j._init,Q(O,V,he(j._payload),J)}if(it(j)||fe(j))return he!==null?null:K(O,V,j,J,null);pl(O,j)}return null}function ne(O,V,j,J,he){if(typeof J=="string"&&J!==""||typeof J=="number")return O=O.get(j)||null,S(V,O,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case ke:return O=O.get(J.key===null?j:J.key)||null,P(V,O,J,he);case Ie:return O=O.get(J.key===null?j:J.key)||null,F(V,O,J,he);case kt:var me=J._init;return ne(O,V,j,me(J._payload),he)}if(it(J)||fe(J))return O=O.get(j)||null,K(V,O,J,he,null);pl(V,J)}return null}function ae(O,V,j,J){for(var he=null,me=null,ge=V,ve=V=0,Et=null;ge!==null&&ve<j.length;ve++){ge.index>ve?(Et=ge,ge=null):Et=ge.sibling;var Oe=Q(O,ge,j[ve],J);if(Oe===null){ge===null&&(ge=Et);break}t&&ge&&Oe.alternate===null&&r(O,ge),V=f(Oe,V,ve),me===null?he=Oe:me.sibling=Oe,me=Oe,ge=Et}if(ve===j.length)return o(O,ge),Xe&&Ni(O,ve),he;if(ge===null){for(;ve<j.length;ve++)ge=Y(O,j[ve],J),ge!==null&&(V=f(ge,V,ve),me===null?he=ge:me.sibling=ge,me=ge);return Xe&&Ni(O,ve),he}for(ge=u(O,ge);ve<j.length;ve++)Et=ne(ge,O,ve,j[ve],J),Et!==null&&(t&&Et.alternate!==null&&ge.delete(Et.key===null?ve:Et.key),V=f(Et,V,ve),me===null?he=Et:me.sibling=Et,me=Et);return t&&ge.forEach(function(Yr){return r(O,Yr)}),Xe&&Ni(O,ve),he}function ue(O,V,j,J){var he=fe(j);if(typeof he!="function")throw Error(n(150));if(j=he.call(j),j==null)throw Error(n(151));for(var me=he=null,ge=V,ve=V=0,Et=null,Oe=j.next();ge!==null&&!Oe.done;ve++,Oe=j.next()){ge.index>ve?(Et=ge,ge=null):Et=ge.sibling;var Yr=Q(O,ge,Oe.value,J);if(Yr===null){ge===null&&(ge=Et);break}t&&ge&&Yr.alternate===null&&r(O,ge),V=f(Yr,V,ve),me===null?he=Yr:me.sibling=Yr,me=Yr,ge=Et}if(Oe.done)return o(O,ge),Xe&&Ni(O,ve),he;if(ge===null){for(;!Oe.done;ve++,Oe=j.next())Oe=Y(O,Oe.value,J),Oe!==null&&(V=f(Oe,V,ve),me===null?he=Oe:me.sibling=Oe,me=Oe);return Xe&&Ni(O,ve),he}for(ge=u(O,ge);!Oe.done;ve++,Oe=j.next())Oe=ne(ge,O,ve,Oe.value,J),Oe!==null&&(t&&Oe.alternate!==null&&ge.delete(Oe.key===null?ve:Oe.key),V=f(Oe,V,ve),me===null?he=Oe:me.sibling=Oe,me=Oe);return t&&ge.forEach(function(I_){return r(O,I_)}),Xe&&Ni(O,ve),he}function ot(O,V,j,J){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ke:e:{for(var he=j.key,me=V;me!==null;){if(me.key===he){if(he=j.type,he===k){if(me.tag===7){o(O,me.sibling),V=d(me,j.props.children),V.return=O,O=V;break e}}else if(me.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===kt&&If(he)===me.type){o(O,me.sibling),V=d(me,j.props),V.ref=Fo(O,me,j),V.return=O,O=V;break e}o(O,me);break}else r(O,me);me=me.sibling}j.type===k?(V=Fi(j.props.children,O.mode,J,j.key),V.return=O,O=V):(J=jl(j.type,j.key,j.props,null,O.mode,J),J.ref=Fo(O,V,j),J.return=O,O=J)}return _(O);case Ie:e:{for(me=j.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){o(O,V.sibling),V=d(V,j.children||[]),V.return=O,O=V;break e}else{o(O,V);break}else r(O,V);V=V.sibling}V=sh(j,O.mode,J),V.return=O,O=V}return _(O);case kt:return me=j._init,ot(O,V,me(j._payload),J)}if(it(j))return ae(O,V,j,J);if(fe(j))return ue(O,V,j,J);pl(O,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,V!==null&&V.tag===6?(o(O,V.sibling),V=d(V,j),V.return=O,O=V):(o(O,V),V=ih(j,O.mode,J),V.return=O,O=V),_(O)):o(O,V)}return ot}var Ps=xf(!0),Af=xf(!1),ml=Fr(null),gl=null,ks=null,pc=null;function mc(){pc=ks=gl=null}function gc(t){var r=ml.current;Qe(ml),t._currentValue=r}function yc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ns(t,r){gl=t,pc=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(qt=!0),t.firstContext=null)}function un(t){var r=t._currentValue;if(pc!==t)if(t={context:t,memoizedValue:r,next:null},ks===null){if(gl===null)throw Error(n(308));ks=t,gl.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return r}var Vi=null;function vc(t){Vi===null?Vi=[t]:Vi.push(t)}function Cf(t,r,o,u){var d=r.interleaved;return d===null?(o.next=o,vc(r)):(o.next=d.next,d.next=o),r.interleaved=o,dr(t,u)}function dr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var zr=!1;function _c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function $r(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,dr(t,o)}return d=u.interleaved,d===null?(r.next=r,vc(u)):(r.next=d.next,d.next=r),u.interleaved=r,dr(t,o)}function yl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Eo(t,o)}}function Pf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=_:f=f.next=_,o=o.next}while(o!==null);f===null?d=f=r:f=f.next=r}else d=f=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function vl(t,r,o,u){var d=t.updateQueue;zr=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,F=P.next;P.next=null,_===null?f=F:_.next=F,_=P;var K=t.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==_&&(S===null?K.firstBaseUpdate=F:S.next=F,K.lastBaseUpdate=P))}if(f!==null){var Y=d.baseState;_=0,K=F=P=null,S=f;do{var Q=S.lane,ne=S.eventTime;if((u&Q)===Q){K!==null&&(K=K.next={eventTime:ne,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=t,ue=S;switch(Q=r,ne=o,ue.tag){case 1:if(ae=ue.payload,typeof ae=="function"){Y=ae.call(ne,Y,Q);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ue.payload,Q=typeof ae=="function"?ae.call(ne,Y,Q):ae,Q==null)break e;Y=se({},Y,Q);break e;case 2:zr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,Q=d.effects,Q===null?d.effects=[S]:Q.push(S))}else ne={eventTime:ne,lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(F=K=ne,P=Y):K=K.next=ne,_|=Q;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(K===null&&(P=Y),d.baseState=P,d.firstBaseUpdate=F,d.lastBaseUpdate=K,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else f===null&&(d.shared.lanes=0);Li|=_,t.lanes=_,t.memoizedState=Y}}function kf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var Uo={},Bn=Fr(Uo),Bo=Fr(Uo),zo=Fr(Uo);function Di(t){if(t===Uo)throw Error(n(174));return t}function Ec(t,r){switch(qe(zo,r),qe(Bo,t),qe(Bn,Uo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Zi(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Zi(r,t)}Qe(Bn),qe(Bn,r)}function Vs(){Qe(Bn),Qe(Bo),Qe(zo)}function Nf(t){Di(zo.current);var r=Di(Bn.current),o=Zi(r,t.type);r!==o&&(qe(Bo,t),qe(Bn,o))}function wc(t){Bo.current===t&&(Qe(Bn),Qe(Bo))}var Je=Fr(0);function _l(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Tc=[];function Sc(){for(var t=0;t<Tc.length;t++)Tc[t]._workInProgressVersionPrimary=null;Tc.length=0}var El=de.ReactCurrentDispatcher,Ic=de.ReactCurrentBatchConfig,bi=0,Ze=null,ft=null,vt=null,wl=!1,$o=!1,qo=0,Wv=0;function Dt(){throw Error(n(321))}function xc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!_n(t[o],r[o]))return!1;return!0}function Ac(t,r,o,u,d,f){if(bi=f,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,El.current=t===null||t.memoizedState===null?Yv:Xv,t=o(u,d),$o){f=0;do{if($o=!1,qo=0,25<=f)throw Error(n(301));f+=1,vt=ft=null,r.updateQueue=null,El.current=Jv,t=o(u,d)}while($o)}if(El.current=Il,r=ft!==null&&ft.next!==null,bi=0,vt=ft=Ze=null,wl=!1,r)throw Error(n(300));return t}function Cc(){var t=qo!==0;return qo=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ze.memoizedState=vt=t:vt=vt.next=t,vt}function cn(){if(ft===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var r=vt===null?Ze.memoizedState:vt.next;if(r!==null)vt=r,ft=t;else{if(t===null)throw Error(n(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Ze.memoizedState=vt=t:vt=vt.next=t}return vt}function Ho(t,r){return typeof r=="function"?r(t):r}function Rc(t){var r=cn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ft,d=u.baseQueue,f=o.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}u.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,u=u.baseState;var S=_=null,P=null,F=f;do{var K=F.lane;if((bi&K)===K)P!==null&&(P=P.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var Y={lane:K,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};P===null?(S=P=Y,_=u):P=P.next=Y,Ze.lanes|=K,Li|=K}F=F.next}while(F!==null&&F!==f);P===null?_=u:P.next=S,_n(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do f=d.lane,Ze.lanes|=f,Li|=f,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Pc(t){var r=cn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,f=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);_n(f,r.memoizedState)||(qt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,u]}function Vf(){}function Df(t,r){var o=Ze,u=cn(),d=r(),f=!_n(u.memoizedState,d);if(f&&(u.memoizedState=d,qt=!0),u=u.queue,kc(Of.bind(null,o,u,t),[t]),u.getSnapshot!==r||f||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,Wo(9,Lf.bind(null,o,u,d,r),void 0,null),_t===null)throw Error(n(349));(bi&30)!==0||bf(o,r,d)}return d}function bf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Lf(t,r,o,u){r.value=o,r.getSnapshot=u,Mf(r)&&jf(t)}function Of(t,r,o){return o(function(){Mf(r)&&jf(t)})}function Mf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!_n(t,o)}catch{return!0}}function jf(t){var r=dr(t,1);r!==null&&In(r,t,1,-1)}function Ff(t){var r=zn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},r.queue=t,t=t.dispatch=Gv.bind(null,Ze,t),[r.memoizedState,t]}function Wo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Uf(){return cn().memoizedState}function Tl(t,r,o,u){var d=zn();Ze.flags|=t,d.memoizedState=Wo(1|r,o,void 0,u===void 0?null:u)}function Sl(t,r,o,u){var d=cn();u=u===void 0?null:u;var f=void 0;if(ft!==null){var _=ft.memoizedState;if(f=_.destroy,u!==null&&xc(u,_.deps)){d.memoizedState=Wo(r,o,f,u);return}}Ze.flags|=t,d.memoizedState=Wo(1|r,o,f,u)}function Bf(t,r){return Tl(8390656,8,t,r)}function kc(t,r){return Sl(2048,8,t,r)}function zf(t,r){return Sl(4,2,t,r)}function $f(t,r){return Sl(4,4,t,r)}function qf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Hf(t,r,o){return o=o!=null?o.concat([t]):null,Sl(4,4,qf.bind(null,r,t),o)}function Nc(){}function Wf(t,r){var o=cn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&xc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Qf(t,r){var o=cn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&xc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Kf(t,r,o){return(bi&21)===0?(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o):(_n(o,r)||(o=vo(),Ze.lanes|=o,Li|=o,t.baseState=!0),r)}function Qv(t,r){var o=Ne;Ne=o!==0&&4>o?o:4,t(!0);var u=Ic.transition;Ic.transition={};try{t(!1),r()}finally{Ne=o,Ic.transition=u}}function Gf(){return cn().memoizedState}function Kv(t,r,o){var u=Qr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Yf(t))Xf(r,o);else if(o=Cf(t,r,o,u),o!==null){var d=Bt();In(o,t,u,d),Jf(o,r,u)}}function Gv(t,r,o){var u=Qr(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yf(t))Xf(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,S=f(_,o);if(d.hasEagerState=!0,d.eagerState=S,_n(S,_)){var P=r.interleaved;P===null?(d.next=d,vc(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}finally{}o=Cf(t,r,d,u),o!==null&&(d=Bt(),In(o,t,u,d),Jf(o,r,u))}}function Yf(t){var r=t.alternate;return t===Ze||r!==null&&r===Ze}function Xf(t,r){$o=wl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Jf(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Eo(t,o)}}var Il={readContext:un,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Yv={readContext:un,useCallback:function(t,r){return zn().memoizedState=[t,r===void 0?null:r],t},useContext:un,useEffect:Bf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Tl(4194308,4,qf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Tl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Tl(4,2,t,r)},useMemo:function(t,r){var o=zn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=zn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Kv.bind(null,Ze,t),[u.memoizedState,t]},useRef:function(t){var r=zn();return t={current:t},r.memoizedState=t},useState:Ff,useDebugValue:Nc,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Ff(!1),r=t[0];return t=Qv.bind(null,t[1]),zn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ze,d=zn();if(Xe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));(bi&30)!==0||bf(u,r,o)}d.memoizedState=o;var f={value:o,getSnapshot:r};return d.queue=f,Bf(Of.bind(null,u,f,t),[t]),u.flags|=2048,Wo(9,Lf.bind(null,u,f,o,r),void 0,null),o},useId:function(){var t=zn(),r=_t.identifierPrefix;if(Xe){var o=hr,u=cr;o=(u&~(1<<32-Yt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=qo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Wv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Xv={readContext:un,useCallback:Wf,useContext:un,useEffect:kc,useImperativeHandle:Hf,useInsertionEffect:zf,useLayoutEffect:$f,useMemo:Qf,useReducer:Rc,useRef:Uf,useState:function(){return Rc(Ho)},useDebugValue:Nc,useDeferredValue:function(t){var r=cn();return Kf(r,ft.memoizedState,t)},useTransition:function(){var t=Rc(Ho)[0],r=cn().memoizedState;return[t,r]},useMutableSource:Vf,useSyncExternalStore:Df,useId:Gf,unstable_isNewReconciler:!1},Jv={readContext:un,useCallback:Wf,useContext:un,useEffect:kc,useImperativeHandle:Hf,useInsertionEffect:zf,useLayoutEffect:$f,useMemo:Qf,useReducer:Pc,useRef:Uf,useState:function(){return Pc(Ho)},useDebugValue:Nc,useDeferredValue:function(t){var r=cn();return ft===null?r.memoizedState=t:Kf(r,ft.memoizedState,t)},useTransition:function(){var t=Pc(Ho)[0],r=cn().memoizedState;return[t,r]},useMutableSource:Vf,useSyncExternalStore:Df,useId:Gf,unstable_isNewReconciler:!1};function wn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Vc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:se({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var xl={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Bt(),d=Qr(t),f=fr(u,d);f.payload=r,o!=null&&(f.callback=o),r=$r(t,f,d),r!==null&&(In(r,t,d,u),yl(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Bt(),d=Qr(t),f=fr(u,d);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=$r(t,f,d),r!==null&&(In(r,t,d,u),yl(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Bt(),u=Qr(t),d=fr(o,u);d.tag=2,r!=null&&(d.callback=r),r=$r(t,d,u),r!==null&&(In(r,t,u,o),yl(r,t,u))}};function Zf(t,r,o,u,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,f,_):r.prototype&&r.prototype.isPureReactComponent?!Vo(o,u)||!Vo(d,f):!0}function ep(t,r,o){var u=!1,d=Ur,f=r.contextType;return typeof f=="object"&&f!==null?f=un(f):(d=$t(r)?Pi:Vt.current,u=r.contextTypes,f=(u=u!=null)?xs(t,d):Ur),r=new r(o,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=f),r}function tp(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&xl.enqueueReplaceState(r,r.state,null)}function Dc(t,r,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},_c(t);var f=r.contextType;typeof f=="object"&&f!==null?d.context=un(f):(f=$t(r)?Pi:Vt.current,d.context=xs(t,f)),d.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(Vc(t,r,f,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&xl.enqueueReplaceState(d,d.state,null),vl(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Ds(t,r){try{var o="",u=r;do o+=Ae(u),u=u.return;while(u);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:d,digest:null}}function bc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Lc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Zv=typeof WeakMap=="function"?WeakMap:Map;function np(t,r,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Vl||(Vl=!0,Yc=u),Lc(t,r)},o}function rp(t,r,o){o=fr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;o.payload=function(){return u(d)},o.callback=function(){Lc(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){Lc(t,r),typeof u!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function ip(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Zv;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(d.add(o),t=f_.bind(null,t,r,o),r.then(t,t))}function sp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function op(t,r,o,u,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=fr(-1,1),r.tag=2,$r(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var e_=de.ReactCurrentOwner,qt=!1;function Ut(t,r,o,u){r.child=t===null?Af(r,null,o,u):Ps(r,t.child,o,u)}function ap(t,r,o,u,d){o=o.render;var f=r.ref;return Ns(r,d),u=Ac(t,r,o,u,f,d),o=Cc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,pr(t,r,d)):(Xe&&o&&uc(r),r.flags|=1,Ut(t,r,u,d),r.child)}function lp(t,r,o,u,d){if(t===null){var f=o.type;return typeof f=="function"&&!rh(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,up(t,r,f,u,d)):(t=jl(o.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,(t.lanes&d)===0){var _=f.memoizedProps;if(o=o.compare,o=o!==null?o:Vo,o(_,u)&&t.ref===r.ref)return pr(t,r,d)}return r.flags|=1,t=Gr(f,u),t.ref=r.ref,t.return=r,r.child=t}function up(t,r,o,u,d){if(t!==null){var f=t.memoizedProps;if(Vo(f,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=f,(t.lanes&d)!==0)(t.flags&131072)!==0&&(qt=!0);else return r.lanes=t.lanes,pr(t,r,d)}return Oc(t,r,o,u,d)}function cp(t,r,o){var u=r.pendingProps,d=u.children,f=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ls,rn),rn|=o;else{if((o&1073741824)===0)return t=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(Ls,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,qe(Ls,rn),rn|=u}else f!==null?(u=f.baseLanes|o,r.memoizedState=null):u=o,qe(Ls,rn),rn|=u;return Ut(t,r,d,o),r.child}function hp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Oc(t,r,o,u,d){var f=$t(o)?Pi:Vt.current;return f=xs(r,f),Ns(r,d),o=Ac(t,r,o,u,f,d),u=Cc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,pr(t,r,d)):(Xe&&u&&uc(r),r.flags|=1,Ut(t,r,o,d),r.child)}function dp(t,r,o,u,d){if($t(o)){var f=!0;ul(r)}else f=!1;if(Ns(r,d),r.stateNode===null)Cl(t,r),ep(r,o,u),Dc(r,o,u,d),u=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var P=_.context,F=o.contextType;typeof F=="object"&&F!==null?F=un(F):(F=$t(o)?Pi:Vt.current,F=xs(r,F));var K=o.getDerivedStateFromProps,Y=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function";Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==u||P!==F)&&tp(r,_,u,F),zr=!1;var Q=r.memoizedState;_.state=Q,vl(r,u,_,d),P=r.memoizedState,S!==u||Q!==P||zt.current||zr?(typeof K=="function"&&(Vc(r,o,K,u),P=r.memoizedState),(S=zr||Zf(r,o,S,u,Q,P,F))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),_.props=u,_.state=P,_.context=F,u=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Rf(t,r),S=r.memoizedProps,F=r.type===r.elementType?S:wn(r.type,S),_.props=F,Y=r.pendingProps,Q=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=un(P):(P=$t(o)?Pi:Vt.current,P=xs(r,P));var ne=o.getDerivedStateFromProps;(K=typeof ne=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==Y||Q!==P)&&tp(r,_,u,P),zr=!1,Q=r.memoizedState,_.state=Q,vl(r,u,_,d);var ae=r.memoizedState;S!==Y||Q!==ae||zt.current||zr?(typeof ne=="function"&&(Vc(r,o,ne,u),ae=r.memoizedState),(F=zr||Zf(r,o,F,u,Q,ae,P)||!1)?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ae,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ae,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),_.props=u,_.state=ae,_.context=P,u=F):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),u=!1)}return Mc(t,r,o,u,f,d)}function Mc(t,r,o,u,d,f){hp(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return d&&yf(r,o,!1),pr(t,r,f);u=r.stateNode,e_.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=Ps(r,t.child,null,f),r.child=Ps(r,null,S,f)):Ut(t,r,S,f),r.memoizedState=u.state,d&&yf(r,o,!0),r.child}function fp(t){var r=t.stateNode;r.pendingContext?mf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&mf(t,r.context,!1),Ec(t,r.containerInfo)}function pp(t,r,o,u,d){return Rs(),fc(d),r.flags|=256,Ut(t,r,o,u),r.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function Fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function mp(t,r,o){var u=r.pendingProps,d=Je.current,f=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(d&2)!==0),S?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),qe(Je,d&1),t===null)return dc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=u.children,t=u.fallback,f?(u=r.mode,f=r.child,_={mode:"hidden",children:_},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=_):f=Fl(_,u,0,null),t=Fi(t,u,o,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=Fc(o),r.memoizedState=jc,t):Uc(r,_));if(d=t.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return t_(t,r,_,u,S,d,o);if(f){f=u.fallback,_=r.mode,d=t.child,S=d.sibling;var P={mode:"hidden",children:u.children};return(_&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=Gr(d,P),u.subtreeFlags=d.subtreeFlags&14680064),S!==null?f=Gr(S,f):(f=Fi(f,_,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,_=t.child.memoizedState,_=_===null?Fc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},f.memoizedState=_,f.childLanes=t.childLanes&~o,r.memoizedState=jc,u}return f=t.child,t=f.sibling,u=Gr(f,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Uc(t,r){return r=Fl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Al(t,r,o,u){return u!==null&&fc(u),Ps(r,t.child,null,o),t=Uc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function t_(t,r,o,u,d,f,_){if(o)return r.flags&256?(r.flags&=-257,u=bc(Error(n(422))),Al(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=u.fallback,d=r.mode,u=Fl({mode:"visible",children:u.children},d,0,null),f=Fi(f,d,_,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,(r.mode&1)!==0&&Ps(r,t.child,null,_),r.child.memoizedState=Fc(_),r.memoizedState=jc,f);if((r.mode&1)===0)return Al(t,r,_,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var S=u.dgst;return u=S,f=Error(n(419)),u=bc(f,u,void 0),Al(t,r,_,u)}if(S=(_&t.childLanes)!==0,qt||S){if(u=_t,u!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|_))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,dr(t,d),In(u,t,d,-1))}return nh(),u=bc(Error(n(421))),Al(t,r,_,u)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=p_.bind(null,t),d._reactRetry=r,null):(t=f.treeContext,nn=jr(d.nextSibling),tn=r,Xe=!0,En=null,t!==null&&(an[ln++]=cr,an[ln++]=hr,an[ln++]=ki,cr=t.id,hr=t.overflow,ki=r),r=Uc(r,u.children),r.flags|=4096,r)}function gp(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),yc(t.return,r,o)}function Bc(t,r,o,u,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=d)}function yp(t,r,o){var u=r.pendingProps,d=u.revealOrder,f=u.tail;if(Ut(t,r,u.children,o),u=Je.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gp(t,o,r);else if(t.tag===19)gp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(qe(Je,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&_l(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Bc(r,!1,d,o,f);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&_l(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Bc(r,!0,o,null,f);break;case"together":Bc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Cl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function pr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Li|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Gr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Gr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function n_(t,r,o){switch(r.tag){case 3:fp(r),Rs();break;case 5:Nf(r);break;case 1:$t(r.type)&&ul(r);break;case 4:Ec(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;qe(ml,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(qe(Je,Je.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?mp(t,r,o):(qe(Je,Je.current&1),t=pr(t,r,o),t!==null?t.sibling:null);qe(Je,Je.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return yp(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Je,Je.current),u)break;return null;case 22:case 23:return r.lanes=0,cp(t,r,o)}return pr(t,r,o)}var vp,zc,_p,Ep;vp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},zc=function(){},_p=function(t,r,o,u){var d=t.memoizedProps;if(d!==u){t=r.stateNode,Di(Bn.current);var f=null;switch(o){case"input":d=Xi(t,d),u=Xi(t,u),f=[];break;case"select":d=se({},d,{value:void 0}),u=se({},u,{value:void 0}),f=[];break;case"textarea":d=oo(t,d),u=oo(t,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=ol)}gn(o,u);var _;o=null;for(F in d)if(!u.hasOwnProperty(F)&&d.hasOwnProperty(F)&&d[F]!=null)if(F==="style"){var S=d[F];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?f||(f=[]):(f=f||[]).push(F,null));for(F in u){var P=u[F];if(S=d?.[F],u.hasOwnProperty(F)&&P!==S&&(P!=null||S!=null))if(F==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&S[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(f||(f=[]),f.push(F,o)),o=P;else F==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(f=f||[]).push(F,P)):F==="children"?typeof P!="string"&&typeof P!="number"||(f=f||[]).push(F,""+P):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(P!=null&&F==="onScroll"&&We("scroll",t),f||S===P||(f=[])):(f=f||[]).push(F,P))}o&&(f=f||[]).push("style",o);var F=f;(r.updateQueue=F)&&(r.flags|=4)}},Ep=function(t,r,o,u){o!==u&&(r.flags|=4)};function Qo(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function bt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function r_(t,r,o){var u=r.pendingProps;switch(cc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(r),null;case 1:return $t(r.type)&&ll(),bt(r),null;case 3:return u=r.stateNode,Vs(),Qe(zt),Qe(Vt),Sc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(fl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,En!==null&&(Zc(En),En=null))),zc(t,r),bt(r),null;case 5:wc(r);var d=Di(zo.current);if(o=r.type,t!==null&&r.stateNode!=null)_p(t,r,o,u,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return bt(r),null}if(t=Di(Bn.current),fl(r)){u=r.stateNode,o=r.type;var f=r.memoizedProps;switch(u[Un]=r,u[Mo]=f,t=(r.mode&1)!==0,o){case"dialog":We("cancel",u),We("close",u);break;case"iframe":case"object":case"embed":We("load",u);break;case"video":case"audio":for(d=0;d<bo.length;d++)We(bo[d],u);break;case"source":We("error",u);break;case"img":case"image":case"link":We("error",u),We("load",u);break;case"details":We("toggle",u);break;case"input":Na(u,f),We("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},We("invalid",u);break;case"textarea":ao(u,f),We("invalid",u)}gn(o,f),d=null;for(var _ in f)if(f.hasOwnProperty(_)){var S=f[_];_==="children"?typeof S=="string"?u.textContent!==S&&(f.suppressHydrationWarning!==!0&&sl(u.textContent,S,t),d=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&sl(u.textContent,S,t),d=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&We("scroll",u)}switch(o){case"input":Yi(u),so(u,f,!0);break;case"textarea":Yi(u),Tr(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=ol)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lo(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Un]=r,t[Mo]=u,vp(t,r,!1,!1),r.stateNode=t;e:{switch(_=ts(o,u),o){case"dialog":We("cancel",t),We("close",t),d=u;break;case"iframe":case"object":case"embed":We("load",t),d=u;break;case"video":case"audio":for(d=0;d<bo.length;d++)We(bo[d],t);d=u;break;case"source":We("error",t),d=u;break;case"img":case"image":case"link":We("error",t),We("load",t),d=u;break;case"details":We("toggle",t),d=u;break;case"input":Na(t,u),d=Xi(t,u),We("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=se({},u,{value:void 0}),We("invalid",t);break;case"textarea":ao(t,u),d=oo(t,u),We("invalid",t);break;default:d=u}gn(o,d),S=d;for(f in S)if(S.hasOwnProperty(f)){var P=S[f];f==="style"?es(t,P):f==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Da(t,P)):f==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&pi(t,P):typeof P=="number"&&pi(t,""+P):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?P!=null&&f==="onScroll"&&We("scroll",t):P!=null&&ie(t,f,P,_))}switch(o){case"input":Yi(t),so(t,u,!1);break;case"textarea":Yi(t),Tr(t);break;case"option":u.value!=null&&t.setAttribute("value",""+be(u.value));break;case"select":t.multiple=!!u.multiple,f=u.value,f!=null?mn(t,!!u.multiple,f,!1):u.defaultValue!=null&&mn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=ol)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return bt(r),null;case 6:if(t&&r.stateNode!=null)Ep(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Di(zo.current),Di(Bn.current),fl(r)){if(u=r.stateNode,o=r.memoizedProps,u[Un]=r,(f=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:sl(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sl(u.nodeValue,o,(t.mode&1)!==0)}f&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Un]=r,r.stateNode=u}return bt(r),null;case 13:if(Qe(Je),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&nn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Sf(),Rs(),r.flags|=98560,f=!1;else if(f=fl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Un]=r}else Rs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bt(r),f=!1}else En!==null&&(Zc(En),En=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Je.current&1)!==0?pt===0&&(pt=3):nh())),r.updateQueue!==null&&(r.flags|=4),bt(r),null);case 4:return Vs(),zc(t,r),t===null&&Lo(r.stateNode.containerInfo),bt(r),null;case 10:return gc(r.type._context),bt(r),null;case 17:return $t(r.type)&&ll(),bt(r),null;case 19:if(Qe(Je),f=r.memoizedState,f===null)return bt(r),null;if(u=(r.flags&128)!==0,_=f.rendering,_===null)if(u)Qo(f,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=_l(t),_!==null){for(r.flags|=128,Qo(f,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)f=o,t=u,f.flags&=14680066,_=f.alternate,_===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,t=_.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Je,Je.current&1|2),r.child}t=t.sibling}f.tail!==null&&He()>Os&&(r.flags|=128,u=!0,Qo(f,!1),r.lanes=4194304)}else{if(!u)if(t=_l(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Qo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Xe)return bt(r),null}else 2*He()-f.renderingStartTime>Os&&o!==1073741824&&(r.flags|=128,u=!0,Qo(f,!1),r.lanes=4194304);f.isBackwards?(_.sibling=r.child,r.child=_):(o=f.last,o!==null?o.sibling=_:r.child=_,f.last=_)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=He(),r.sibling=null,o=Je.current,qe(Je,u?o&1|2:o&1),r):(bt(r),null);case 22:case 23:return th(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(rn&1073741824)!==0&&(bt(r),r.subtreeFlags&6&&(r.flags|=8192)):bt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function i_(t,r){switch(cc(r),r.tag){case 1:return $t(r.type)&&ll(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Vs(),Qe(zt),Qe(Vt),Sc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return wc(r),null;case 13:if(Qe(Je),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Rs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Qe(Je),null;case 4:return Vs(),null;case 10:return gc(r.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var Rl=!1,Lt=!1,s_=typeof WeakSet=="function"?WeakSet:Set,oe=null;function bs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){nt(t,r,u)}else o.current=null}function $c(t,r,o){try{o()}catch(u){nt(t,r,u)}}var wp=!1;function o_(t,r){if(tc=sr,t=Jd(),Qu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var _=0,S=-1,P=-1,F=0,K=0,Y=t,Q=null;t:for(;;){for(var ne;Y!==o||d!==0&&Y.nodeType!==3||(S=_+d),Y!==f||u!==0&&Y.nodeType!==3||(P=_+u),Y.nodeType===3&&(_+=Y.nodeValue.length),(ne=Y.firstChild)!==null;)Q=Y,Y=ne;for(;;){if(Y===t)break t;if(Q===o&&++F===d&&(S=_),Q===f&&++K===u&&(P=_),(ne=Y.nextSibling)!==null)break;Y=Q,Q=Y.parentNode}Y=ne}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(nc={focusedElem:t,selectionRange:o},sr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ue=ae.memoizedProps,ot=ae.memoizedState,O=r.stateNode,V=O.getSnapshotBeforeUpdate(r.elementType===r.type?ue:wn(r.type,ue),ot);O.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){nt(r,r.return,J)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ae=wp,wp=!1,ae}function Ko(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var f=d.destroy;d.destroy=void 0,f!==void 0&&$c(r,o,f)}d=d.next}while(d!==u)}}function Pl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function qc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Tp(t){var r=t.alternate;r!==null&&(t.alternate=null,Tp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Un],delete r[Mo],delete r[oc],delete r[zv],delete r[$v])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sp(t){return t.tag===5||t.tag===3||t.tag===4}function Ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ol));else if(u!==4&&(t=t.child,t!==null))for(Hc(t,r,o),t=t.sibling;t!==null;)Hc(t,r,o),t=t.sibling}function Wc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Wc(t,r,o),t=t.sibling;t!==null;)Wc(t,r,o),t=t.sibling}var xt=null,Tn=!1;function qr(t,r,o){for(o=o.child;o!==null;)xp(t,r,o),o=o.sibling}function xp(t,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(_i,o)}catch{}switch(o.tag){case 5:Lt||bs(o,r);case 6:var u=xt,d=Tn;xt=null,qr(t,r,o),xt=u,Tn=d,xt!==null&&(Tn?(t=xt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):xt.removeChild(o.stateNode));break;case 18:xt!==null&&(Tn?(t=xt,o=o.stateNode,t.nodeType===8?sc(t.parentNode,o):t.nodeType===1&&sc(t,o),br(t)):sc(xt,o.stateNode));break;case 4:u=xt,d=Tn,xt=o.stateNode.containerInfo,Tn=!0,qr(t,r,o),xt=u,Tn=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,_=f.destroy;f=f.tag,_!==void 0&&((f&2)!==0||(f&4)!==0)&&$c(o,r,_),d=d.next}while(d!==u)}qr(t,r,o);break;case 1:if(!Lt&&(bs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){nt(o,r,S)}qr(t,r,o);break;case 21:qr(t,r,o);break;case 22:o.mode&1?(Lt=(u=Lt)||o.memoizedState!==null,qr(t,r,o),Lt=u):qr(t,r,o);break;default:qr(t,r,o)}}function Ap(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new s_),r.forEach(function(u){var d=m_.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function Sn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var f=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:xt=S.stateNode,Tn=!1;break e;case 3:xt=S.stateNode.containerInfo,Tn=!0;break e;case 4:xt=S.stateNode.containerInfo,Tn=!0;break e}S=S.return}if(xt===null)throw Error(n(160));xp(f,_,d),xt=null,Tn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(F){nt(d,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Cp(r,t),r=r.sibling}function Cp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(r,t),$n(t),u&4){try{Ko(3,t,t.return),Pl(3,t)}catch(ue){nt(t,t.return,ue)}try{Ko(5,t,t.return)}catch(ue){nt(t,t.return,ue)}}break;case 1:Sn(r,t),$n(t),u&512&&o!==null&&bs(o,o.return);break;case 5:if(Sn(r,t),$n(t),u&512&&o!==null&&bs(o,o.return),t.flags&32){var d=t.stateNode;try{pi(d,"")}catch(ue){nt(t,t.return,ue)}}if(u&4&&(d=t.stateNode,d!=null)){var f=t.memoizedProps,_=o!==null?o.memoizedProps:f,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&Ji(d,f),ts(S,_);var F=ts(S,f);for(_=0;_<P.length;_+=2){var K=P[_],Y=P[_+1];K==="style"?es(d,Y):K==="dangerouslySetInnerHTML"?Da(d,Y):K==="children"?pi(d,Y):ie(d,K,Y,F)}switch(S){case"input":fi(d,f);break;case"textarea":Va(d,f);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var ne=f.value;ne!=null?mn(d,!!f.multiple,ne,!1):Q!==!!f.multiple&&(f.defaultValue!=null?mn(d,!!f.multiple,f.defaultValue,!0):mn(d,!!f.multiple,f.multiple?[]:"",!1))}d[Mo]=f}catch(ue){nt(t,t.return,ue)}}break;case 6:if(Sn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,f=t.memoizedProps;try{d.nodeValue=f}catch(ue){nt(t,t.return,ue)}}break;case 3:if(Sn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{br(r.containerInfo)}catch(ue){nt(t,t.return,ue)}break;case 4:Sn(r,t),$n(t);break;case 13:Sn(r,t),$n(t),d=t.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Gc=He())),u&4&&Ap(t);break;case 22:if(K=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(F=Lt)||K,Sn(r,t),Lt=F):Sn(r,t),$n(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!K&&(t.mode&1)!==0)for(oe=t,K=t.child;K!==null;){for(Y=oe=K;oe!==null;){switch(Q=oe,ne=Q.child,Q.tag){case 0:case 11:case 14:case 15:Ko(4,Q,Q.return);break;case 1:bs(Q,Q.return);var ae=Q.stateNode;if(typeof ae.componentWillUnmount=="function"){u=Q,o=Q.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(ue){nt(u,o,ue)}}break;case 5:bs(Q,Q.return);break;case 22:if(Q.memoizedState!==null){kp(Y);continue}}ne!==null?(ne.return=Q,oe=ne):kp(Y)}K=K.sibling}e:for(K=null,Y=t;;){if(Y.tag===5){if(K===null){K=Y;try{d=Y.stateNode,F?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=Y.stateNode,P=Y.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=xr("display",_))}catch(ue){nt(t,t.return,ue)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=F?"":Y.memoizedProps}catch(ue){nt(t,t.return,ue)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Sn(r,t),$n(t),u&4&&Ap(t);break;case 21:break;default:Sn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Sp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(pi(d,""),u.flags&=-33);var f=Ip(t);Wc(t,f,d);break;case 3:case 4:var _=u.stateNode.containerInfo,S=Ip(t);Hc(t,S,_);break;default:throw Error(n(161))}}catch(P){nt(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function a_(t,r,o){oe=t,Rp(t)}function Rp(t,r,o){for(var u=(t.mode&1)!==0;oe!==null;){var d=oe,f=d.child;if(d.tag===22&&u){var _=d.memoizedState!==null||Rl;if(!_){var S=d.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=Rl;var F=Lt;if(Rl=_,(Lt=P)&&!F)for(oe=d;oe!==null;)_=oe,P=_.child,_.tag===22&&_.memoizedState!==null?Np(d):P!==null?(P.return=_,oe=P):Np(d);for(;f!==null;)oe=f,Rp(f),f=f.sibling;oe=d,Rl=S,Lt=F}Pp(t)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,oe=f):Pp(t)}}function Pp(t){for(;oe!==null;){var r=oe;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Lt||Pl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Lt)if(o===null)u.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:wn(r.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&kf(r,f,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}kf(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var K=F.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&br(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&qc(r)}catch(Q){nt(r,r.return,Q)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function kp(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Np(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Pl(4,r)}catch(P){nt(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(P){nt(r,d,P)}}var f=r.return;try{qc(r)}catch(P){nt(r,f,P)}break;case 5:var _=r.return;try{qc(r)}catch(P){nt(r,_,P)}}}catch(P){nt(r,r.return,P)}if(r===t){oe=null;break}var S=r.sibling;if(S!==null){S.return=r.return,oe=S;break}oe=r.return}}var l_=Math.ceil,kl=de.ReactCurrentDispatcher,Qc=de.ReactCurrentOwner,hn=de.ReactCurrentBatchConfig,Le=0,_t=null,ct=null,At=0,rn=0,Ls=Fr(0),pt=0,Go=null,Li=0,Nl=0,Kc=0,Yo=null,Ht=null,Gc=0,Os=1/0,mr=null,Vl=!1,Yc=null,Hr=null,Dl=!1,Wr=null,bl=0,Xo=0,Xc=null,Ll=-1,Ol=0;function Bt(){return(Le&6)!==0?He():Ll!==-1?Ll:Ll=He()}function Qr(t){return(t.mode&1)===0?1:(Le&2)!==0&&At!==0?At&-At:Hv.transition!==null?(Ol===0&&(Ol=vo()),Ol):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:hs(t.type)),t)}function In(t,r,o,u){if(50<Xo)throw Xo=0,Xc=null,Error(n(185));Si(t,o,u),((Le&2)===0||t!==_t)&&(t===_t&&((Le&2)===0&&(Nl|=o),pt===4&&Kr(t,At)),Wt(t,u),o===1&&Le===0&&(r.mode&1)===0&&(Os=He()+500,cl&&Br()))}function Wt(t,r){var o=t.callbackNode;Ti(t,r);var u=nr(t,t===_t?At:0);if(u===0)o!==null&&is(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&is(o),r===1)t.tag===0?qv(Dp.bind(null,t)):vf(Dp.bind(null,t)),Uv(function(){(Le&6)===0&&Br()}),o=null;else{switch(kn(u)){case 1:o=ss;break;case 4:o=mo;break;case 16:o=vi;break;case 536870912:o=os;break;default:o=vi}o=Bp(o,Vp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Vp(t,r){if(Ll=-1,Ol=0,(Le&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Ms()&&t.callbackNode!==o)return null;var u=nr(t,t===_t?At:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Ml(t,u);else{r=u;var d=Le;Le|=2;var f=Lp();(_t!==t||At!==r)&&(mr=null,Os=He()+500,Mi(t,r));do try{h_();break}catch(S){bp(t,S)}while(!0);mc(),kl.current=f,Le=d,ct!==null?r=0:(_t=null,At=0,r=pt)}if(r!==0){if(r===2&&(d=yo(t),d!==0&&(u=d,r=Jc(t,d))),r===1)throw o=Go,Mi(t,0),Kr(t,u),Wt(t,He()),o;if(r===6)Kr(t,u);else{if(d=t.current.alternate,(u&30)===0&&!u_(d)&&(r=Ml(t,u),r===2&&(f=yo(t),f!==0&&(u=f,r=Jc(t,f))),r===1))throw o=Go,Mi(t,0),Kr(t,u),Wt(t,He()),o;switch(t.finishedWork=d,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:ji(t,Ht,mr);break;case 3:if(Kr(t,u),(u&130023424)===u&&(r=Gc+500-He(),10<r)){if(nr(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){Bt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=ic(ji.bind(null,t,Ht,mr),r);break}ji(t,Ht,mr);break;case 4:if(Kr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,d=-1;0<u;){var _=31-Yt(u);f=1<<_,_=r[_],_>d&&(d=_),u&=~f}if(u=d,u=He()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*l_(u/1960))-u,10<u){t.timeoutHandle=ic(ji.bind(null,t,Ht,mr),u);break}ji(t,Ht,mr);break;case 5:ji(t,Ht,mr);break;default:throw Error(n(329))}}}return Wt(t,He()),t.callbackNode===o?Vp.bind(null,t):null}function Jc(t,r){var o=Yo;return t.current.memoizedState.isDehydrated&&(Mi(t,r).flags|=256),t=Ml(t,r),t!==2&&(r=Ht,Ht=o,r!==null&&Zc(r)),t}function Zc(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function u_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],f=d.getSnapshot;d=d.value;try{if(!_n(f(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(t,r){for(r&=~Kc,r&=~Nl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Yt(r),u=1<<o;t[o]=-1,r&=~u}}function Dp(t){if((Le&6)!==0)throw Error(n(327));Ms();var r=nr(t,0);if((r&1)===0)return Wt(t,He()),null;var o=Ml(t,r);if(t.tag!==0&&o===2){var u=yo(t);u!==0&&(r=u,o=Jc(t,u))}if(o===1)throw o=Go,Mi(t,0),Kr(t,r),Wt(t,He()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ji(t,Ht,mr),Wt(t,He()),null}function eh(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Os=He()+500,cl&&Br())}}function Oi(t){Wr!==null&&Wr.tag===0&&(Le&6)===0&&Ms();var r=Le;Le|=1;var o=hn.transition,u=Ne;try{if(hn.transition=null,Ne=1,t)return t()}finally{Ne=u,hn.transition=o,Le=r,(Le&6)===0&&Br()}}function th(){rn=Ls.current,Qe(Ls)}function Mi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Fv(o)),ct!==null)for(o=ct.return;o!==null;){var u=o;switch(cc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ll();break;case 3:Vs(),Qe(zt),Qe(Vt),Sc();break;case 5:wc(u);break;case 4:Vs();break;case 13:Qe(Je);break;case 19:Qe(Je);break;case 10:gc(u.type._context);break;case 22:case 23:th()}o=o.return}if(_t=t,ct=t=Gr(t.current,null),At=rn=r,pt=0,Go=null,Kc=Nl=Li=0,Ht=Yo=null,Vi!==null){for(r=0;r<Vi.length;r++)if(o=Vi[r],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,f=o.pending;if(f!==null){var _=f.next;f.next=d,u.next=_}o.pending=u}Vi=null}return t}function bp(t,r){do{var o=ct;try{if(mc(),El.current=Il,wl){for(var u=Ze.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}wl=!1}if(bi=0,vt=ft=Ze=null,$o=!1,qo=0,Qc.current=null,o===null||o.return===null){pt=1,Go=r,ct=null;break}e:{var f=t,_=o.return,S=o,P=r;if(r=At,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var F=P,K=S,Y=K.tag;if((K.mode&1)===0&&(Y===0||Y===11||Y===15)){var Q=K.alternate;Q?(K.updateQueue=Q.updateQueue,K.memoizedState=Q.memoizedState,K.lanes=Q.lanes):(K.updateQueue=null,K.memoizedState=null)}var ne=sp(_);if(ne!==null){ne.flags&=-257,op(ne,_,S,f,r),ne.mode&1&&ip(f,F,r),r=ne,P=F;var ae=r.updateQueue;if(ae===null){var ue=new Set;ue.add(P),r.updateQueue=ue}else ae.add(P);break e}else{if((r&1)===0){ip(f,F,r),nh();break e}P=Error(n(426))}}else if(Xe&&S.mode&1){var ot=sp(_);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),op(ot,_,S,f,r),fc(Ds(P,S));break e}}f=P=Ds(P,S),pt!==4&&(pt=2),Yo===null?Yo=[f]:Yo.push(f),f=_;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var O=np(f,P,r);Pf(f,O);break e;case 1:S=P;var V=f.type,j=f.stateNode;if((f.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Hr===null||!Hr.has(j)))){f.flags|=65536,r&=-r,f.lanes|=r;var J=rp(f,S,r);Pf(f,J);break e}}f=f.return}while(f!==null)}Mp(o)}catch(he){r=he,ct===o&&o!==null&&(ct=o=o.return);continue}break}while(!0)}function Lp(){var t=kl.current;return kl.current=Il,t===null?Il:t}function nh(){(pt===0||pt===3||pt===2)&&(pt=4),_t===null||(Li&268435455)===0&&(Nl&268435455)===0||Kr(_t,At)}function Ml(t,r){var o=Le;Le|=2;var u=Lp();(_t!==t||At!==r)&&(mr=null,Mi(t,r));do try{c_();break}catch(d){bp(t,d)}while(!0);if(mc(),Le=o,kl.current=u,ct!==null)throw Error(n(261));return _t=null,At=0,pt}function c_(){for(;ct!==null;)Op(ct)}function h_(){for(;ct!==null&&!yi();)Op(ct)}function Op(t){var r=Up(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?Mp(t):ct=r,Qc.current=null}function Mp(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=r_(o,r,rn),o!==null){ct=o;return}}else{if(o=i_(o,r),o!==null){o.flags&=32767,ct=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ct=null;return}}if(r=r.sibling,r!==null){ct=r;return}ct=r=t}while(r!==null);pt===0&&(pt=5)}function ji(t,r,o){var u=Ne,d=hn.transition;try{hn.transition=null,Ne=1,d_(t,r,o,u)}finally{hn.transition=d,Ne=u}return null}function d_(t,r,o,u){do Ms();while(Wr!==null);if((Le&6)!==0)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(zu(t,f),t===_t&&(ct=_t=null,At=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Dl||(Dl=!0,Bp(vi,function(){return Ms(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=hn.transition,hn.transition=null;var _=Ne;Ne=1;var S=Le;Le|=4,Qc.current=null,o_(t,o),Cp(o,t),Vv(nc),sr=!!tc,nc=tc=null,t.current=o,a_(o),tr(),Le=S,Ne=_,hn.transition=f}else t.current=o;if(Dl&&(Dl=!1,Wr=t,bl=d),f=t.pendingLanes,f===0&&(Hr=null),qa(o.stateNode),Wt(t,He()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Vl)throw Vl=!1,t=Yc,Yc=null,t;return(bl&1)!==0&&t.tag!==0&&Ms(),f=t.pendingLanes,(f&1)!==0?t===Xc?Xo++:(Xo=0,Xc=t):Xo=0,Br(),null}function Ms(){if(Wr!==null){var t=kn(bl),r=hn.transition,o=Ne;try{if(hn.transition=null,Ne=16>t?16:t,Wr===null)var u=!1;else{if(t=Wr,Wr=null,bl=0,(Le&6)!==0)throw Error(n(331));var d=Le;for(Le|=4,oe=t.current;oe!==null;){var f=oe,_=f.child;if((oe.flags&16)!==0){var S=f.deletions;if(S!==null){for(var P=0;P<S.length;P++){var F=S[P];for(oe=F;oe!==null;){var K=oe;switch(K.tag){case 0:case 11:case 15:Ko(8,K,f)}var Y=K.child;if(Y!==null)Y.return=K,oe=Y;else for(;oe!==null;){K=oe;var Q=K.sibling,ne=K.return;if(Tp(K),K===F){oe=null;break}if(Q!==null){Q.return=ne,oe=Q;break}oe=ne}}}var ae=f.alternate;if(ae!==null){var ue=ae.child;if(ue!==null){ae.child=null;do{var ot=ue.sibling;ue.sibling=null,ue=ot}while(ue!==null)}}oe=f}}if((f.subtreeFlags&2064)!==0&&_!==null)_.return=f,oe=_;else e:for(;oe!==null;){if(f=oe,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ko(9,f,f.return)}var O=f.sibling;if(O!==null){O.return=f.return,oe=O;break e}oe=f.return}}var V=t.current;for(oe=V;oe!==null;){_=oe;var j=_.child;if((_.subtreeFlags&2064)!==0&&j!==null)j.return=_,oe=j;else e:for(_=V;oe!==null;){if(S=oe,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Pl(9,S)}}catch(he){nt(S,S.return,he)}if(S===_){oe=null;break e}var J=S.sibling;if(J!==null){J.return=S.return,oe=J;break e}oe=S.return}}if(Le=d,Br(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(_i,t)}catch{}u=!0}return u}finally{Ne=o,hn.transition=r}}return!1}function jp(t,r,o){r=Ds(o,r),r=np(t,r,1),t=$r(t,r,1),r=Bt(),t!==null&&(Si(t,1,r),Wt(t,r))}function nt(t,r,o){if(t.tag===3)jp(t,t,o);else for(;r!==null;){if(r.tag===3){jp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hr===null||!Hr.has(u))){t=Ds(o,t),t=rp(r,t,1),r=$r(r,t,1),t=Bt(),r!==null&&(Si(r,1,t),Wt(r,t));break}}r=r.return}}function f_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Bt(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(At&o)===o&&(pt===4||pt===3&&(At&130023424)===At&&500>He()-Gc?Mi(t,0):Kc|=o),Wt(t,r)}function Fp(t,r){r===0&&((t.mode&1)===0?r=1:(r=Nr,Nr<<=1,(Nr&130023424)===0&&(Nr=4194304)));var o=Bt();t=dr(t,r),t!==null&&(Si(t,r,o),Wt(t,o))}function p_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Fp(t,o)}function m_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Fp(t,o)}var Up;Up=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||zt.current)qt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return qt=!1,n_(t,r,o);qt=(t.flags&131072)!==0}else qt=!1,Xe&&(r.flags&1048576)!==0&&_f(r,dl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Cl(t,r),t=r.pendingProps;var d=xs(r,Vt.current);Ns(r,o),d=Ac(null,r,u,t,d,o);var f=Cc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$t(u)?(f=!0,ul(r)):f=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,_c(r),d.updater=xl,r.stateNode=d,d._reactInternals=r,Dc(r,u,t,o),r=Mc(null,r,u,!0,f,o)):(r.tag=0,Xe&&f&&uc(r),Ut(null,r,d,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Cl(t,r),t=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=y_(u),t=wn(u,t),d){case 0:r=Oc(null,r,u,t,o);break e;case 1:r=dp(null,r,u,t,o);break e;case 11:r=ap(null,r,u,t,o);break e;case 14:r=lp(null,r,u,wn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:wn(u,d),Oc(t,r,u,d,o);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:wn(u,d),dp(t,r,u,d,o);case 3:e:{if(fp(r),t===null)throw Error(n(387));u=r.pendingProps,f=r.memoizedState,d=f.element,Rf(t,r),vl(r,u,null,o);var _=r.memoizedState;if(u=_.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){d=Ds(Error(n(423)),r),r=pp(t,r,u,o,d);break e}else if(u!==d){d=Ds(Error(n(424)),r),r=pp(t,r,u,o,d);break e}else for(nn=jr(r.stateNode.containerInfo.firstChild),tn=r,Xe=!0,En=null,o=Af(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Rs(),u===d){r=pr(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return Nf(r),t===null&&dc(r),u=r.type,d=r.pendingProps,f=t!==null?t.memoizedProps:null,_=d.children,rc(u,d)?_=null:f!==null&&rc(u,f)&&(r.flags|=32),hp(t,r),Ut(t,r,_,o),r.child;case 6:return t===null&&dc(r),null;case 13:return mp(t,r,o);case 4:return Ec(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ps(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:wn(u,d),ap(t,r,u,d,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,f=r.memoizedProps,_=d.value,qe(ml,u._currentValue),u._currentValue=_,f!==null)if(_n(f.value,_)){if(f.children===d.children&&!zt.current){r=pr(t,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var S=f.dependencies;if(S!==null){_=f.child;for(var P=S.firstContext;P!==null;){if(P.context===u){if(f.tag===1){P=fr(-1,o&-o),P.tag=2;var F=f.updateQueue;if(F!==null){F=F.shared;var K=F.pending;K===null?P.next=P:(P.next=K.next,K.next=P),F.pending=P}}f.lanes|=o,P=f.alternate,P!==null&&(P.lanes|=o),yc(f.return,o,r),S.lanes|=o;break}P=P.next}}else if(f.tag===10)_=f.type===r.type?null:f.child;else if(f.tag===18){if(_=f.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),yc(_,o,r),_=f.sibling}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===r){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}Ut(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,Ns(r,o),d=un(d),u=u(d),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,d=wn(u,r.pendingProps),d=wn(u.type,d),lp(t,r,u,d,o);case 15:return up(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:wn(u,d),Cl(t,r),r.tag=1,$t(u)?(t=!0,ul(r)):t=!1,Ns(r,o),ep(r,u,d),Dc(r,u,d,o),Mc(null,r,u,!0,t,o);case 19:return yp(t,r,o);case 22:return cp(t,r,o)}throw Error(n(156,r.tag))};function Bp(t,r){return po(t,r)}function g_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,o,u){return new g_(t,r,o,u)}function rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y_(t){if(typeof t=="function")return rh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===yt)return 14}return 2}function Gr(t,r){var o=t.alternate;return o===null?(o=dn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function jl(t,r,o,u,d,f){var _=2;if(u=t,typeof t=="function")rh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case k:return Fi(o.children,d,f,r);case I:_=8,d|=8;break;case A:return t=dn(12,o,r,d|2),t.elementType=A,t.lanes=f,t;case x:return t=dn(13,o,r,d),t.elementType=x,t.lanes=f,t;case $e:return t=dn(19,o,r,d),t.elementType=$e,t.lanes=f,t;case Ye:return Fl(o,d,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:_=10;break e;case N:_=9;break e;case L:_=11;break e;case yt:_=14;break e;case kt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=dn(_,o,r,d),r.elementType=t,r.type=u,r.lanes=f,r}function Fi(t,r,o,u){return t=dn(7,t,u,r),t.lanes=o,t}function Fl(t,r,o,u){return t=dn(22,t,u,r),t.elementType=Ye,t.lanes=o,t.stateNode={isHidden:!1},t}function ih(t,r,o){return t=dn(6,t,null,r),t.lanes=o,t}function sh(t,r,o){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function v_(t,r,o,u,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function oh(t,r,o,u,d,f,_,S,P){return t=new v_(t,r,o,S,P),r===1?(r=1,f===!0&&(r|=8)):r=0,f=dn(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},_c(f),t}function __(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function zp(t){if(!t)return Ur;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if($t(o))return gf(t,o,r)}return r}function $p(t,r,o,u,d,f,_,S,P){return t=oh(o,u,!0,t,d,f,_,S,P),t.context=zp(null),o=t.current,u=Bt(),d=Qr(o),f=fr(u,d),f.callback=r??null,$r(o,f,d),t.current.lanes=d,Si(t,d,u),Wt(t,u),t}function Ul(t,r,o,u){var d=r.current,f=Bt(),_=Qr(d);return o=zp(o),r.context===null?r.context=o:r.pendingContext=o,r=fr(f,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=$r(d,r,_),t!==null&&(In(t,d,_,f),yl(t,d,_)),_}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function ah(t,r){qp(t,r),(t=t.alternate)&&qp(t,r)}function E_(){return null}var Hp=typeof reportError=="function"?reportError:function(t){console.error(t)};function lh(t){this._internalRoot=t}zl.prototype.render=lh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Ul(t,r,null,null)},zl.prototype.unmount=lh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Oi(function(){Ul(null,t,null,null)}),r[lr]=null}};function zl(t){this._internalRoot=t}zl.prototype.unstable_scheduleHydration=function(t){if(t){var r=So();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Xt.length&&r!==0&&r<Xt[o].priority;o++);Xt.splice(o,0,t),o===0&&us(t)}};function uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function w_(t,r,o,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var F=Bl(_);f.call(F)}}var _=$p(r,u,t,0,null,!1,!1,"",Wp);return t._reactRootContainer=_,t[lr]=_.current,Lo(t.nodeType===8?t.parentNode:t),Oi(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var S=u;u=function(){var F=Bl(P);S.call(F)}}var P=oh(t,0,!1,null,null,!1,!1,"",Wp);return t._reactRootContainer=P,t[lr]=P.current,Lo(t.nodeType===8?t.parentNode:t),Oi(function(){Ul(r,P,o,u)}),P}function ql(t,r,o,u,d){var f=o._reactRootContainer;if(f){var _=f;if(typeof d=="function"){var S=d;d=function(){var P=Bl(_);S.call(P)}}Ul(r,_,t,d)}else _=w_(o,r,t,d,u);return Bl(_)}wo=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Me(r.pendingLanes);o!==0&&(Eo(r,o|1),Wt(r,He()),(Le&6)===0&&(Os=He()+500,Br()))}break;case 13:Oi(function(){var u=dr(t,1);if(u!==null){var d=Bt();In(u,t,1,d)}}),ah(t,1)}},as=function(t){if(t.tag===13){var r=dr(t,134217728);if(r!==null){var o=Bt();In(r,t,134217728,o)}ah(t,134217728)}},To=function(t){if(t.tag===13){var r=Qr(t),o=dr(t,r);if(o!==null){var u=Bt();In(o,t,r,u)}ah(t,r)}},So=function(){return Ne},Io=function(t,r){var o=Ne;try{return Ne=t,r()}finally{Ne=o}},Jn=function(t,r,o){switch(r){case"input":if(fi(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var d=al(u);if(!d)throw Error(n(90));io(u),fi(u,d)}}}break;case"textarea":Va(t,o);break;case"select":r=o.value,r!=null&&mn(t,!!o.multiple,r,!1)}},La=eh,Oa=Oi;var T_={usingClientEntryPoint:!1,Events:[jo,Ss,al,Cr,Rr,eh]},Jo={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S_={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$a(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||E_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{_i=Hl.inject(S_),Gt=Hl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T_,Qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(r))throw Error(n(200));return __(t,r,null,o)},Qt.createRoot=function(t,r){if(!uh(t))throw Error(n(299));var o=!1,u="",d=Hp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=oh(t,1,!1,null,null,o,!1,u,d),t[lr]=r.current,Lo(t.nodeType===8?t.parentNode:t),new lh(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=$a(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return Oi(t)},Qt.hydrate=function(t,r,o){if(!$l(r))throw Error(n(200));return ql(null,t,r,!0,o)},Qt.hydrateRoot=function(t,r,o){if(!uh(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,d=!1,f="",_=Hp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=$p(r,null,t,1,o??null,d,!1,f,_),t[lr]=r.current,Lo(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new zl(r)},Qt.render=function(t,r,o){if(!$l(r))throw Error(n(200));return ql(null,t,r,!1,o)},Qt.unmountComponentAtNode=function(t){if(!$l(t))throw Error(n(40));return t._reactRootContainer?(Oi(function(){ql(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1},Qt.unstable_batchedUpdates=eh,Qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!$l(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return ql(t,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var em;function yg(){if(em)return dh.exports;em=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dh.exports=D_(),dh.exports}var tm;function b_(){if(tm)return Wl;tm=1;var i=yg();return Wl.createRoot=i.createRoot,Wl.hydrateRoot=i.hydrateRoot,Wl}var L_=b_();yg();function ca(){return ca=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},ca.apply(this,arguments)}var Jr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Jr||(Jr={}));const nm="popstate";function O_(i){i===void 0&&(i={});function e(s,a){let{pathname:c,search:h,hash:m}=s.location;return xh("",{pathname:c,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ou(a)}return j_(e,n,null,i)}function rt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function td(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M_(){return Math.random().toString(36).substr(2,8)}function rm(i,e){return{usr:i.state,key:i.key,idx:e}}function xh(i,e,n,s){return n===void 0&&(n=null),ca({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Js(e):e,{state:n,key:e&&e.key||s||M_()})}function ou(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Js(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function j_(i,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:c=!1}=s,h=a.history,m=Jr.Pop,y=null,v=w();v==null&&(v=0,h.replaceState(ca({},h.state,{idx:v}),""));function w(){return(h.state||{idx:null}).idx}function T(){m=Jr.Pop;let B=w(),le=B==null?null:B-v;v=B,y&&y({action:m,location:H.location,delta:le})}function C(B,le){m=Jr.Push;let te=xh(H.location,B,le);v=w()+1;let ie=rm(te,v),de=H.createHref(te);try{h.pushState(ie,"",de)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;a.location.assign(de)}c&&y&&y({action:m,location:H.location,delta:1})}function U(B,le){m=Jr.Replace;let te=xh(H.location,B,le);v=w();let ie=rm(te,v),de=H.createHref(te);h.replaceState(ie,"",de),c&&y&&y({action:m,location:H.location,delta:0})}function G(B){let le=a.location.origin!=="null"?a.location.origin:a.location.href,te=typeof B=="string"?B:ou(B);return te=te.replace(/ $/,"%20"),rt(le,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,le)}let H={get action(){return m},get location(){return i(a,h)},listen(B){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(nm,T),y=B,()=>{a.removeEventListener(nm,T),y=null}},createHref(B){return e(a,B)},createURL:G,encodeLocation(B){let le=G(B);return{pathname:le.pathname,search:le.search,hash:le.hash}},push:C,replace:U,go(B){return h.go(B)}};return H}var im;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(im||(im={}));function F_(i,e,n){return n===void 0&&(n="/"),U_(i,e,n)}function U_(i,e,n,s){let a=typeof e=="string"?Js(e):e,c=Hs(a.pathname||"/",n);if(c==null)return null;let h=vg(i);B_(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let v=J_(c);m=Y_(h[y],v)}return m}function vg(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(c,h,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};y.relativePath.startsWith("/")&&(rt(y.relativePath.startsWith(s),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(s.length));let v=ei([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(rt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),vg(c.children,e,w,v)),!(c.path==null&&!c.index)&&e.push({path:v,score:K_(v,c.index),routesMeta:w})};return i.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,h);else for(let y of _g(c.path))a(c,h,y)}),e}function _g(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let h=_g(s.join("/")),m=[];return m.push(...h.map(y=>y===""?c:[c,y].join("/"))),a&&m.push(...h),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function B_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:G_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const z_=/^:[\w-]+$/,$_=3,q_=2,H_=1,W_=10,Q_=-2,sm=i=>i==="*";function K_(i,e){let n=i.split("/"),s=n.length;return n.some(sm)&&(s+=Q_),e&&(s+=q_),n.filter(a=>!sm(a)).reduce((a,c)=>a+(z_.test(c)?$_:c===""?H_:W_),s)}function G_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function Y_(i,e,n){let{routesMeta:s}=i,a={},c="/",h=[];for(let m=0;m<s.length;++m){let y=s[m],v=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",T=Ah({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},w),C=y.route;if(!T)return null;Object.assign(a,T.params),h.push({params:a,pathname:ei([c,T.pathname]),pathnameBase:r0(ei([c,T.pathnameBase])),route:C}),T.pathnameBase!=="/"&&(c=ei([c,T.pathnameBase]))}return h}function Ah(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=X_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,w,T)=>{let{paramName:C,isOptional:U}=w;if(C==="*"){let H=m[T]||"";h=c.slice(0,c.length-H.length).replace(/(.)\/+$/,"$1")}const G=m[T];return U&&!G?v[C]=void 0:v[C]=(G||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:i}}function X_(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),td(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function J_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return td(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function Hs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}const Z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e0=i=>Z_.test(i);function t0(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Js(i):i,c;if(n)if(e0(n))c=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),td(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+n))}n.startsWith("/")?c=om(n.substring(1),"/"):c=om(n,e)}else c=e;return{pathname:c,search:i0(s),hash:s0(a)}}function om(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function mh(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Eg(i,e){let n=n0(i);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function wg(i,e,n,s){s===void 0&&(s=!1);let a;typeof i=="string"?a=Js(i):(a=ca({},i),rt(!a.pathname||!a.pathname.includes("?"),mh("?","pathname","search",a)),rt(!a.pathname||!a.pathname.includes("#"),mh("#","pathname","hash",a)),rt(!a.search||!a.search.includes("#"),mh("#","search","hash",a)));let c=i===""||a.pathname==="",h=c?"/":a.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),T-=1;a.pathname=C.join("/")}m=T>=0?e[T]:"/"}let y=t0(a,m),v=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(v||w)&&(y.pathname+="/"),y}const ei=i=>i.join("/").replace(/\/\/+/g,"/"),r0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),i0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,s0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function o0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Tg=["post","put","patch","delete"];new Set(Tg);const a0=["get",...Tg];new Set(a0);function ha(){return ha=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},ha.apply(this,arguments)}const Iu=X.createContext(null),Sg=X.createContext(null),hi=X.createContext(null),xu=X.createContext(null),di=X.createContext({outlet:null,matches:[],isDataRoute:!1}),Ig=X.createContext(null);function l0(i,e){let{relative:n}=e===void 0?{}:e;Sa()||rt(!1);let{basename:s,navigator:a}=X.useContext(hi),{hash:c,pathname:h,search:m}=Au(i,{relative:n}),y=h;return s!=="/"&&(y=h==="/"?s:ei([s,h])),a.createHref({pathname:y,search:m,hash:c})}function Sa(){return X.useContext(xu)!=null}function Ia(){return Sa()||rt(!1),X.useContext(xu).location}function xg(i){X.useContext(hi).static||X.useLayoutEffect(i)}function u0(){let{isDataRoute:i}=X.useContext(di);return i?S0():c0()}function c0(){Sa()||rt(!1);let i=X.useContext(Iu),{basename:e,future:n,navigator:s}=X.useContext(hi),{matches:a}=X.useContext(di),{pathname:c}=Ia(),h=JSON.stringify(Eg(a,n.v7_relativeSplatPath)),m=X.useRef(!1);return xg(()=>{m.current=!0}),X.useCallback(function(v,w){if(w===void 0&&(w={}),!m.current)return;if(typeof v=="number"){s.go(v);return}let T=wg(v,JSON.parse(h),c,w.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ei([e,T.pathname])),(w.replace?s.replace:s.push)(T,w.state,w)},[e,s,h,c,i])}function h0(){let{matches:i}=X.useContext(di),e=i[i.length-1];return e?e.params:{}}function Au(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=X.useContext(hi),{matches:a}=X.useContext(di),{pathname:c}=Ia(),h=JSON.stringify(Eg(a,s.v7_relativeSplatPath));return X.useMemo(()=>wg(i,JSON.parse(h),c,n==="path"),[i,h,c,n])}function d0(i,e){return f0(i,e)}function f0(i,e,n,s){Sa()||rt(!1);let{navigator:a}=X.useContext(hi),{matches:c}=X.useContext(di),h=c[c.length-1],m=h?h.params:{};h&&h.pathname;let y=h?h.pathnameBase:"/";h&&h.route;let v=Ia(),w;if(e){var T;let B=typeof e=="string"?Js(e):e;y==="/"||(T=B.pathname)!=null&&T.startsWith(y)||rt(!1),w=B}else w=v;let C=w.pathname||"/",U=C;if(y!=="/"){let B=y.replace(/^\//,"").split("/");U="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let G=F_(i,{pathname:U}),H=v0(G&&G.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:ei([y,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:ei([y,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,n,s);return e&&H?X.createElement(xu.Provider,{value:{location:ha({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Jr.Pop}},H):H}function p0(){let i=T0(),e=o0(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:a},n):null,null)}const m0=X.createElement(p0,null);class g0 extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?X.createElement(di.Provider,{value:this.props.routeContext},X.createElement(Ig.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y0(i){let{routeContext:e,match:n,children:s}=i,a=X.useContext(Iu);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(di.Provider,{value:e},s)}function v0(i,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var c;if(!n)return null;if(n.errors)i=n.matches;else if((c=s)!=null&&c.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let h=i,m=(a=n)==null?void 0:a.errors;if(m!=null){let w=h.findIndex(T=>T.route.id&&m?.[T.route.id]!==void 0);w>=0||rt(!1),h=h.slice(0,Math.min(h.length,w+1))}let y=!1,v=-1;if(n&&s&&s.v7_partialHydration)for(let w=0;w<h.length;w++){let T=h[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=w),T.route.id){let{loaderData:C,errors:U}=n,G=T.route.loader&&C[T.route.id]===void 0&&(!U||U[T.route.id]===void 0);if(T.route.lazy||G){y=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((w,T,C)=>{let U,G=!1,H=null,B=null;n&&(U=m&&T.route.id?m[T.route.id]:void 0,H=T.route.errorElement||m0,y&&(v<0&&C===0?(I0("route-fallback"),G=!0,B=null):v===C&&(G=!0,B=T.route.hydrateFallbackElement||null)));let le=e.concat(h.slice(0,C+1)),te=()=>{let ie;return U?ie=H:G?ie=B:T.route.Component?ie=X.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=w,X.createElement(y0,{match:T,routeContext:{outlet:w,matches:le,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?X.createElement(g0,{location:n.location,revalidation:n.revalidation,component:H,error:U,children:te(),routeContext:{outlet:null,matches:le,isDataRoute:!0}}):te()},null)}var Ag=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(Ag||{}),Cg=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(Cg||{});function _0(i){let e=X.useContext(Iu);return e||rt(!1),e}function E0(i){let e=X.useContext(Sg);return e||rt(!1),e}function w0(i){let e=X.useContext(di);return e||rt(!1),e}function Rg(i){let e=w0(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function T0(){var i;let e=X.useContext(Ig),n=E0(),s=Rg();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function S0(){let{router:i}=_0(Ag.UseNavigateStable),e=Rg(Cg.UseNavigateStable),n=X.useRef(!1);return xg(()=>{n.current=!0}),X.useCallback(function(a,c){c===void 0&&(c={}),n.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,ha({fromRouteId:e},c)))},[i,e])}const am={};function I0(i,e,n){am[i]||(am[i]=!0)}function x0(i,e){i?.v7_startTransition,i?.v7_relativeSplatPath}function Xr(i){rt(!1)}function A0(i){let{basename:e="/",children:n=null,location:s,navigationType:a=Jr.Pop,navigator:c,static:h=!1,future:m}=i;Sa()&&rt(!1);let y=e.replace(/^\/*/,"/"),v=X.useMemo(()=>({basename:y,navigator:c,static:h,future:ha({v7_relativeSplatPath:!1},m)}),[y,m,c,h]);typeof s=="string"&&(s=Js(s));let{pathname:w="/",search:T="",hash:C="",state:U=null,key:G="default"}=s,H=X.useMemo(()=>{let B=Hs(w,y);return B==null?null:{location:{pathname:B,search:T,hash:C,state:U,key:G},navigationType:a}},[y,w,T,C,U,G,a]);return H==null?null:X.createElement(hi.Provider,{value:v},X.createElement(xu.Provider,{children:n,value:H}))}function C0(i){let{children:e,location:n}=i;return d0(Ch(e),n)}new Promise(()=>{});function Ch(i,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(i,(s,a)=>{if(!X.isValidElement(s))return;let c=[...e,a];if(s.type===X.Fragment){n.push.apply(n,Ch(s.props.children,c));return}s.type!==Xr&&rt(!1),!s.props.index||!s.props.children||rt(!1);let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ch(s.props.children,c)),n.push(h)}),n}function au(){return au=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},au.apply(this,arguments)}function Pg(i,e){if(i==null)return{};var n={},s=Object.keys(i),a,c;for(c=0;c<s.length;c++)a=s[c],!(e.indexOf(a)>=0)&&(n[a]=i[a]);return n}function R0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function P0(i,e){return i.button===0&&(!e||e==="_self")&&!R0(i)}const k0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],N0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],V0="6";try{window.__reactRouterVersion=V0}catch{}const D0=X.createContext({isTransitioning:!1}),b0="startTransition",lm=k_[b0];function L0(i){let{basename:e,children:n,future:s,window:a}=i,c=X.useRef();c.current==null&&(c.current=O_({window:a,v5Compat:!0}));let h=c.current,[m,y]=X.useState({action:h.action,location:h.location}),{v7_startTransition:v}=s||{},w=X.useCallback(T=>{v&&lm?lm(()=>y(T)):y(T)},[y,v]);return X.useLayoutEffect(()=>h.listen(w),[h,w]),X.useEffect(()=>x0(s),[s]),X.createElement(A0,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:h,future:s})}const O0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gr=X.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:c,replace:h,state:m,target:y,to:v,preventScrollReset:w,viewTransition:T}=e,C=Pg(e,k0),{basename:U}=X.useContext(hi),G,H=!1;if(typeof v=="string"&&M0.test(v)&&(G=v,O0))try{let ie=new URL(window.location.href),de=v.startsWith("//")?new URL(ie.protocol+v):new URL(v),ke=Hs(de.pathname,U);de.origin===ie.origin&&ke!=null?v=ke+de.search+de.hash:H=!0}catch{}let B=l0(v,{relative:a}),le=F0(v,{replace:h,state:m,target:y,preventScrollReset:w,relative:a,viewTransition:T});function te(ie){s&&s(ie),ie.defaultPrevented||le(ie)}return X.createElement("a",au({},C,{href:G||B,onClick:H||c?s:te,ref:n,target:y}))}),kg=X.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:a=!1,className:c="",end:h=!1,style:m,to:y,viewTransition:v,children:w}=e,T=Pg(e,N0),C=Au(y,{relative:T.relative}),U=Ia(),G=X.useContext(Sg),{navigator:H,basename:B}=X.useContext(hi),le=G!=null&&U0(C)&&v===!0,te=H.encodeLocation?H.encodeLocation(C).pathname:C.pathname,ie=U.pathname,de=G&&G.navigation&&G.navigation.location?G.navigation.location.pathname:null;a||(ie=ie.toLowerCase(),de=de?de.toLowerCase():null,te=te.toLowerCase()),de&&B&&(de=Hs(de,B)||de);const ke=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Ie=ie===te||!h&&ie.startsWith(te)&&ie.charAt(ke)==="/",k=de!=null&&(de===te||!h&&de.startsWith(te)&&de.charAt(te.length)==="/"),I={isActive:Ie,isPending:k,isTransitioning:le},A=Ie?s:void 0,D;typeof c=="function"?D=c(I):D=[c,Ie?"active":null,k?"pending":null,le?"transitioning":null].filter(Boolean).join(" ");let N=typeof m=="function"?m(I):m;return X.createElement(gr,au({},T,{"aria-current":A,className:D,ref:n,style:N,to:y,viewTransition:v}),typeof w=="function"?w(I):w)});var Rh;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Rh||(Rh={}));var um;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(um||(um={}));function j0(i){let e=X.useContext(Iu);return e||rt(!1),e}function F0(i,e){let{target:n,replace:s,state:a,preventScrollReset:c,relative:h,viewTransition:m}=e===void 0?{}:e,y=u0(),v=Ia(),w=Au(i,{relative:h});return X.useCallback(T=>{if(P0(T,n)){T.preventDefault();let C=s!==void 0?s:ou(v)===ou(w);y(i,{replace:C,state:a,preventScrollReset:c,relative:h,viewTransition:m})}},[v,y,w,s,a,n,i,c,h,m])}function U0(i,e){e===void 0&&(e={});let n=X.useContext(D0);n==null&&rt(!1);let{basename:s}=j0(Rh.useViewTransitionState),a=Au(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Hs(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Hs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(a.pathname,h)!=null||Ah(a.pathname,c)!=null}const nd=X.createContext({admin:0,setAdmin:()=>{}});function B0({children:i}){const[e,n]=X.useState(0);return R.jsx(nd.Provider,{value:{admin:e,setAdmin:n},children:i})}const Ql=({to:i,children:e})=>R.jsx(kg,{to:i,className:({isActive:n})=>`px-3 py-2 rounded-md text-sm font-medium ${n?"bg-brand-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:e});function z0(){const{admin:i}=ed.useContext(nd);return R.jsx("header",{className:"bg-white shadow",children:R.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between h-16",children:[R.jsx("div",{className:"text-brand-600 font-bold text-3xl",children:"YBI"}),R.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[R.jsx(Ql,{to:"/",children:"Home"}),i===1&&R.jsx(Ql,{to:"/upload",children:"Upload Research"}),R.jsx(Ql,{to:"/browse",children:"Browse Research"}),R.jsx(Ql,{to:"/about",children:"About"})]}),R.jsx("div",{className:"md:hidden",children:R.jsx(kg,{to:"/browse",className:"text-sm text-brand-600",children:"Browse"})})]})})}function $0(){return null}function q0(){return X.useEffect(()=>{function i(e){const n=e.target&&e.target.tagName;if(n==="INPUT"||n==="TEXTAREA"||n==="SELECT"||e.target?.isContentEditable)return;const a=window.location.pathname;if(a==="/admin"||a==="/secret-admin"||a==="/upload")return;const c=e.metaKey&&!e.ctrlKey;if((e.ctrlKey||c)&&e.shiftKey&&(e.key==="A"||e.key==="a"))try{window.open("/secret-admin","_blank")}catch(m){console.warn("Failed to open secret admin tab",m)}}return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[]),null}function Kl({children:i,variant:e="primary",size:n="md",disabled:s=!1,className:a="",as:c="button",...h}){const m={primary:"bg-brand-600 text-white hover:bg-brand-700",secondary:"bg-brand-100 text-brand-600 hover:bg-brand-200",outline:"border-2 border-brand-600 text-brand-600 hover:bg-brand-50"},y={sm:"px-3 py-1 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},v="font-semibold rounded-md transition-all duration-200",w=s?"disabled:bg-gray-400 disabled:cursor-not-allowed opacity-50":"",T=`${v} ${m[e]||m.primary} ${y[n]||y.md} ${w} ${a}`;return R.jsx(c,{className:T,disabled:s,...h,children:i})}function H0(){return R.jsxs("div",{className:"space-y-20",children:[R.jsxs("div",{className:"relative text-center overflow-hidden flex flex-col items-center justify-center",style:{backgroundImage:'url("/ybi-hero.png")',backgroundSize:"cover",backgroundPosition:"center",minHeight:"600px"},children:[R.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:'url("/ybi-hero.png")',backgroundSize:"cover",backgroundPosition:"center",filter:"blur(8px)",opacity:.4}}),R.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/20 via-black/30 to-black/40 z-5"}),R.jsxs("div",{className:"relative z-10 px-6 text-white text-center max-w-3xl",children:[R.jsxs("div",{className:"mb-6 animate-fadeInUp",children:[R.jsx("h1",{className:"text-7xl md:text-8xl font-black tracking-tighter mb-2",style:{textShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:"YBI"}),R.jsx("h2",{className:"text-2xl md:text-3xl font-light tracking-widest text-white/95",children:"YOUTH BIOLOGY INSTITUTE"})]}),R.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-12 font-light leading-relaxed animate-fadeInUp",style:{animationDelay:"0.1s"},children:"A student-led research repository advancing biology innovation. Explore, contribute, and drive the future of research."}),R.jsx("div",{className:"animate-fadeInUp",style:{animationDelay:"0.2s"},children:R.jsx(Kl,{as:gr,to:"/browse",variant:"primary",size:"lg",className:"text-lg px-12 py-4 shadow-lg hover:shadow-brand-lg hover:scale-105 transition-all",children:"Explore Research"})})]})]}),R.jsxs("div",{className:"bg-gradient-to-r from-brand-50 to-brand-100 rounded-2xl p-12 md:p-16 mx-6 animate-fadeInUp",children:[R.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"What is YBI?"}),R.jsx("p",{className:"text-lg text-gray-700 leading-relaxed  mb-6",children:"The Youth Biology Institute is a student-led initiative where students passionate about biology share research, ideas, and innovations. We also work with public schools around Karnataka to organise workshops to instil a passion for Biology in them. We work with numerous zealous students on collaborative research projects to help drive our love for Biology."}),R.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[R.jsx(Kl,{as:gr,to:"/browse",variant:"primary",size:"md",children:"Browse Papers"}),R.jsx(Kl,{as:gr,to:"/about",variant:"outline",size:"md",children:"Learn More"})]})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 px-6 py-8",children:[R.jsxs("div",{className:"p-8 border-2 border-brand-200 rounded-xl hover:border-brand-600 hover:shadow-brand transition-all animate-fadeInUp",style:{animationDelay:"0.1s"},children:[R.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Curated Research"}),R.jsx("p",{className:"text-gray-600",children:"Access a carefully organized collection of biology research from students and researchers worldwide."})]}),R.jsxs("div",{className:"p-8 border-2 border-brand-200 rounded-xl hover:border-brand-600 hover:shadow-brand transition-all animate-fadeInUp",style:{animationDelay:"0.2s"},children:[R.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Contribute"}),R.jsx("p",{className:"text-gray-600",children:"Share your research and insights with our growing community. Get visibility and feedback from peers."})]}),R.jsxs("div",{className:"p-8 border-2 border-brand-200 rounded-xl hover:border-brand-600 hover:shadow-brand transition-all animate-fadeInUp",style:{animationDelay:"0.3s"},children:[R.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Network"}),R.jsx("p",{className:"text-gray-600",children:"Connect with students and researchers who share your passion for biology innovation."})]}),R.jsxs("div",{className:"p-8 border-2 border-brand-200 rounded-xl hover:border-brand-600 hover:shadow-brand transition-all animate-fadeInUp",style:{animationDelay:"0.4s"},children:[R.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Learn"}),R.jsx("p",{className:"text-gray-600",children:"Explore diverse perspectives and cutting-edge research to advance your own understanding."})]})]}),R.jsxs("div",{className:"bg-gradient-to-r from-brand-600 to-brand-700 text-white rounded-2xl p-12 md:p-16 mx-6 text-center animate-fadeInUp",children:[R.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to Explore?"}),R.jsx("p",{className:"text-xl text-brand-100 mb-8 max-w-2xl mx-auto",children:"Join numerous students exploring the frontiers of biomechanics research."}),R.jsx(Kl,{as:gr,to:"/browse",variant:"secondary",size:"lg",className:"shadow-lg",children:"Start Exploring Now"})]})]})}const W0=()=>{};var cm={};const Ng=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Q0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],h=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,m=h?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,w=c>>2,T=(c&3)<<4|m>>4;let C=(m&15)<<2|v>>6,U=v&63;y||(U=64,h||(C=64)),s.push(n[w],n[T],n[C],n[U])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ng(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Q0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const T=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||T==null)throw new K0;const C=c<<2|m>>4;if(s.push(C),v!==64){const U=m<<4&240|v>>2;if(s.push(U),T!==64){const G=v<<6&192|T;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class K0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G0=function(i){const e=Ng(i);return Vg.encodeByteArray(e,!0)},lu=function(i){return G0(i).replace(/\./g,"")},Y0=function(i){try{return Vg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const J0=()=>X0().__FIREBASE_DEFAULTS__,Z0=()=>{if(typeof process>"u"||typeof cm>"u")return;const i=cm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},eE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Y0(i[1]);return e&&JSON.parse(e)},rd=()=>{try{return W0()||J0()||Z0()||eE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},tE=i=>rd()?.emulatorHosts?.[i],nE=i=>{const e=tE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Dg=()=>rd()?.config;class rE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function id(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iE(i){return(await fetch(i,{credentials:"include"})).ok}function sE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[lu(JSON.stringify(n)),lu(JSON.stringify(h)),""].join(".")}const sa={};function oE(){const i={prod:[],emulator:[]};for(const e of Object.keys(sa))sa[e]?i.emulator.push(e):i.prod.push(e);return i}function aE(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let hm=!1;function lE(i,e){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||sa[i]===e||sa[i]||hm)return;sa[i]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=oE().prod.length>0;function h(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,U){C.setAttribute("width","24"),C.setAttribute("id",U),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{hm=!0,h()},C}function w(C,U){C.setAttribute("id",U),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function T(){const C=aE(s),U=n("text"),G=document.getElementById(U)||document.createElement("span"),H=n("learnmore"),B=document.getElementById(H)||document.createElement("a"),le=n("preprendIcon"),te=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ie=C.element;m(ie),w(B,H);const de=v();y(te,le),ie.append(te,G,B,de),document.body.appendChild(ie)}c?(G.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function uE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cE(){const i=rd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hE(){return!cE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dE(){try{return typeof indexedDB=="object"}catch{return!1}}function fE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const pE="FirebaseError";class Zs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pE,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bg.prototype.create)}}class bg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?mE(c,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Zs(a,m,s)}}function mE(i,e){return i.replace(gE,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const gE=/\{\$([^}]+)}/g;function uu(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],h=e[a];if(dm(c)&&dm(h)){if(!uu(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function dm(i){return i!==null&&typeof i=="object"}function da(i){return i&&i._delegate?i._delegate:i}class fa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ui="[DEFAULT]";class yE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new rE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_E(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vE(i){return i===Ui?void 0:i}function _E(i){return i.instantiationMode==="EAGER"}class EE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const wE={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},TE=De.INFO,SE={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},IE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=SE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lg{constructor(e){this.name=e,this._logLevel=TE,this._logHandler=IE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const xE=(i,e)=>e.some(n=>i instanceof n);let fm,pm;function AE(){return fm||(fm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CE(){return pm||(pm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Og=new WeakMap,Ph=new WeakMap,Mg=new WeakMap,gh=new WeakMap,sd=new WeakMap;function RE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(ti(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Og.set(n,i)}).catch(()=>{}),sd.set(e,i),e}function PE(i){if(Ph.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Ph.set(i,e)}let kh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ph.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Mg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function kE(i){kh=i(kh)}function NE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(yh(this),e,...n);return Mg.set(s,e.sort?e.sort():[e]),ti(s)}:CE().includes(i)?function(...e){return i.apply(yh(this),e),ti(Og.get(this))}:function(...e){return ti(i.apply(yh(this),e))}}function VE(i){return typeof i=="function"?NE(i):(i instanceof IDBTransaction&&PE(i),xE(i,AE())?new Proxy(i,kh):i)}function ti(i){if(i instanceof IDBRequest)return RE(i);if(gh.has(i))return gh.get(i);const e=VE(i);return e!==i&&(gh.set(i,e),sd.set(e,i)),e}const yh=i=>sd.get(i);function DE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),m=ti(h);return s&&h.addEventListener("upgradeneeded",y=>{s(ti(h.result),y.oldVersion,y.newVersion,ti(h.transaction),y)}),n&&h.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const bE=["get","getKey","getAll","getAllKeys","count"],LE=["put","add","delete","clear"],vh=new Map;function mm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vh.get(e))return vh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=LE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||bE.includes(n)))return;const c=async function(h,...m){const y=this.transaction(h,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return vh.set(e,c),c}kE(i=>({...i,get:(e,n,s)=>mm(e,n)||i.get(e,n,s),has:(e,n)=>!!mm(e,n)||i.has(e,n)}));class OE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ME(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ME(i){return i.getComponent()?.type==="VERSION"}const Nh="@firebase/app",gm="0.14.6";const vr=new Lg("@firebase/app"),jE="@firebase/app-compat",FE="@firebase/analytics-compat",UE="@firebase/analytics",BE="@firebase/app-check-compat",zE="@firebase/app-check",$E="@firebase/auth",qE="@firebase/auth-compat",HE="@firebase/database",WE="@firebase/data-connect",QE="@firebase/database-compat",KE="@firebase/functions",GE="@firebase/functions-compat",YE="@firebase/installations",XE="@firebase/installations-compat",JE="@firebase/messaging",ZE="@firebase/messaging-compat",ew="@firebase/performance",tw="@firebase/performance-compat",nw="@firebase/remote-config",rw="@firebase/remote-config-compat",iw="@firebase/storage",sw="@firebase/storage-compat",ow="@firebase/firestore",aw="@firebase/ai",lw="@firebase/firestore-compat",uw="firebase",cw="12.6.0";const Vh="[DEFAULT]",hw={[Nh]:"fire-core",[jE]:"fire-core-compat",[UE]:"fire-analytics",[FE]:"fire-analytics-compat",[zE]:"fire-app-check",[BE]:"fire-app-check-compat",[$E]:"fire-auth",[qE]:"fire-auth-compat",[HE]:"fire-rtdb",[WE]:"fire-data-connect",[QE]:"fire-rtdb-compat",[KE]:"fire-fn",[GE]:"fire-fn-compat",[YE]:"fire-iid",[XE]:"fire-iid-compat",[JE]:"fire-fcm",[ZE]:"fire-fcm-compat",[ew]:"fire-perf",[tw]:"fire-perf-compat",[nw]:"fire-rc",[rw]:"fire-rc-compat",[iw]:"fire-gcs",[sw]:"fire-gcs-compat",[ow]:"fire-fst",[lw]:"fire-fst-compat",[aw]:"fire-vertex","fire-js":"fire-js",[uw]:"fire-js-all"};const cu=new Map,dw=new Map,Dh=new Map;function ym(i,e){try{i.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function hu(i){const e=i.name;if(Dh.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Dh.set(e,i);for(const n of cu.values())ym(n,i);for(const n of dw.values())ym(n,i);return!0}function fw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function pw(i){return i==null?!1:i.settings!==void 0}const mw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new bg("app","Firebase",mw);class gw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}const yw=cw;function jg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Vh,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ni.create("bad-app-name",{appName:String(a)});if(n||(n=Dg()),!n)throw ni.create("no-options");const c=cu.get(a);if(c){if(uu(n,c.options)&&uu(s,c.config))return c;throw ni.create("duplicate-app",{appName:a})}const h=new EE(a);for(const y of Dh.values())h.addComponent(y);const m=new gw(n,s,h);return cu.set(a,m),m}function vw(i=Vh){const e=cu.get(i);if(!e&&i===Vh&&Dg())return jg();if(!e)throw ni.create("no-app",{appName:i});return e}function zs(i,e,n){let s=hw[i]??i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(h.join(" "));return}hu(new fa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const _w="firebase-heartbeat-database",Ew=1,pa="firebase-heartbeat-store";let _h=null;function Fg(){return _h||(_h=DE(_w,Ew,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(i=>{throw ni.create("idb-open",{originalErrorMessage:i.message})})),_h}async function ww(i){try{const n=(await Fg()).transaction(pa),s=await n.objectStore(pa).get(Ug(i));return await n.done,s}catch(e){if(e instanceof Zs)vr.warn(e.message);else{const n=ni.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}}async function vm(i,e){try{const s=(await Fg()).transaction(pa,"readwrite");await s.objectStore(pa).put(e,Ug(i)),await s.done}catch(n){if(n instanceof Zs)vr.warn(n.message);else{const s=ni.create("idb-set",{originalErrorMessage:n?.message});vr.warn(s.message)}}}function Ug(i){return`${i.name}!${i.options.appId}`}const Tw=1024,Sw=30;class Iw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Aw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_m();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Sw){const a=Cw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_m(),{heartbeatsToSend:n,unsentEntries:s}=xw(this._heartbeatsCache.heartbeats),a=lu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return vr.warn(e),""}}}function _m(){return new Date().toISOString().substring(0,10)}function xw(i,e=Tw){const n=[];let s=i.slice();for(const a of i){const c=n.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),Em(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Em(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Aw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dE()?fE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ww(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Em(i){return lu(JSON.stringify({version:2,heartbeats:i})).length}function Cw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function Rw(i){hu(new fa("platform-logger",e=>new OE(e),"PRIVATE")),hu(new fa("heartbeat",e=>new Iw(e),"PRIVATE")),zs(Nh,gm,i),zs(Nh,gm,"esm2020"),zs("fire-js","")}Rw("");var Pw="firebase",kw="12.6.0";zs(Pw,kw,"app");var wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ri,Bg;(function(){var i;function e(k,I){function A(){}A.prototype=I.prototype,k.F=I.prototype,k.prototype=new A,k.prototype.constructor=k,k.D=function(D,N,L){for(var x=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)x[$e-2]=arguments[$e];return I.prototype[N].apply(D,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,I,A){A||(A=0);const D=Array(16);if(typeof I=="string")for(var N=0;N<16;++N)D[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;N<16;++N)D[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=k.g[0],A=k.g[1],N=k.g[2];let L=k.g[3],x;x=I+(L^A&(N^L))+D[0]+3614090360&4294967295,I=A+(x<<7&4294967295|x>>>25),x=L+(N^I&(A^N))+D[1]+3905402710&4294967295,L=I+(x<<12&4294967295|x>>>20),x=N+(A^L&(I^A))+D[2]+606105819&4294967295,N=L+(x<<17&4294967295|x>>>15),x=A+(I^N&(L^I))+D[3]+3250441966&4294967295,A=N+(x<<22&4294967295|x>>>10),x=I+(L^A&(N^L))+D[4]+4118548399&4294967295,I=A+(x<<7&4294967295|x>>>25),x=L+(N^I&(A^N))+D[5]+1200080426&4294967295,L=I+(x<<12&4294967295|x>>>20),x=N+(A^L&(I^A))+D[6]+2821735955&4294967295,N=L+(x<<17&4294967295|x>>>15),x=A+(I^N&(L^I))+D[7]+4249261313&4294967295,A=N+(x<<22&4294967295|x>>>10),x=I+(L^A&(N^L))+D[8]+1770035416&4294967295,I=A+(x<<7&4294967295|x>>>25),x=L+(N^I&(A^N))+D[9]+2336552879&4294967295,L=I+(x<<12&4294967295|x>>>20),x=N+(A^L&(I^A))+D[10]+4294925233&4294967295,N=L+(x<<17&4294967295|x>>>15),x=A+(I^N&(L^I))+D[11]+2304563134&4294967295,A=N+(x<<22&4294967295|x>>>10),x=I+(L^A&(N^L))+D[12]+1804603682&4294967295,I=A+(x<<7&4294967295|x>>>25),x=L+(N^I&(A^N))+D[13]+4254626195&4294967295,L=I+(x<<12&4294967295|x>>>20),x=N+(A^L&(I^A))+D[14]+2792965006&4294967295,N=L+(x<<17&4294967295|x>>>15),x=A+(I^N&(L^I))+D[15]+1236535329&4294967295,A=N+(x<<22&4294967295|x>>>10),x=I+(N^L&(A^N))+D[1]+4129170786&4294967295,I=A+(x<<5&4294967295|x>>>27),x=L+(A^N&(I^A))+D[6]+3225465664&4294967295,L=I+(x<<9&4294967295|x>>>23),x=N+(I^A&(L^I))+D[11]+643717713&4294967295,N=L+(x<<14&4294967295|x>>>18),x=A+(L^I&(N^L))+D[0]+3921069994&4294967295,A=N+(x<<20&4294967295|x>>>12),x=I+(N^L&(A^N))+D[5]+3593408605&4294967295,I=A+(x<<5&4294967295|x>>>27),x=L+(A^N&(I^A))+D[10]+38016083&4294967295,L=I+(x<<9&4294967295|x>>>23),x=N+(I^A&(L^I))+D[15]+3634488961&4294967295,N=L+(x<<14&4294967295|x>>>18),x=A+(L^I&(N^L))+D[4]+3889429448&4294967295,A=N+(x<<20&4294967295|x>>>12),x=I+(N^L&(A^N))+D[9]+568446438&4294967295,I=A+(x<<5&4294967295|x>>>27),x=L+(A^N&(I^A))+D[14]+3275163606&4294967295,L=I+(x<<9&4294967295|x>>>23),x=N+(I^A&(L^I))+D[3]+4107603335&4294967295,N=L+(x<<14&4294967295|x>>>18),x=A+(L^I&(N^L))+D[8]+1163531501&4294967295,A=N+(x<<20&4294967295|x>>>12),x=I+(N^L&(A^N))+D[13]+2850285829&4294967295,I=A+(x<<5&4294967295|x>>>27),x=L+(A^N&(I^A))+D[2]+4243563512&4294967295,L=I+(x<<9&4294967295|x>>>23),x=N+(I^A&(L^I))+D[7]+1735328473&4294967295,N=L+(x<<14&4294967295|x>>>18),x=A+(L^I&(N^L))+D[12]+2368359562&4294967295,A=N+(x<<20&4294967295|x>>>12),x=I+(A^N^L)+D[5]+4294588738&4294967295,I=A+(x<<4&4294967295|x>>>28),x=L+(I^A^N)+D[8]+2272392833&4294967295,L=I+(x<<11&4294967295|x>>>21),x=N+(L^I^A)+D[11]+1839030562&4294967295,N=L+(x<<16&4294967295|x>>>16),x=A+(N^L^I)+D[14]+4259657740&4294967295,A=N+(x<<23&4294967295|x>>>9),x=I+(A^N^L)+D[1]+2763975236&4294967295,I=A+(x<<4&4294967295|x>>>28),x=L+(I^A^N)+D[4]+1272893353&4294967295,L=I+(x<<11&4294967295|x>>>21),x=N+(L^I^A)+D[7]+4139469664&4294967295,N=L+(x<<16&4294967295|x>>>16),x=A+(N^L^I)+D[10]+3200236656&4294967295,A=N+(x<<23&4294967295|x>>>9),x=I+(A^N^L)+D[13]+681279174&4294967295,I=A+(x<<4&4294967295|x>>>28),x=L+(I^A^N)+D[0]+3936430074&4294967295,L=I+(x<<11&4294967295|x>>>21),x=N+(L^I^A)+D[3]+3572445317&4294967295,N=L+(x<<16&4294967295|x>>>16),x=A+(N^L^I)+D[6]+76029189&4294967295,A=N+(x<<23&4294967295|x>>>9),x=I+(A^N^L)+D[9]+3654602809&4294967295,I=A+(x<<4&4294967295|x>>>28),x=L+(I^A^N)+D[12]+3873151461&4294967295,L=I+(x<<11&4294967295|x>>>21),x=N+(L^I^A)+D[15]+530742520&4294967295,N=L+(x<<16&4294967295|x>>>16),x=A+(N^L^I)+D[2]+3299628645&4294967295,A=N+(x<<23&4294967295|x>>>9),x=I+(N^(A|~L))+D[0]+4096336452&4294967295,I=A+(x<<6&4294967295|x>>>26),x=L+(A^(I|~N))+D[7]+1126891415&4294967295,L=I+(x<<10&4294967295|x>>>22),x=N+(I^(L|~A))+D[14]+2878612391&4294967295,N=L+(x<<15&4294967295|x>>>17),x=A+(L^(N|~I))+D[5]+4237533241&4294967295,A=N+(x<<21&4294967295|x>>>11),x=I+(N^(A|~L))+D[12]+1700485571&4294967295,I=A+(x<<6&4294967295|x>>>26),x=L+(A^(I|~N))+D[3]+2399980690&4294967295,L=I+(x<<10&4294967295|x>>>22),x=N+(I^(L|~A))+D[10]+4293915773&4294967295,N=L+(x<<15&4294967295|x>>>17),x=A+(L^(N|~I))+D[1]+2240044497&4294967295,A=N+(x<<21&4294967295|x>>>11),x=I+(N^(A|~L))+D[8]+1873313359&4294967295,I=A+(x<<6&4294967295|x>>>26),x=L+(A^(I|~N))+D[15]+4264355552&4294967295,L=I+(x<<10&4294967295|x>>>22),x=N+(I^(L|~A))+D[6]+2734768916&4294967295,N=L+(x<<15&4294967295|x>>>17),x=A+(L^(N|~I))+D[13]+1309151649&4294967295,A=N+(x<<21&4294967295|x>>>11),x=I+(N^(A|~L))+D[4]+4149444226&4294967295,I=A+(x<<6&4294967295|x>>>26),x=L+(A^(I|~N))+D[11]+3174756917&4294967295,L=I+(x<<10&4294967295|x>>>22),x=N+(I^(L|~A))+D[2]+718787259&4294967295,N=L+(x<<15&4294967295|x>>>17),x=A+(L^(N|~I))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+L&4294967295}s.prototype.v=function(k,I){I===void 0&&(I=k.length);const A=I-this.blockSize,D=this.C;let N=this.h,L=0;for(;L<I;){if(N==0)for(;L<=A;)a(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<I;)if(D[N++]=k.charCodeAt(L++),N==this.blockSize){a(this,D),N=0;break}}else for(;L<I;)if(D[N++]=k[L++],N==this.blockSize){a(this,D),N=0;break}}this.h=N,this.o+=I},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;I=this.o*8;for(var A=k.length-8;A<k.length;++A)k[A]=I&255,I/=256;for(this.v(k),k=Array(16),I=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)k[I++]=this.g[A]>>>D&255;return k};function c(k,I){var A=m;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=I(k)}function h(k,I){this.h=I;const A=[];let D=!0;for(let N=k.length-1;N>=0;N--){const L=k[N]|0;D&&L==I||(A[N]=L,D=!1)}this.g=A}var m={};function y(k){return-128<=k&&k<128?c(k,function(I){return new h([I|0],I<0?-1:0)}):new h([k|0],k<0?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return T;if(k<0)return B(v(-k));const I=[];let A=1;for(let D=0;k>=A;D++)I[D]=k/A|0,A*=4294967296;return new h(I,0)}function w(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return B(w(k.substring(1),I));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=v(Math.pow(I,8));let D=T;for(let L=0;L<k.length;L+=8){var N=Math.min(8,k.length-L);const x=parseInt(k.substring(L,L+N),I);N<8?(N=v(Math.pow(I,N)),D=D.j(N).add(v(x))):(D=D.j(A),D=D.add(v(x)))}return D}var T=y(0),C=y(1),U=y(16777216);i=h.prototype,i.m=function(){if(H(this))return-B(this).m();let k=0,I=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);k+=(D>=0?D:4294967296+D)*I,I*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(G(this))return"0";if(H(this))return"-"+B(this).toString(k);const I=v(Math.pow(k,6));var A=this;let D="";for(;;){const N=de(A,I).g;A=le(A,N.j(I));let L=((A.g.length>0?A.g[0]:A.h)>>>0).toString(k);if(A=N,G(A))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function G(k){if(k.h!=0)return!1;for(let I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function H(k){return k.h==-1}i.l=function(k){return k=le(this,k),H(k)?-1:G(k)?0:1};function B(k){const I=k.g.length,A=[];for(let D=0;D<I;D++)A[D]=~k.g[D];return new h(A,~k.h).add(C)}i.abs=function(){return H(this)?B(this):this},i.add=function(k){const I=Math.max(this.g.length,k.g.length),A=[];let D=0;for(let N=0;N<=I;N++){let L=D+(this.i(N)&65535)+(k.i(N)&65535),x=(L>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);D=x>>>16,L&=65535,x&=65535,A[N]=x<<16|L}return new h(A,A[A.length-1]&-2147483648?-1:0)};function le(k,I){return k.add(B(I))}i.j=function(k){if(G(this)||G(k))return T;if(H(this))return H(k)?B(this).j(B(k)):B(B(this).j(k));if(H(k))return B(this.j(B(k)));if(this.l(U)<0&&k.l(U)<0)return v(this.m()*k.m());const I=this.g.length+k.g.length,A=[];for(var D=0;D<2*I;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<k.g.length;N++){const L=this.i(D)>>>16,x=this.i(D)&65535,$e=k.i(N)>>>16,yt=k.i(N)&65535;A[2*D+2*N]+=x*yt,te(A,2*D+2*N),A[2*D+2*N+1]+=L*yt,te(A,2*D+2*N+1),A[2*D+2*N+1]+=x*$e,te(A,2*D+2*N+1),A[2*D+2*N+2]+=L*$e,te(A,2*D+2*N+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new h(A,0)};function te(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function ie(k,I){this.g=k,this.h=I}function de(k,I){if(G(I))throw Error("division by zero");if(G(k))return new ie(T,T);if(H(k))return I=de(B(k),I),new ie(B(I.g),B(I.h));if(H(I))return I=de(k,B(I)),new ie(B(I.g),I.h);if(k.g.length>30){if(H(k)||H(I))throw Error("slowDivide_ only works with positive integers.");for(var A=C,D=I;D.l(k)<=0;)A=ke(A),D=ke(D);var N=Ie(A,1),L=Ie(D,1);for(D=Ie(D,2),A=Ie(A,2);!G(D);){var x=L.add(D);x.l(k)<=0&&(N=N.add(A),L=x),D=Ie(D,1),A=Ie(A,1)}return I=le(k,N.j(I)),new ie(N,I)}for(N=T;k.l(I)>=0;){for(A=Math.max(1,Math.floor(k.m()/I.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=v(A),x=L.j(I);H(x)||x.l(k)>0;)A-=D,L=v(A),x=L.j(I);G(L)&&(L=C),N=N.add(L),k=le(k,x)}return new ie(N,k)}i.B=function(k){return de(this,k).h},i.and=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)&k.i(D);return new h(A,this.h&k.h)},i.or=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)|k.i(D);return new h(A,this.h|k.h)},i.xor=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)^k.i(D);return new h(A,this.h^k.h)};function ke(k){const I=k.g.length+1,A=[];for(let D=0;D<I;D++)A[D]=k.i(D)<<1|k.i(D-1)>>>31;return new h(A,k.h)}function Ie(k,I){const A=I>>5;I%=32;const D=k.g.length-A,N=[];for(let L=0;L<D;L++)N[L]=I>0?k.i(L+A)>>>I|k.i(L+A+1)<<32-I:k.i(L+A);return new h(N,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Bg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,ri=h}).apply(typeof wm<"u"?wm:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zg,ea,$g,eu,bh,qg,Hg,Wg;(function(){var i,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in g))break e;g=g[M]}l=l[l.length-1],E=g[l],p=p(E),p!=E&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(p){var g=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&g.push([E,p[E]]);return g}});var c=c||{},h=this||self;function m(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function y(l,p,g){return l.call.apply(l.bind,arguments)}function v(l,p,g){return v=y,v.apply(null,arguments)}function w(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function T(l,p){function g(){}g.prototype=p.prototype,l.Z=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(E,M,z){for(var Z=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)Z[Ee-2]=arguments[Ee];return p.prototype[M].apply(E,Z)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function U(l){const p=l.length;if(p>0){const g=Array(p);for(let E=0;E<p;E++)g[E]=l[E];return g}return[]}function G(l,p){for(let E=1;E<arguments.length;E++){const M=arguments[E];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=l.length||0;const z=M.length||0;l.length=g+z;for(let Z=0;Z<z;Z++)l[g+Z]=M[Z]}else l.push(M)}}class H{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function B(l){h.setTimeout(()=>{throw l},0)}function le(){var l=k;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class te{constructor(){this.h=this.g=null}add(p,g){const E=ie.get();E.set(p,g),this.h?this.h.next=E:this.g=E,this.h=E}}var ie=new H(()=>new de,l=>l.reset());class de{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,Ie=!1,k=new te,I=()=>{const l=Promise.resolve(void 0);ke=()=>{l.then(A)}};function A(){for(var l;l=le();){try{l.h.call(l.g)}catch(g){B(g)}var p=ie;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}Ie=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};h.addEventListener("test",g,p),h.removeEventListener("test",g,p)}catch{}return l})();function x(l){return/^[\s\xa0]*$/.test(l)}function $e(l,p){N.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}T($e,N),$e.prototype.init=function(l,p){const g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),kt=0;function Ye(l,p,g,E,M){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!E,this.ha=M,this.key=++kt,this.da=this.fa=!1}function ee(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function fe(l,p,g){for(const E in l)p.call(g,l[E],E,l)}function se(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function b(l){const p={};for(const g in l)p[g]=l[g];return p}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(l,p){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)l[g]=E[g];for(let z=0;z<W.length;z++)g=W[z],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function Se(l){this.src=l,this.g={},this.h=0}Se.prototype.add=function(l,p,g,E,M){const z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);const Z=Ce(l,p,E,M);return Z>-1?(p=l[Z],g||(p.fa=!1)):(p=new Ye(p,this.src,z,!!E,M),p.fa=g,l.push(p)),p};function Ae(l,p){const g=p.type;if(g in l.g){var E=l.g[g],M=Array.prototype.indexOf.call(E,p,void 0),z;(z=M>=0)&&Array.prototype.splice.call(E,M,1),z&&(ee(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Ce(l,p,g,E){for(let M=0;M<l.length;++M){const z=l[M];if(!z.da&&z.listener==p&&z.capture==!!g&&z.ha==E)return M}return-1}var je="closure_lm_"+(Math.random()*1e6|0),be={};function Be(l,p,g,E,M){if(Array.isArray(p)){for(let z=0;z<p.length;z++)Be(l,p[z],g,E,M);return null}return g=so(g),l&&l[yt]?l.J(p,g,m(E)?!!E.capture:!1,M):Ft(l,p,g,!1,E,M)}function Ft(l,p,g,E,M,z){if(!p)throw Error("Invalid event type");const Z=m(M)?!!M.capture:!!M;let Ee=Ji(l);if(Ee||(l[je]=Ee=new Se(l)),g=Ee.add(p,g,E,Z,z),g.proxy)return g;if(E=Yi(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)L||(M=Z),M===void 0&&(M=!1),l.addEventListener(p.toString(),E,M);else if(l.attachEvent)l.attachEvent(Xi(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Yi(){function l(g){return p.call(l.src,l.listener,g)}const p=Na;return l}function io(l,p,g,E,M){if(Array.isArray(p))for(var z=0;z<p.length;z++)io(l,p[z],g,E,M);else E=m(E)?!!E.capture:!!E,g=so(g),l&&l[yt]?(l=l.i,z=String(p).toString(),z in l.g&&(p=l.g[z],g=Ce(p,g,E,M),g>-1&&(ee(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete l.g[z],l.h--)))):l&&(l=Ji(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ce(p,g,E,M)),(g=l>-1?p[l]:null)&&wr(g))}function wr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[yt])Ae(p.i,l);else{var g=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(g,E,l.capture):p.detachEvent?p.detachEvent(Xi(g),E):p.addListener&&p.removeListener&&p.removeListener(E),(g=Ji(p))?(Ae(g,l),g.h==0&&(g.src=null,p[je]=null)):ee(l)}}}function Xi(l){return l in be?be[l]:be[l]="on"+l}function Na(l,p){if(l.da)l=!0;else{p=new $e(p,this);const g=l.listener,E=l.ha||l.src;l.fa&&wr(l),l=g.call(E,p)}return l}function Ji(l){return l=l[je],l instanceof Se?l:null}var fi="__closure_events_fn_"+(Math.random()*1e9>>>0);function so(l){return typeof l=="function"?l:(l[fi]||(l[fi]=function(p){return l.handleEvent(p)}),l[fi])}function lt(){D.call(this),this.i=new Se(this),this.M=this,this.G=null}T(lt,D),lt.prototype[yt]=!0,lt.prototype.removeEventListener=function(l,p,g,E){io(this,l,p,g,E)};function it(l,p){var g,E=l.G;if(E)for(g=[];E;E=E.G)g.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new N(p,l);else if(p instanceof N)p.target=p.target||l;else{var M=p;p=new N(E,l),Te(p,M)}M=!0;let z,Z;if(g)for(Z=g.length-1;Z>=0;Z--)z=p.g=g[Z],M=mn(z,E,!0,p)&&M;if(z=p.g=l,M=mn(z,E,!0,p)&&M,M=mn(z,E,!1,p)&&M,g)for(Z=0;Z<g.length;Z++)z=p.g=g[Z],M=mn(z,E,!1,p)&&M}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const g=l.g[p];for(let E=0;E<g.length;E++)ee(g[E]);delete l.g[p],l.h--}}this.G=null},lt.prototype.J=function(l,p,g,E){return this.i.add(String(l),p,!1,g,E)},lt.prototype.K=function(l,p,g,E){return this.i.add(String(l),p,!0,g,E)};function mn(l,p,g,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let z=0;z<p.length;++z){const Z=p[z];if(Z&&!Z.da&&Z.capture==g){const Ee=Z.listener,st=Z.ha||Z.src;Z.fa&&Ae(l.i,Z),M=Ee.call(st,E)!==!1&&M}}return M&&!E.defaultPrevented}function oo(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(l,p||0)}function ao(l){l.g=oo(()=>{l.g=null,l.i&&(l.i=!1,ao(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Va extends D{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(l){D.call(this),this.h=l,this.g={}}T(Tr,D);var lo=[];function Zi(l){fe(l.g,function(p,g){this.g.hasOwnProperty(g)&&wr(p)},l),l.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),Zi(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=h.JSON.stringify,Da=h.JSON.parse,pi=class{stringify(l){return h.JSON.stringify(l,void 0)}parse(l){return h.JSON.parse(l,void 0)}};function Ir(){}function ba(){}var xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function es(){N.call(this,"d")}T(es,N);function uo(){N.call(this,"c")}T(uo,N);var gn={},ts=null;function Ar(){return ts=ts||new lt}gn.Ia="serverreachability";function ns(l){N.call(this,gn.Ia,l)}T(ns,N);function Jn(l){const p=Ar();it(p,new ns(p))}gn.STAT_EVENT="statevent";function Zn(l,p){N.call(this,gn.STAT_EVENT,l),this.stat=p}T(Zn,N);function tt(l){const p=Ar();it(p,new Zn(p,l))}gn.Ja="timingevent";function co(l,p){N.call(this,gn.Ja,l),this.size=p}T(co,N);function Cr(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){l()},p)}function Rr(){this.g=!0}Rr.prototype.ua=function(){this.g=!1};function La(l,p,g,E,M,z){l.info(function(){if(l.g)if(z){var Z="",Ee=z.split("&");for(let Ue=0;Ue<Ee.length;Ue++){var st=Ee[Ue].split("=");if(st.length>1){const ut=st[0];st=st[1];const en=ut.split("_");Z=en.length>=2&&en[1]=="type"?Z+(ut+"="+st+"&"):Z+(ut+"=redacted&")}}}else Z=null;else Z=z;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+p+`
`+g+`
`+Z})}function Oa(l,p,g,E,M,z,Z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+p+`
`+g+`
`+z+" "+Z})}function An(l,p,g,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+mi(l,g)+(E?" "+E:"")})}function Ma(l,p){l.info(function(){return"TIMEOUT: "+p})}Rr.prototype.info=function(){};function mi(l,p){if(!l.g)return p;if(!p)return null;try{const z=JSON.parse(p);if(z){for(l=0;l<z.length;l++)if(Array.isArray(z[l])){var g=z[l];if(!(g.length<2)){var E=g[1];if(Array.isArray(E)&&!(E.length<1)){var M=E[0];if(M!="noop"&&M!="stop"&&M!="close")for(let Z=1;Z<E.length;Z++)E[Z]=""}}}}return Sr(z)}catch{return p}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ja;function er(){}T(er,Ir),er.prototype.g=function(){return new XMLHttpRequest},ja=new er;function Cn(l){return encodeURIComponent(String(l))}function rs(l){var p=1;l=l.split(":");const g=[];for(;p>0&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function sn(l,p,g,E){this.j=l,this.i=p,this.l=g,this.S=E||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fa}function Fa(){this.i=null,this.g="",this.h=!1}var Ua={},ho={};function yn(l,p,g){l.M=1,l.A=nr(on(p)),l.u=g,l.R=!0,fo(l,null)}function fo(l,p){l.F=Date.now(),gi(l),l.B=on(l.A);var g=l.B,E=l.S;Array.isArray(E)||(E=[String(E)]),So(g.i,"t",E),l.C=0,g=l.j.L,l.h=new Fa,l.g=Ya(l.j,g?p:null,!l.u),l.P>0&&(l.O=new Va(v(l.Y,l,l.g),l.P)),p=l.V,g=l.g,E=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(lo[0]=M.toString()),M=lo);for(let z=0;z<M.length;z++){const Z=Be(g,M[z],E||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=l.J?b(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),Jn(),La(l.i,l.v,l.B,l.l,l.S,l.u)}sn.prototype.ba=function(l){l=l.target;const p=this.O;p&&bn(l)==3?p.j():this.Y(l)},sn.prototype.Y=function(l){try{if(l==this.g)e:{const Ee=bn(this.g),st=this.g.ya(),Ue=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||Ka(this.g)))){this.K||Ee!=4||st==7||(st==8||Ue<=0?Jn(3):Jn(2)),is(this);var p=this.g.ca();this.X=p;var g=Ba(this);if(this.o=p==200,Oa(this.i,this.v,this.B,this.l,this.S,Ee,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,M=this.g;if((E=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(E)){var z=E;break t}}z=null}if(l=z)An(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,l);else{this.o=!1,this.m=3,tt(12),tr(this),yi(this);break e}}if(this.R){l=!0;let ut;for(;!this.K&&this.C<g.length;)if(ut=$a(this,g),ut==ho){Ee==4&&(this.m=4,tt(14),l=!1),An(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Ua){this.m=4,tt(15),An(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else An(this.i,this.l,ut,null),He(this,ut);if(za(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||g.length!=0||this.h.h||(this.m=1,tt(16),l=!1),this.o=this.o&&l,!l)An(this.i,this.l,g,"[Invalid Chunked Response]"),tr(this),yi(this);else if(g.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Ai(Z),Z.P=!0,tt(11))}}else An(this.i,this.l,g,null),He(this,g);Ee==4&&tr(this),this.o&&!this.K&&(Ee==4?ps(this.j,this):(this.o=!1,gi(this)))}else xo(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),tr(this),yi(this)}}}catch{}finally{}};function Ba(l){if(!za(l))return l.g.la();const p=Ka(l.g);if(p==="")return"";let g="";const E=p.length,M=bn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return tr(l),yi(l),"";l.h.i=new h.TextDecoder}for(let z=0;z<E;z++)l.h.h=!0,g+=l.h.i.decode(p[z],{stream:!(M&&z==E-1)});return p.length=0,l.h.g+=g,l.C=0,l.h.g}function za(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function $a(l,p){var g=l.C,E=p.indexOf(`
`,g);return E==-1?ho:(g=Number(p.substring(g,E)),isNaN(g)?Ua:(E+=1,E+g>p.length?ho:(p=p.slice(E,E+g),l.C=E+g,p)))}sn.prototype.cancel=function(){this.K=!0,tr(this)};function gi(l){l.T=Date.now()+l.H,po(l,l.H)}function po(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Cr(v(l.aa,l),p)}function is(l){l.D&&(h.clearTimeout(l.D),l.D=null)}sn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Ma(this.i,this.B),this.M!=2&&(Jn(),tt(17)),tr(this),this.m=2,yi(this)):po(this,this.T-l)};function yi(l){l.j.I==0||l.K||ps(l.j,l)}function tr(l){is(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,Zi(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function He(l,p){try{var g=l.j;if(g.I!=0&&(g.g==l||go(g.h,l))){if(!l.L&&go(g.h,l)&&g.I==3){try{var E=g.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)fs(g),Jt(g);else break e;Mn(g),tt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Cr(v(g.Va,g),6e3));vi(g.h)<=1&&g.ta&&(g.ta=void 0)}else Zt(g,11)}else if((l.L||g.g==l)&&fs(g),!x(p))for(M=g.Ba.g.parse(p),p=0;p<M.length;p++){let Ue=M[p];const ut=Ue[0];if(!(ut<=g.K))if(g.K=ut,Ue=Ue[1],g.I==2)if(Ue[0]=="c"){g.M=Ue[1],g.ba=Ue[2];const en=Ue[3];en!=null&&(g.ka=en,g.j.info("VER="+g.ka));const ar=Ue[4];ar!=null&&(g.za=ar,g.j.info("SVER="+g.za));const jn=Ue[5];jn!=null&&typeof jn=="number"&&jn>0&&(E=1.5*jn,g.O=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const Fn=l.g;if(Fn){const ys=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var z=E.h;z.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(os(z,z.h),z.h=null))}if(E.G){const Ro=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(E.wa=Ro,Me(E.J,E.G,Ro))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),E=g;var Z=l;if(E.na=Co(E,E.L?E.ba:null,E.W),Z.L){_i(E.h,Z);var Ee=Z,st=E.O;st&&(Ee.H=st),Ee.D&&(is(Ee),gi(Ee)),E.g=Z}else Nt(E);g.i.length>0&&or(g)}else Ue[0]!="stop"&&Ue[0]!="close"||Zt(g,7);else g.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Zt(g,7):hs(g):Ue[0]!="noop"&&g.l&&g.l.qa(Ue),g.A=0)}}Jn(4)}catch{}}var Bu=class{constructor(l,p){this.g=l,this.map=p}};function ss(l){this.l=l||10,h.PerformanceNavigationTiming?(l=h.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function vi(l){return l.h?1:l.g?l.g.size:0}function go(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function os(l,p){l.g?l.g.add(p):l.h=p}function _i(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}ss.prototype.cancel=function(){if(this.i=Gt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Gt(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.G);return p}return U(l.i)}var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yt(l,p){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const E=l[g].indexOf("=");let M,z=null;E>=0?(M=l[g].substring(0,E),z=l[g].substring(E+1)):M=l[g],p(M,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Rn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof Rn?(this.l=l.l,Ei(this,l.j),this.o=l.o,this.g=l.g,Pn(this,l.u),this.h=l.h,Nr(this,Io(l.i)),this.m=l.m):l&&(p=String(l).match(qa))?(this.l=!1,Ei(this,p[1]||"",!0),this.o=wi(p[2]||""),this.g=wi(p[3]||"",!0),Pn(this,p[4]),this.h=wi(p[5]||"",!0),Nr(this,p[6]||"",!0),this.m=wi(p[7]||"")):(this.l=!1,this.i=new Ne(null,this.l))}Rn.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(Ti(p,vo,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Ti(p,vo,!0),"@"),l.push(Cn(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ti(g,g.charAt(0)=="/"?Si:_o,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ti(g,Eo)),l.join("")},Rn.prototype.resolve=function(l){const p=on(this);let g=!!l.j;g?Ei(p,l.j):g=!!l.o,g?p.o=l.o:g=!!l.g,g?p.g=l.g:g=l.u!=null;var E=l.h;if(g)Pn(p,l.u);else if(g=!!l.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var M=p.h.lastIndexOf("/");M!=-1&&(E=p.h.slice(0,M+1)+E)}if(M=E,M==".."||M==".")E="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){E=M.lastIndexOf("/",0)==0,M=M.split("/");const z=[];for(let Z=0;Z<M.length;){const Ee=M[Z++];Ee=="."?E&&Z==M.length&&z.push(""):Ee==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),E&&Z==M.length&&z.push("")):(z.push(Ee),E=!0)}E=z.join("/")}else E=M}return g?p.h=E:g=l.i.toString()!=="",g?Nr(p,Io(l.i)):g=!!l.m,g&&(p.m=l.m),p};function on(l){return new Rn(l)}function Ei(l,p,g){l.j=g?wi(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Pn(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Nr(l,p,g){p instanceof Ne?(l.i=p,ls(l.i,l.l)):(g||(p=Ti(p,zu)),l.i=new Ne(p,l.l))}function Me(l,p,g){l.i.set(p,g)}function nr(l){return Me(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function wi(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ti(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,yo),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function yo(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var vo=/[#\/\?@]/g,_o=/[#\?:]/g,Si=/[#\?]/g,zu=/[#\?@]/g,Eo=/#/g;function Ne(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function kn(l){l.g||(l.g=new Map,l.h=0,l.i&&Yt(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}i=Ne.prototype,i.add=function(l,p){kn(this),this.i=null,l=Nn(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function wo(l,p){kn(l),p=Nn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function as(l,p){return kn(l),p=Nn(l,p),l.g.has(p)}i.forEach=function(l,p){kn(this),this.g.forEach(function(g,E){g.forEach(function(M){l.call(p,M,E,this)},this)},this)};function To(l,p){kn(l);let g=[];if(typeof p=="string")as(l,p)&&(g=g.concat(l.g.get(Nn(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)g=g.concat(l[p]);return g}i.set=function(l,p){return kn(this),this.i=null,l=Nn(this,l),as(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=To(this,l),l.length>0?String(l[0]):p):p};function So(l,p,g){wo(l,p),g.length>0&&(l.i=null,l.g.set(Nn(l,p),U(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var g=p[E];const M=Cn(g);g=To(this,g);for(let z=0;z<g.length;z++){let Z=M;g[z]!==""&&(Z+="="+Cn(g[z])),l.push(Z)}}return this.i=l.join("&")};function Io(l){const p=new Ne;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Nn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function ls(l,p){p&&!l.j&&(kn(l),l.i=null,l.g.forEach(function(g,E){const M=E.toLowerCase();E!=M&&(wo(this,E),So(this,M,g))},l)),l.j=p}function Vn(l,p){const g=new Rr;if(h.Image){const E=new Image;E.onload=w(St,g,"TestLoadImage: loaded",!0,p,E),E.onerror=w(St,g,"TestLoadImage: error",!1,p,E),E.onabort=w(St,g,"TestLoadImage: abort",!1,p,E),E.ontimeout=w(St,g,"TestLoadImage: timeout",!1,p,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function Dn(l,p){const g=new Rr,E=new AbortController,M=setTimeout(()=>{E.abort(),St(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(z=>{clearTimeout(M),z.ok?St(g,"TestPingServer: ok",!0,p):St(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),St(g,"TestPingServer: error",!1,p)})}function St(l,p,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function Ii(){this.g=new pi}function rr(l){this.i=l.Sb||null,this.h=l.ab||!1}T(rr,Ir),rr.prototype.g=function(){return new Xt(this.i,this.h)};function Xt(l,p){lt.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Xt,lt),i=Xt.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,vn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},i.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,vn(this)),this.g&&(this.readyState=3,vn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ha(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ha(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}i.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Vr(this):vn(this),this.readyState==3&&Ha(this)}},i.Oa=function(l){this.g&&(this.response=this.responseText=l,Vr(this))},i.Na=function(l){this.g&&(this.response=l,Vr(this))},i.ga=function(){this.g&&Vr(this)};function Vr(l){l.readyState=4,l.l=null,l.j=null,l.B=null,vn(l)}i.setRequestHeader=function(l,p){this.A.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function vn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Xt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Wa(l){let p="";return fe(l,function(g,E){p+=E,p+=":",p+=g,p+=`\r
`}),p}function us(l,p,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=Wa(g),typeof l=="string"?g!=null&&Cn(g):Me(l,p,g))}function ze(l){lt.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ze,lt);var Qa=/^https?$/i,$u=["POST","PUT"];i=ze.prototype,i.Fa=function(l){this.H=l},i.ea=function(l,p,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ja.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(z){Dr(this,z);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())g.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),M=h.FormData&&l instanceof h.FormData,!(Array.prototype.indexOf.call($u,p,void 0)>=0)||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of g)this.g.setRequestHeader(z,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(z){Dr(this,z)}};function Dr(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,br(l),sr(l)}function br(l){l.A||(l.A=!0,it(l,"complete"),it(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,it(this,"complete"),it(this,"abort"),sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ir(this):this.Xa())},i.Xa=function(){ir(this)};function ir(l){if(l.h&&typeof c<"u"){if(l.v&&bn(l)==4)setTimeout(l.Ca.bind(l),0);else if(it(l,"readystatechange"),bn(l)==4){l.h=!1;try{const z=l.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var E;if(E=z===0){let Z=String(l.D).match(qa)[1]||null;!Z&&h.self&&h.self.location&&(Z=h.self.location.protocol.slice(0,-1)),E=!Qa.test(Z?Z.toLowerCase():"")}g=E}if(g)it(l,"complete"),it(l,"success");else{l.o=6;try{var M=bn(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",br(l)}}finally{sr(l)}}}}function sr(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,p||it(l,"ready");try{g.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function bn(l){return l.g?l.g.readyState:0}i.ca=function(){try{return bn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Da(p)}};function Ka(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function xo(l){const p={};l=(l.g&&bn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(x(l[E]))continue;var g=rs(l[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=p[M]||[];p[M]=z,z.push(g)}se(p,function(E){return E.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function cs(l){this.za=0,this.i=[],this.j=new Rr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ln("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ln("baseRetryDelayMs",5e3,l),this.Za=Ln("retryDelaySeedMs",1e4,l),this.Ta=Ln("forwardChannelMaxRetries",2,l),this.va=Ln("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new ss(l&&l.concurrentRequestLimit),this.Ba=new Ii,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=cs.prototype,i.ka=8,i.I=1,i.connect=function(l,p,g,E){tt(0),this.W=l,this.H=p||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.J=Co(this,null,this.W),or(this)};function hs(l){if(ds(l),l.I==3){var p=l.V++,g=on(l.J);if(Me(g,"SID",l.M),Me(g,"RID",p),Me(g,"TYPE","terminate"),On(l,g),p=new sn(l,l.j,p),p.M=2,p.A=nr(on(g)),g=!1,h.navigator&&h.navigator.sendBeacon)try{g=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&h.Image&&(new Image().src=p.A,g=!0),g||(p.g=Ya(p.j,null),p.g.ea(p.A)),p.F=Date.now(),gi(p)}Ci(l)}function Jt(l){l.g&&(Ai(l),l.g.cancel(),l.g=null)}function ds(l){Jt(l),l.v&&(h.clearTimeout(l.v),l.v=null),fs(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&h.clearTimeout(l.m),l.m=null)}function or(l){if(!mo(l.h)&&!l.m){l.m=!0;var p=l.Ea;ke||I(),Ie||(ke(),Ie=!0),k.add(p,l),l.D=0}}function Ga(l,p){return vi(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Cr(v(l.Ea,l,p),ms(l,l.D)),l.D++,!0)}i.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new sn(this,this.j,l);let z=this.o;if(this.U&&(z?(z=b(z),Te(z,this.U)):z=this.U),this.u!==null||this.R||(M.J=z,z=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Ao(this,M,p),g=on(this.J),Me(g,"RID",l),Me(g,"CVER",22),this.G&&Me(g,"X-HTTP-Session-Id",this.G),On(this,g),z&&(this.R?p="headers="+Cn(Wa(z))+"&"+p:this.u&&us(g,this.u,z)),os(this.h,M),this.Ra&&Me(g,"TYPE","init"),this.S?(Me(g,"$req",p),Me(g,"SID","null"),M.U=!0,yn(M,g,null)):yn(M,g,p),this.I=2}}else this.I==3&&(l?xi(this,l):this.i.length==0||mo(this.h)||xi(this))};function xi(l,p){var g;p?g=p.l:g=l.V++;const E=on(l.J);Me(E,"SID",l.M),Me(E,"RID",g),Me(E,"AID",l.K),On(l,E),l.u&&l.o&&us(E,l.u,l.o),g=new sn(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),p&&(l.i=p.G.concat(l.i)),p=Ao(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),os(l.h,g),yn(g,E,p)}function On(l,p){l.H&&fe(l.H,function(g,E){Me(p,E,g)}),l.l&&fe({},function(g,E){Me(p,E,g)})}function Ao(l,p,g){g=Math.min(l.i.length,g);const E=l.l?v(l.l.Ka,l.l,l):null;e:{var M=l.i;let Ee=-1;for(;;){const st=["count="+g];Ee==-1?g>0?(Ee=M[0].g,st.push("ofs="+Ee)):Ee=0:st.push("ofs="+Ee);let Ue=!0;for(let ut=0;ut<g;ut++){var z=M[ut].g;const en=M[ut].map;if(z-=Ee,z<0)Ee=Math.max(0,M[ut].g-100),Ue=!1;else try{z="req"+z+"_"||"";try{var Z=en instanceof Map?en:Object.entries(en);for(const[ar,jn]of Z){let Fn=jn;m(jn)&&(Fn=Sr(jn)),st.push(z+ar+"="+encodeURIComponent(Fn))}}catch(ar){throw st.push(z+"type="+encodeURIComponent("_badmap")),ar}}catch{E&&E(en)}}if(Ue){Z=st.join("&");break e}}Z=void 0}return l=l.i.splice(0,g),p.G=l,Z}function Nt(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;ke||I(),Ie||(ke(),Ie=!0),k.add(p,l),l.A=0}}function Mn(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Cr(v(l.Da,l),ms(l,l.A)),l.A++,!0)}i.Da=function(){if(this.v=null,Lr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Cr(v(this.Wa,this),l)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),Jt(this),Lr(this))};function Ai(l){l.B!=null&&(h.clearTimeout(l.B),l.B=null)}function Lr(l){l.g=new sn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=on(l.na);Me(p,"RID","rpc"),Me(p,"SID",l.M),Me(p,"AID",l.K),Me(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Me(p,"TO",l.ia),Me(p,"TYPE","xmlhttp"),On(l,p),l.u&&l.o&&us(p,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=nr(on(p)),g.u=null,g.R=!0,fo(g,l)}i.Va=function(){this.C!=null&&(this.C=null,Jt(this),Mn(this),tt(19))};function fs(l){l.C!=null&&(h.clearTimeout(l.C),l.C=null)}function ps(l,p){var g=null;if(l.g==p){fs(l),Ai(l),l.g=null;var E=2}else if(go(l.h,p))g=p.G,_i(l.h,p),E=1;else return;if(l.I!=0){if(p.o)if(E==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var M=l.D;E=Ar(),it(E,new co(E,g)),or(l)}else Nt(l);else if(M=p.m,M==3||M==0&&p.X>0||!(E==1&&Ga(l,p)||E==2&&Mn(l)))switch(g&&g.length>0&&(p=l.h,p.i=p.i.concat(g)),M){case 1:Zt(l,5);break;case 4:Zt(l,10);break;case 3:Zt(l,6);break;default:Zt(l,2)}}}function ms(l,p){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*p}function Zt(l,p){if(l.j.info("Error code "+p),p==2){var g=v(l.bb,l),E=l.Ua;const M=!E;E=new Rn(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ei(E,"https"),nr(E),M?Vn(E.toString(),g):Dn(E.toString(),g)}else tt(2);l.I=0,l.l&&l.l.pa(p),Ci(l),ds(l)}i.bb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Ci(l){if(l.I=0,l.ja=[],l.l){const p=Gt(l.h);(p.length!=0||l.i.length!=0)&&(G(l.ja,p),G(l.ja,l.i),l.h.i.length=0,U(l.i),l.i.length=0),l.l.oa()}}function Co(l,p,g){var E=g instanceof Rn?on(g):new Rn(g);if(E.g!="")p&&(E.g=p+"."+E.g),Pn(E,E.u);else{var M=h.location;E=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const z=new Rn(null);E&&Ei(z,E),p&&(z.g=p),M&&Pn(z,M),g&&(z.h=g),E=z}return g=l.G,p=l.wa,g&&p&&Me(E,g,p),Me(E,"VER",l.ka),On(l,E),E}function Ya(l,p,g){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new ze(new rr({ab:g})):new ze(l.ma),p.Fa(l.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xa(){}i=Xa.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function gs(){}gs.prototype.g=function(l,p){return new It(l,p)};function It(l,p){lt.call(this),this.g=new cs(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!x(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Or(this)}T(It,lt),It.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){hs(this.g)},It.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Sr(l),l=g);p.i.push(new Bu(p.Ya++,l)),p.I==3&&or(p)},It.prototype.N=function(){this.g.l=null,delete this.j,hs(this.g),delete this.g,It.Z.N.call(this)};function Ja(l){es.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}T(Ja,es);function Za(){uo.call(this),this.status=1}T(Za,uo);function Or(l){this.g=l}T(Or,Xa),Or.prototype.ra=function(){it(this.g,"a")},Or.prototype.qa=function(l){it(this.g,new Ja(l))},Or.prototype.pa=function(l){it(this.g,new Za)},Or.prototype.oa=function(){it(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,Wg=function(){return new gs},Hg=function(){return Ar()},qg=gn,bh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,eu=Pr,kr.COMPLETE="complete",$g=kr,ba.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",lt.prototype.listen=lt.prototype.J,ea=ba,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,zg=ze}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const Tm="@firebase/firestore",Sm="4.9.2";class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let eo="12.3.0";const $i=new Lg("@firebase/firestore");function js(){return $i.logLevel}function re(i,...e){if($i.logLevel<=De.DEBUG){const n=e.map(od);$i.debug(`Firestore (${eo}): ${i}`,...n)}}function _r(i,...e){if($i.logLevel<=De.ERROR){const n=e.map(od);$i.error(`Firestore (${eo}): ${i}`,...n)}}function Ws(i,...e){if($i.logLevel<=De.WARN){const n=e.map(od);$i.warn(`Firestore (${eo}): ${i}`,...n)}}function od(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Qg(i,s,n)}function Qg(i,e,n){let s=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Fe(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||Qg(e,a,s)}function we(i,e){return i}const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Kg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Mt.UNAUTHENTICATED)))}shutdown(){}}class Vw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Dw{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yr,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},m=y=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new Kg(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class bw{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lw{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new bw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Mt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Im{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ow{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const a=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Im(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Im(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Mw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class ad{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Mw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Re(i,e){return i<e?-1:i>e?1:0}function Lh(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const a=i.charAt(s),c=e.charAt(s);if(a!==c)return Eh(a)===Eh(c)?Re(a,c):Eh(a)?1:-1}return Re(i.length,e.length)}const jw=55296,Fw=57343;function Eh(i){const e=i.charCodeAt(0);return e>=jw&&e<=Fw}function Qs(i,e,n){return i.length===e.length&&i.every(((s,a)=>n(s,e[a])))}const xm="__name__";class qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=qn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Re(e.length,n.length)}static compareSegments(e,n){const s=qn.isNumericId(e),a=qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qn.extractNumericId(e).compare(qn.extractNumericId(n)):Lh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ri.fromString(e.substring(4,e.length-2))}}class Ke extends qn{construct(e,n,s){return new Ke(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Ke(n)}static emptyPath(){return new Ke([])}}const Uw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends qn{construct(e,n,s){return new Rt(e,n,s)}static isValidIdentifier(e){return Uw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xm}static keyField(){return new Rt([xm])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ce(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ce(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(c(),a++)}if(c(),h)throw new ce(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ke.fromString(e))}static fromName(e){return new pe(Ke.fromString(e).popFirst(5))}static empty(){return new pe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ke(e.slice()))}}function Gg(i,e,n){if(!n)throw new ce(q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Bw(i,e,n,s){if(e===!0&&s===!0)throw new ce(q.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Am(i){if(!pe.isDocumentKey(i))throw new ce(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Cm(i){if(pe.isDocumentKey(i))throw new ce(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Yg(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ld(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function qi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ld(i);throw new ce(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function xa(i,e){if(!Yg(i))throw new ce(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(a&&typeof h!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ce(q.INVALID_ARGUMENT,n);return!0}const Rm=-62135596800,Pm=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Pm);return new Ge(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rm)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pm}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xa(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:dt("string",Ge._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Ge(0,0))}static max(){return new _e(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ma=-1;function zw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new Ge(n+1,0):new Ge(n,s));return new si(a,pe.empty(),e)}function $w(i){return new si(i.readTime,i.key,ma)}class si{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new si(_e.min(),pe.empty(),ma)}static max(){return new si(_e.max(),pe.empty(),ma)}}function qw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Re(i.largestBatchId,e.largestBatchId))}const Hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function to(i){if(i.code!==q.FAILED_PRECONDITION||i.message!==Hw)throw i;re("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,s)=>{n(e)}))}static reject(e){return new $(((n,s)=>{s(e)}))}static waitFor(e){return new $(((n,s)=>{let a=0,c=0,h=!1;e.forEach((m=>{++a,m.next((()=>{++c,h&&c===a&&n()}),(y=>s(y)))})),h=!0,c===a&&n()}))}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next((a=>a?$.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,c)=>{s.push(n.call(this,a,c))})),this.waitFor(s)}static mapArray(e,n){return new $(((s,a)=>{const c=e.length,h=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next((w=>{h[v]=w,++m,m===c&&s(h)}),(w=>a(w)))}}))}static doWhile(e,n){return new $(((s,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):s()};c()}))}}function Qw(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(i){return i.name==="IndexedDbTransactionError"}class Cu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cu.ce=-1;const ud=-1;function Ru(i){return i==null}function du(i){return i===0&&1/i==-1/0}function Kw(i){return typeof i=="number"&&Number.isInteger(i)&&!du(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Xg="";function Gw(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=km(e)),e=Yw(i.get(n),e);return km(e)}function Yw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case Xg:n+="";break;default:n+=c}}return n}function km(i){return i+Xg+""}function Nm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Wi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Jg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class et{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Ct(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vm(this.data.getIterator())}getIteratorFrom(e){return new Vm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Vm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new gt(Rt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Zg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Zg("Invalid base64 string: "+c):c}})(e);return new Pt(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c})(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const Xw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=Xw.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(i.seconds),nanos:at(i.nanos)}}function at(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ai(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}const ey="server_timestamp",ty="__type__",ny="__previous_value__",ry="__local_write_time__";function cd(i){return(i?.mapValue?.fields||{})[ty]?.stringValue===ey}function Pu(i){const e=i.mapValue.fields[ny];return cd(e)?Pu(e):e}function ga(i){const e=oi(i.mapValue.fields[ry].timestampValue);return new Ge(e.seconds,e.nanos)}class Jw{constructor(e,n,s,a,c,h,m,y,v,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=w}}const fu="(default)";class ya{constructor(e,n){this.projectId=e,this.database=n||fu}static empty(){return new ya("","")}get isDefaultDatabase(){return this.database===fu}isEqual(e){return e instanceof ya&&e.projectId===this.projectId&&e.database===this.database}}const iy="__type__",Zw="__max__",Xl={mapValue:{}},sy="__vector__",pu="value";function li(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cd(i)?4:t1(i)?9007199254740991:e1(i)?10:11:ye(28295,{value:i})}function Yn(i,e){if(i===e)return!0;const n=li(i);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ga(i).isEqual(ga(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=oi(a.timestampValue),m=oi(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,c){return ai(a.bytesValue).isEqual(ai(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,c){return at(a.geoPointValue.latitude)===at(c.geoPointValue.latitude)&&at(a.geoPointValue.longitude)===at(c.geoPointValue.longitude)})(i,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return at(a.integerValue)===at(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=at(a.doubleValue),m=at(c.doubleValue);return h===m?du(h)===du(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Qs(i.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return(function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Nm(h)!==Nm(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!Yn(h[y],m[y])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function va(i,e){return(i.values||[]).find((n=>Yn(n,e)))!==void 0}function Ks(i,e){if(i===e)return 0;const n=li(i),s=li(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=at(c.integerValue||c.doubleValue),y=at(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return Dm(i.timestampValue,e.timestampValue);case 4:return Dm(ga(i),ga(e));case 5:return Lh(i.stringValue,e.stringValue);case 6:return(function(c,h){const m=ai(c),y=ai(h);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=Re(m[v],y[v]);if(w!==0)return w}return Re(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Re(at(c.latitude),at(h.latitude));return m!==0?m:Re(at(c.longitude),at(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return bm(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},y=h.fields||{},v=m[pu]?.arrayValue,w=y[pu]?.arrayValue,T=Re(v?.values?.length||0,w?.values?.length||0);return T!==0?T:bm(v,w)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Xl.mapValue&&h===Xl.mapValue)return 0;if(c===Xl.mapValue)return 1;if(h===Xl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=h.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let T=0;T<y.length&&T<w.length;++T){const C=Lh(y[T],w[T]);if(C!==0)return C;const U=Ks(m[y[T]],v[w[T]]);if(U!==0)return U}return Re(y.length,w.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function Dm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const n=oi(i),s=oi(e),a=Re(n.seconds,s.seconds);return a!==0?a:Re(n.nanos,s.nanos)}function bm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Ks(n[a],s[a]);if(c)return c}return Re(n.length,s.length)}function Gs(i){return Oh(i)}function Oh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=oi(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ai(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Oh(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const h of s)c?c=!1:a+=",",a+=`${h}:${Oh(n.fields[h])}`;return a+"}"})(i.mapValue):ye(61005,{value:i})}function tu(i){switch(li(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pu(i);return e?16+tu(e):16;case 5:return 2*i.stringValue.length;case 6:return ai(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,c)=>a+tu(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return Wi(s.fields,((c,h)=>{a+=c.length+tu(h)})),a})(i.mapValue);default:throw ye(13486,{value:i})}}function Mh(i){return!!i&&"integerValue"in i}function hd(i){return!!i&&"arrayValue"in i}function Lm(i){return!!i&&"nullValue"in i}function Om(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nu(i){return!!i&&"mapValue"in i}function e1(i){return(i?.mapValue?.fields||{})[iy]?.stringValue===sy}function oa(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Wi(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=oa(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oa(i.arrayValue.values[n]);return e}return{...i}}function t1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Zw}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oa(n)}setAll(e){let n=Rt.emptyPath(),s={},a=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=oa(h):a.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];nu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Wi(n,((a,c)=>e[a]=c));for(const a of s)delete e[a]}clone(){return new fn(oa(this.value))}}function oy(i){const e=[];return Wi(i.fields,((n,s)=>{const a=new Rt([n]);if(nu(s)){const c=oy(s.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)})),new xn(e)}class jt{constructor(e,n,s,a,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new jt(e,0,_e.min(),_e.min(),_e.min(),fn.empty(),0)}static newFoundDocument(e,n,s,a){return new jt(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new jt(e,2,n,_e.min(),_e.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,_e.min(),_e.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mu{constructor(e,n){this.position=e,this.inclusive=n}}function Mm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=Ks(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function jm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Yn(i.position[n],e.position[n]))return!1;return!0}class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function n1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ay{}class mt extends ay{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new i1(e,n,s):n==="array-contains"?new a1(e,s):n==="in"?new l1(e,s):n==="not-in"?new u1(e,s):n==="array-contains-any"?new c1(e,s):new mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new s1(e,s):new o1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ks(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(Ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends ay{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return ly(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ly(i){return i.op==="and"}function uy(i){return r1(i)&&ly(i)}function r1(i){for(const e of i.filters)if(e instanceof Xn)return!1;return!0}function jh(i){if(i instanceof mt)return i.field.canonicalString()+i.op.toString()+Gs(i.value);if(uy(i))return i.filters.map((e=>jh(e))).join(",");{const e=i.filters.map((n=>jh(n))).join(",");return`${i.op}(${e})`}}function cy(i,e){return i instanceof mt?(function(s,a){return a instanceof mt&&s.op===a.op&&s.field.isEqual(a.field)&&Yn(s.value,a.value)})(i,e):i instanceof Xn?(function(s,a){return a instanceof Xn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((c,h,m)=>c&&cy(h,a.filters[m])),!0):!1})(i,e):void ye(19439)}function hy(i){return i instanceof mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`})(i):i instanceof Xn?(function(n){return n.op.toString()+" {"+n.getFilters().map(hy).join(" ,")+"}"})(i):"Filter"}class i1 extends mt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class s1 extends mt{constructor(e,n){super(e,"in",n),this.keys=dy("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class o1 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=dy("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dy(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class a1 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hd(n)&&va(n.arrayValue,this.value)}}class l1 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&va(this.value.arrayValue,n)}}class u1 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!va(this.value.arrayValue,n)}}class c1 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>va(this.value.arrayValue,s)))}}class h1{constructor(e,n=null,s=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Fm(i,e=null,n=[],s=[],a=null,c=null,h=null){return new h1(i,e,n,s,a,c,h)}function dd(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>jh(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ru(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Gs(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Gs(s))).join(",")),e.Te=n}return e.Te}function fd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!n1(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!cy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jm(i.startAt,e.startAt)&&jm(i.endAt,e.endAt)}function Fh(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ku{constructor(e,n=null,s=[],a=[],c=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d1(i,e,n,s,a,c,h,m){return new ku(i,e,n,s,a,c,h,m)}function pd(i){return new ku(i)}function Um(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function f1(i){return i.collectionGroup!==null}function aa(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new gt(Rt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new gu(c,s))})),n.has(Rt.keyField().canonicalString())||e.Ie.push(new gu(Rt.keyField(),s))}return e.Ie}function Hn(i){const e=we(i);return e.Ee||(e.Ee=p1(e,aa(i))),e.Ee}function p1(i,e){if(i.limitType==="F")return Fm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new gu(a.field,c)}));const n=i.endAt?new mu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new mu(i.startAt.position,i.startAt.inclusive):null;return Fm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Uh(i,e,n){return new ku(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Nu(i,e){return fd(Hn(i),Hn(e))&&i.limitType===e.limitType}function fy(i){return`${dd(Hn(i))}|lt:${i.limitType}`}function Fs(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>hy(a))).join(", ")}]`),Ru(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Gs(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Gs(a))).join(",")),`Target(${s})`})(Hn(i))}; limitType=${i.limitType})`}function Vu(i,e){return e.isFoundDocument()&&(function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,a){for(const c of aa(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(h,m,y){const v=Mm(h,m,y);return h.inclusive?v<=0:v<0})(s.startAt,aa(s),a)||s.endAt&&!(function(h,m,y){const v=Mm(h,m,y);return h.inclusive?v>=0:v>0})(s.endAt,aa(s),a))})(i,e)}function m1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function py(i){return(e,n)=>{let s=!1;for(const a of aa(i)){const c=g1(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function g1(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(c,h,m){const y=h.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Ks(y,v):ye(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}class Qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,((n,s)=>{for(const[a,c]of s)e(a,c)}))}isEmpty(){return Jg(this.inner)}size(){return this.innerSize}}const y1=new et(pe.comparator);function Er(){return y1}const my=new et(pe.comparator);function ta(...i){let e=my;for(const n of i)e=e.insert(n.key,n);return e}function gy(i){let e=my;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Bi(){return la()}function yy(){return la()}function la(){return new Qi((i=>i.toString()),((i,e)=>i.isEqual(e)))}const v1=new et(pe.comparator),_1=new gt(pe.comparator);function Pe(...i){let e=_1;for(const n of i)e=e.add(n);return e}const E1=new gt(Re);function w1(){return E1}function md(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:du(e)?"-0":e}}function vy(i){return{integerValue:""+i}}function T1(i,e){return Kw(e)?vy(e):md(i,e)}class Du{constructor(){this._=void 0}}function S1(i,e,n){return i instanceof _a?(function(a,c){const h={fields:{[ty]:{stringValue:ey},[ry]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&cd(c)&&(c=Pu(c)),c&&(h.fields[ny]=c),{mapValue:h}})(n,e):i instanceof Ea?Ey(i,e):i instanceof wa?wy(i,e):(function(a,c){const h=_y(a,c),m=Bm(h)+Bm(a.Ae);return Mh(h)&&Mh(a.Ae)?vy(m):md(a.serializer,m)})(i,e)}function I1(i,e,n){return i instanceof Ea?Ey(i,e):i instanceof wa?wy(i,e):n}function _y(i,e){return i instanceof yu?(function(s){return Mh(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class _a extends Du{}class Ea extends Du{constructor(e){super(),this.elements=e}}function Ey(i,e){const n=Ty(e);for(const s of i.elements)n.some((a=>Yn(a,s)))||n.push(s);return{arrayValue:{values:n}}}class wa extends Du{constructor(e){super(),this.elements=e}}function wy(i,e){let n=Ty(e);for(const s of i.elements)n=n.filter((a=>!Yn(a,s)));return{arrayValue:{values:n}}}class yu extends Du{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Bm(i){return at(i.integerValue||i.doubleValue)}function Ty(i){return hd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class x1{constructor(e,n){this.field=e,this.transform=n}}function A1(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof Ea&&a instanceof Ea||s instanceof wa&&a instanceof wa?Qs(s.elements,a.elements,Yn):s instanceof yu&&a instanceof yu?Yn(s.Ae,a.Ae):s instanceof _a&&a instanceof _a})(i.transform,e.transform)}class C1{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ru(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bu{}function Sy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gd(i.key,Wn.none()):new Aa(i.key,i.data,Wn.none());{const n=i.data,s=fn.empty();let a=new gt(Rt.comparator);for(let c of e.fields)if(!a.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),a=a.add(c)}return new Ki(i.key,s,new xn(a.toArray()),Wn.none())}}function R1(i,e,n){i instanceof Aa?(function(a,c,h){const m=a.value.clone(),y=$m(a.fieldTransforms,c,h.transformResults);m.setAll(y),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ki?(function(a,c,h){if(!ru(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=$m(a.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(Iy(a)),y.setAll(m),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,e,n):(function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ua(i,e,n,s){return i instanceof Aa?(function(c,h,m,y){if(!ru(c.precondition,h))return m;const v=c.value.clone(),w=qm(c.fieldTransforms,y,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ki?(function(c,h,m,y){if(!ru(c.precondition,h))return m;const v=qm(c.fieldTransforms,y,h),w=h.data;return w.setAll(Iy(c)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(c,h,m){return ru(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function P1(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=_y(s.transform,a||null);c!=null&&(n===null&&(n=fn.empty()),n.set(s.field,c))}return n||null}function zm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Qs(s,a,((c,h)=>A1(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Aa extends bu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ki extends bu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Iy(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function $m(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let a=0;a<n.length;a++){const c=i[a],h=c.transform,m=e.data.field(c.field);s.set(c.field,I1(h,m,n[a]))}return s}function qm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,h=n.data.field(a.field);s.set(a.field,S1(c,h,e))}return s}class gd extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k1 extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class N1{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&R1(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ua(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ua(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=yy();return this.mutations.forEach((a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(a.key)?null:m;const y=Sy(h,m);y!==null&&s.set(a.key,y),h.isValidDocument()||h.convertToNoDocument(_e.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,((n,s)=>zm(n,s)))&&Qs(this.baseMutations,e.baseMutations,((n,s)=>zm(n,s)))}}class yd{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return v1})();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,s[h].version);return new yd(e,n,s,a)}}class V1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class D1{constructor(e,n){this.count=e,this.unchangedNames=n}}var ht,Ve;function b1(i){switch(i){case q.OK:return ye(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function xy(i){if(i===void 0)return _r("GRPC error has no .code"),q.UNKNOWN;switch(i){case ht.OK:return q.OK;case ht.CANCELLED:return q.CANCELLED;case ht.UNKNOWN:return q.UNKNOWN;case ht.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ht.INTERNAL:return q.INTERNAL;case ht.UNAVAILABLE:return q.UNAVAILABLE;case ht.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ht.NOT_FOUND:return q.NOT_FOUND;case ht.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ht.ABORTED:return q.ABORTED;case ht.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ht.DATA_LOSS:return q.DATA_LOSS;default:return ye(39323,{code:i})}}(Ve=ht||(ht={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";function L1(){return new TextEncoder}const O1=new ri([4294967295,4294967295],0);function Hm(i){const e=L1().encode(i),n=new Bg;return n.update(e),new Uint8Array(n.digest())}function Wm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ri([n,s],0),new ri([a,c],0)]}class vd{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new na(`Invalid padding: ${n}`);if(s<0)throw new na(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new na(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new na(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ri.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ri.fromNumber(s)));return a.compare(O1)===1&&(a=new ri([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Hm(e),[s,a]=Wm(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,a,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new vd(c,a,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Hm(e),[s,a]=Wm(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,a,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ca.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Lu(_e.min(),a,new et(Re),Er(),Pe())}}class Ca{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ca(s,n,Pe(),Pe(),Pe())}}class iu{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class Ay{constructor(e,n){this.targetId=e,this.Ce=n}}class Cy{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Qm{constructor(){this.ve=0,this.Fe=Km(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ye(38017,{changeType:c})}})),new Ca(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Km()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M1{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.Je=Jl(),this.He=Jl(),this.Ye=new et(Re)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(Fh(c))if(s===0){const h=new pe(c.path);this.et(n,h,jt.newNoDocument(h,_e.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let h,m;try{h=ai(s).toUint8Array()}catch(y){if(y instanceof Zg)return Ws("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new vd(h,a,c)}catch(y){return Ws(y instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Fh(m.target)){const y=new pe(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,jt.newNoDocument(y,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let s=Pe();this.He.forEach(((c,h)=>{let m=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const a=new Lu(e,n,this.Ye,this.je,s);return this.je=Er(),this.Je=Jl(),this.He=Jl(),this.Ye=new et(Re),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Qm,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gt(Re),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gt(Re),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qm),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jl(){return new et(pe.comparator)}function Km(){return new et(pe.comparator)}const j1={asc:"ASCENDING",desc:"DESCENDING"},F1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U1={and:"AND",or:"OR"};class B1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bh(i,e){return i.useProto3Json||Ru(e)?e:{value:e}}function vu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ry(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function z1(i,e){return vu(i,e.toTimestamp())}function Qn(i){return Fe(!!i,49232),_e.fromTimestamp((function(n){const s=oi(n);return new Ge(s.seconds,s.nanos)})(i))}function _d(i,e){return zh(i,e).canonicalString()}function zh(i,e){const n=(function(a){return new Ke(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Py(i){const e=Ke.fromString(i);return Fe(by(e),10190,{key:e.toString()}),e}function $h(i,e){return _d(i.databaseId,e.path)}function wh(i,e){const n=Py(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(Ny(n))}function ky(i,e){return _d(i.databaseId,e)}function $1(i){const e=Py(i);return e.length===4?Ke.emptyPath():Ny(e)}function qh(i){return new Ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ny(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Gm(i,e,n){return{name:$h(i,e),fields:n.value.mapValue.fields}}function q1(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ye(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(Fe(w===void 0||typeof w=="string",58123),Pt.fromBase64String(w||"")):(Fe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Pt.fromUint8Array(w||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const w=v.code===void 0?q.UNKNOWN:xy(v.code);return new ce(w,v.message||"")})(h);n=new Cy(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=wh(i,s.document.name),c=Qn(s.document.updateTime),h=s.document.createTime?Qn(s.document.createTime):_e.min(),m=new fn({mapValue:{fields:s.document.fields}}),y=jt.newFoundDocument(a,c,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new iu(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=wh(i,s.document),c=s.readTime?Qn(s.readTime):_e.min(),h=jt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new iu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=wh(i,s.document),c=s.removedTargetIds||[];n=new iu([],c,a,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,h=new D1(a,c),m=s.targetId;n=new Ay(m,h)}}return n}function H1(i,e){let n;if(e instanceof Aa)n={update:Gm(i,e.key,e.value)};else if(e instanceof gd)n={delete:$h(i,e.key)};else if(e instanceof Ki)n={update:Gm(i,e.key,e.data),updateMask:eT(e.fieldMask)};else{if(!(e instanceof k1))return ye(16599,{Vt:e.type});n={verify:$h(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const m=h.transform;if(m instanceof _a)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ea)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:z1(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(i,e.precondition)),n}function W1(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((n=>(function(a,c){let h=a.updateTime?Qn(a.updateTime):Qn(c);return h.isEqual(_e.min())&&(h=Qn(c)),new C1(h,a.transformResults||[])})(n,e)))):[]}function Q1(i,e){return{documents:[ky(i,e.path)]}}function K1(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ky(i,a);const c=(function(v){if(v.length!==0)return Dy(Xn.create(v,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(v){if(v.length!==0)return v.map((w=>(function(C){return{field:Us(C.field),direction:X1(C.dir)}})(w)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Bh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:a}}function G1(i){let e=$1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Fe(s===1,65062);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=(function(T){const C=Vy(T);return C instanceof Xn&&uy(C)?C.getFilters():[C]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((C=>(function(G){return new gu(Bs(G.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let C;return C=typeof T=="object"?T.value:T,Ru(C)?null:C})(n.limit));let y=null;n.startAt&&(y=(function(T){const C=!!T.before,U=T.values||[];return new mu(U,C)})(n.startAt));let v=null;return n.endAt&&(v=(function(T){const C=!T.before,U=T.values||[];return new mu(U,C)})(n.endAt)),d1(e,a,h,c,m,"F",y,v)}function Y1(i,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vy(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Bs(n.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bs(n.unaryFilter.field);return mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Bs(n.unaryFilter.field);return mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Bs(n.unaryFilter.field);return mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(n){return mt.create(Bs(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Xn.create(n.compositeFilter.filters.map((s=>Vy(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(i):ye(30097,{filter:i})}function X1(i){return j1[i]}function J1(i){return F1[i]}function Z1(i){return U1[i]}function Us(i){return{fieldPath:i.canonicalString()}}function Bs(i){return Rt.fromServerFormat(i.fieldPath)}function Dy(i){return i instanceof mt?(function(n){if(n.op==="=="){if(Om(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(Lm(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Om(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(Lm(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:J1(n.op),value:n.value}}})(i):i instanceof Xn?(function(n){const s=n.getFilters().map((a=>Dy(a)));return s.length===1?s[0]:{compositeFilter:{op:Z1(n.op),filters:s}}})(i):ye(54877,{filter:i})}function eT(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function by(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Zr{constructor(e,n,s,a,c=_e.min(),h=_e.min(),m=Pt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tT{constructor(e){this.yt=e}}function nT(i){const e=G1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Uh(e,e.limit,"L"):e}class rT{constructor(){this.Cn=new iT}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(si.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class iT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new gt(Ke.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new gt(Ke.comparator)).toArray()}}const Ym={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ly=41943040;class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(Ly,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);class Ys{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ys(0)}static cr(){return new Ys(-1)}}const Xm="LruGarbageCollector",sT=1048576;function Jm([i,e],[n,s]){const a=Re(i,n);return a===0?Re(e,s):a}class oT{constructor(e){this.Ir=e,this.buffer=new gt(Jm),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(Xm,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?re(Xm,"Ignoring IndexedDB error during garbage collection: ",n):await to(n)}await this.Vr(3e5)}))}}class lT{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Cu.ce);const s=new oT(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Ym)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ym):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,c,h,m,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,h=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(c=T,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(v=Date.now(),js()<=De.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${T} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T}))))}}function uT(i,e){return new lT(i,e)}class cT{constructor(){this.changes=new Qi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&ua(s.mutation,a,xn.empty(),Ge.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const a=Bi();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((c=>{let h=ta();return c.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Bi();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const a=[];return s.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,a){let c=Er();const h=la(),m=(function(){return la()})();return n.forEach(((y,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof Ki)?c=c.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),ua(w.mutation,v,w.mutation.getFieldMask(),Ge.now())):h.set(v.key,xn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,w)=>h.set(v,w))),n.forEach(((v,w)=>m.set(v,new hT(w,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=la();let a=new et(((h,m)=>h-m)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((y=>{const v=n.get(y);if(v===null)return;let w=s.get(y)||xn.empty();w=m.applyToLocalView(v,w),s.set(y,w);const T=(a.get(m.batchId)||Pe()).add(y);a=a.insert(m.batchId,T)}))})).next((()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,T=yy();w.forEach((C=>{if(!c.has(C)){const U=Sy(n.get(C),s.get(C));U!==null&&T.set(C,U),c=c.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return $.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):$.resolve(Bi());let m=ma,y=c;return h.next((v=>$.forEach(v,((w,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(w)?$.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{y=y.insert(w,C)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,Pe()))).next((w=>({batchId:m,changes:gy(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let a=ta();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let h=ta();return this.indexManager.getCollectionParents(e,c).next((m=>$.forEach(m,(y=>{const v=(function(T,C){return new ku(C,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((w=>{w.forEach(((T,C)=>{h=h.insert(T,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a)))).next((h=>{c.forEach(((y,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,jt.newInvalidDocument(w)))}));let m=ta();return h.forEach(((y,v)=>{const w=c.get(y);w!==void 0&&ua(w.mutation,v,xn.empty(),Ge.now()),Vu(n,v)&&(m=m.insert(y,v))})),m}))}}class fT{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Qn(a.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:nT(a.bundledQuery),readTime:Qn(a.readTime)}})(n)),$.resolve()}}class pT{constructor(){this.overlays=new et(pe.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Bi();return $.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&s.set(a,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,c)=>{this.St(e,n,c)})),$.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const a=Bi(),c=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return $.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new et(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Bi(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Bi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,w)=>m.set(v,w))),!(m.size()>=a)););return $.resolve(m)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new V1(n,s));let c=this.qr.get(n);c===void 0&&(c=Pe(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}class mT{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}class Ed{constructor(){this.Qr=new gt(wt.$r),this.Ur=new gt(wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new Ke([])),s=new wt(n,e),a=new wt(n,e+1),c=[];return this.Ur.forEachInRange([s,a],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Ke([])),s=new wt(n,e),a=new wt(n,e+1);let c=Pe();return this.Ur.forEachInRange([s,a],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Re(e.Yr,n.Yr)}static Kr(e,n){return Re(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class gT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gt(wt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new N1(c,n,s,a);this.mutationQueue.push(h);for(const m of a)this.Zr=this.Zr.add(new wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(h)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),c=a<0?0:a;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ud:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,a],(h=>{const m=this.Xr(h.Yr);c.push(m)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new gt(Re);return n.forEach((a=>{const c=new wt(a,0),h=new wt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(m=>{s=s.add(m.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const h=new wt(new pe(c),0);let m=new gt(Re);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.Yr)),!0)}),h),$.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(a=>{const c=new wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new wt(n,0),a=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class yT{constructor(e){this.ri=e,this.docs=(function(){return new et(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let s=Er();return n.forEach((a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():jt.newInvalidDocument(a))})),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Er();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||qw($w(w),s)<=0||(a.has(w.key)||Vu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ye(9500)}ii(e,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new vT(this)}getSize(e){return $.resolve(this.size)}}class vT extends cT{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class _T{constructor(e){this.persistence=e,this.si=new Qi((n=>dd(n)),fd),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new Ed,this.targetCount=0,this.ai=Ys.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ys(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),$.waitFor(c).next((()=>a))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((h=>{c.push(a.markPotentiallyOrphaned(e,h))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}class Oy{constructor(e,n){this.ui={},this.overlays={},this.ci=new Cu(0),this.li=!1,this.li=!0,this.hi=new mT,this.referenceDelegate=e(this),this.Pi=new _T(this),this.indexManager=new rT,this.remoteDocumentCache=(function(a){return new yT(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tT(n),this.Ii=new fT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new gT(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){re("MemoryPersistence","Starting transaction:",e);const a=new ET(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class ET extends Ww{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Ri=new Ed,this.Vi=null}static mi(e){return new wd(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const a=pe.fromPath(s);return this.gi(e,a).next((c=>{c||n.removeEntry(a,_e.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _u{constructor(e,n){this.persistence=e,this.pi=new Qi((s=>Gw(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=uT(this,n)}static mi(e,n){return new _u(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((s,a)=>this.br(e,s,a).next((c=>c?$.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,c.removeEntry(h,_e.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tu(e.data.value)),n}br(e,n,s){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return $.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Td{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Pe(),a=Pe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Td(e,n.fromCache,s,a)}}class wT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hE()?8:Qw(uE())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,a,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new wT;return this.Ss(e,n,h).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>c.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(js()<=De.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(js()<=De.DEBUG&&re("QueryEngine","Query:",Fs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(js()<=De.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):$.resolve())}ys(e,n){if(Um(n))return $.resolve(null);let s=Hn(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Uh(n,null,"F"),s=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Pe(...c);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const v=this.Ds(n,m);return this.Cs(n,v,h,y.readTime)?this.ys(e,Uh(n,null,"F")):this.vs(e,v,n,y)}))))})))))}ws(e,n,s,a){return Um(n)||a.isEqual(_e.min())?$.resolve(null):this.ps.getDocuments(e,s).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,s,a)?$.resolve(null):(js()<=De.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fs(n)),this.vs(e,h,n,zw(a,ma)).next((m=>m)))}))}Ds(e,n){let s=new gt(py(e));return n.forEach(((a,c)=>{Vu(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,s){return js()<=De.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.ps.getDocumentsMatchingQuery(e,n,si.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const Sd="LocalStore",ST=3e8;class IT{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new et(Re),this.xs=new Qi((c=>dd(c)),fd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function xT(i,e,n,s){return new IT(i,e,n,s)}async function My(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],m=[];let y=Pe();for(const v of a){h.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function AT(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,w){const T=v.batch,C=T.keys();let U=$.resolve();return C.forEach((G=>{U=U.next((()=>w.getEntry(y,G))).next((H=>{const B=v.docVersions.get(G);Fe(B!==null,48541),H.version.compareTo(B)<0&&(T.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),w.addEntry(H)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(y,T)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Pe();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function jy(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function CT(i,e){const n=we(i),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const m=[];e.targetChanges.forEach(((w,T)=>{const C=a.get(T);if(!C)return;m.push(n.Pi.removeMatchingKeys(c,w.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,w.addedDocuments,T))));let U=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?U=U.withResumeToken(Pt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):w.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(w.resumeToken,s)),a=a.insert(T,U),(function(H,B,le){return H.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=ST?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(C,U,w)&&m.push(n.Pi.updateTargetData(c,U))}));let y=Er(),v=Pe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))})),m.push(RT(c,h,e.documentUpdates).next((w=>{y=w.ks,v=w.qs}))),!s.isEqual(_e.min())){const w=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(w)}return $.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(n.Ms=a,c)))}function RT(i,e,n){let s=Pe(),a=Pe();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let h=Er();return n.forEach(((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(_e.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):re(Sd,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{ks:h,qs:a}}))}function PT(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ud),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function kT(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((c=>c?(a=c,$.resolve(a)):n.Pi.allocateTargetId(s).next((h=>(a=new Zr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Hh(i,e,n){const s=we(i),a=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!no(h))throw h;re(Sd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Zm(i,e,n){const s=we(i);let a=_e.min(),c=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,w){const T=we(y),C=T.xs.get(w);return C!==void 0?$.resolve(T.Ms.get(C)):T.Pi.getTargetData(v,w)})(s,h,Hn(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?a:_e.min(),n?c:Pe()))).next((m=>(NT(s,m1(e),m),{documents:m,Qs:c})))))}function NT(i,e,n){let s=i.Os.get(e)||_e.min();n.forEach(((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class eg{constructor(){this.activeTargetIds=w1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VT{constructor(){this.Mo=new eg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DT{Oo(e){}shutdown(){}}const tg="ConnectivityMonitor";class ng{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(tg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(tg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zl=null;function Wh(){return Zl===null?Zl=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zl++,"0x"+Zl.toString(16)}const Th="RestConnection",bT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LT{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===fu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,c){const h=Wh(),m=this.zo(e,n.toUriEncodedString());re(Th,`Sending RPC '${e}' ${h}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,c);const{host:v}=new URL(m),w=id(v);return this.Jo(e,m,y,s,w).then((T=>(re(Th,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Ws(Th,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,a,c,h){return this.Go(e,n,s,a,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),s&&s.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const s=bT[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class OT{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ot="WebChannelConnection";class MT extends LT{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,c){const h=Wh();return new Promise(((m,y)=>{const v=new zg;v.setWithCredentials(!0),v.listenOnce($g.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case eu.NO_ERROR:const T=v.getResponseJson();re(Ot,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case eu.TIMEOUT:re(Ot,`RPC '${e}' ${h} timed out`),y(new ce(q.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:const C=v.getStatus();if(re(Ot,`RPC '${e}' ${h} failed with status:`,C,"response text:",v.getResponseText()),C>0){let U=v.getResponseJson();Array.isArray(U)&&(U=U[0]);const G=U?.error;if(G&&G.status&&G.message){const H=(function(le){const te=le.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(te)>=0?te:q.UNKNOWN})(G.status);y(new ce(H,G.message))}else y(new ce(q.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ce(q.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{re(Ot,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(a);re(Ot,`RPC '${e}' ${h} sending request:`,a),v.send(n,"POST",w,s,15)}))}T_(e,n,s){const a=Wh(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Wg(),m=Hg(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");re(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,y);const T=h.createWebChannel(w,y);this.I_(T);let C=!1,U=!1;const G=new OT({Yo:B=>{U?re(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(C||(re(Ot,`Opening RPC '${e}' stream ${a} transport.`),T.open(),C=!0),re(Ot,`RPC '${e}' stream ${a} sending:`,B),T.send(B))},Zo:()=>T.close()}),H=(B,le,te)=>{B.listen(le,(ie=>{try{te(ie)}catch(de){setTimeout((()=>{throw de}),0)}}))};return H(T,ea.EventType.OPEN,(()=>{U||(re(Ot,`RPC '${e}' stream ${a} transport opened.`),G.o_())})),H(T,ea.EventType.CLOSE,(()=>{U||(U=!0,re(Ot,`RPC '${e}' stream ${a} transport closed`),G.a_(),this.E_(T))})),H(T,ea.EventType.ERROR,(B=>{U||(U=!0,Ws(Ot,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),G.a_(new ce(q.UNAVAILABLE,"The operation could not be completed")))})),H(T,ea.EventType.MESSAGE,(B=>{if(!U){const le=B.data[0];Fe(!!le,16349);const te=le,ie=te?.error||te[0]?.error;if(ie){re(Ot,`RPC '${e}' stream ${a} received error:`,ie);const de=ie.status;let ke=(function(I){const A=ht[I];if(A!==void 0)return xy(A)})(de),Ie=ie.message;ke===void 0&&(ke=q.INTERNAL,Ie="Unknown error status: "+de+" with message "+ie.message),U=!0,G.a_(new ce(ke,Ie)),T.close()}else re(Ot,`RPC '${e}' stream ${a} received:`,le),G.u_(le)}})),H(m,qg.STAT_EVENT,(B=>{B.stat===bh.PROXY?re(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===bh.NOPROXY&&re(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sh(){return typeof document<"u"?document:null}function Ou(i){return new B1(i,!0)}class Fy{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rg="PersistentStream";class Uy{constructor(e,n,s,a,c,h,m,y){this.Mi=e,this.S_=s,this.b_=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fy(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ce(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(rg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(re(rg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jT extends Uy{constructor(e,n,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=q1(this.serializer,e),s=(function(c){if(!("targetChange"in c))return _e.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?_e.min():h.readTime?Qn(h.readTime):_e.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=qh(this.serializer),n.addTarget=(function(c,h){let m;const y=h.target;if(m=Fh(y)?{documents:Q1(c,y)}:{query:K1(c,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Ry(c,h.resumeToken);const v=Bh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(_e.min())>0){m.readTime=vu(c,h.snapshotVersion.toTimestamp());const v=Bh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const s=Y1(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=qh(this.serializer),n.removeTarget=e,this.q_(n)}}class FT extends Uy{constructor(e,n,s,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=W1(e.writeResults,e.commitTime),s=Qn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=qh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>H1(this.serializer,s)))};this.q_(n)}}class UT{}class BT extends UT{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,zh(n,s),a,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(q.UNKNOWN,c.toString())}))}Ho(e,n,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,zh(n,s),a,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(q.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hi="RemoteStore";class $T{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Gi(this)&&(re(Hi,"Restarting streams for network reachability change."),await(async function(y){const v=we(y);v.Ea.add(4),await Ra(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Mu(v)})(this))}))})),this.Ra=new zT(s,a)}}async function Mu(i){if(Gi(i))for(const e of i.da)await e(!0)}async function Ra(i){for(const e of i.da)await e(!1)}function By(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cd(n)?Ad(n):ro(n).O_()&&xd(n,e))}function Id(i,e){const n=we(i),s=ro(n);n.Ia.delete(e),s.O_()&&zy(n,e),n.Ia.size===0&&(s.O_()?s.L_():Gi(n)&&n.Ra.set("Unknown"))}function xd(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(i).Y_(e)}function zy(i,e){i.Va.Ue(e),ro(i).Z_(e)}function Ad(i){i.Va=new M1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ro(i).start(),i.Ra.ua()}function Cd(i){return Gi(i)&&!ro(i).x_()&&i.Ia.size>0}function Gi(i){return we(i).Ea.size===0}function $y(i){i.Va=void 0}async function qT(i){i.Ra.set("Online")}async function HT(i){i.Ia.forEach(((e,n)=>{xd(i,e)}))}async function WT(i,e){$y(i),Cd(i)?(i.Ra.ha(e),Ad(i)):i.Ra.set("Unknown")}async function QT(i,e,n){if(i.Ra.set("Online"),e instanceof Cy&&e.state===2&&e.cause)try{await(async function(a,c){const h=c.cause;for(const m of c.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ia.delete(m),a.Va.removeTarget(m))})(i,e)}catch(s){re(Hi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Eu(i,s)}else if(e instanceof iu?i.Va.Ze(e):e instanceof Ay?i.Va.st(e):i.Va.tt(e),!n.isEqual(_e.min()))try{const s=await jy(i.localStore);n.compareTo(s)>=0&&await(function(c,h){const m=c.Va.Tt(h);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,v)=>{const w=c.Ia.get(y);if(!w)return;c.Ia.set(y,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),zy(c,y);const T=new Zr(w.target,y,v,w.sequenceNumber);xd(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){re(Hi,"Failed to raise snapshot:",s),await Eu(i,s)}}async function Eu(i,e,n){if(!no(e))throw e;i.Ea.add(1),await Ra(i),i.Ra.set("Offline"),n||(n=()=>jy(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{re(Hi,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Mu(i)}))}function qy(i,e){return e().catch((n=>Eu(i,n,e)))}async function ju(i){const e=we(i),n=ui(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ud;for(;KT(e);)try{const a=await PT(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,GT(e,a)}catch(a){await Eu(e,a)}Hy(e)&&Wy(e)}function KT(i){return Gi(i)&&i.Ta.length<10}function GT(i,e){i.Ta.push(e);const n=ui(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Hy(i){return Gi(i)&&!ui(i).x_()&&i.Ta.length>0}function Wy(i){ui(i).start()}async function YT(i){ui(i).ra()}async function XT(i){const e=ui(i);for(const n of i.Ta)e.ea(n.mutations)}async function JT(i,e,n){const s=i.Ta.shift(),a=yd.from(s,e,n);await qy(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await ju(i)}async function ZT(i,e){e&&ui(i).X_&&await(async function(s,a){if((function(h){return b1(h)&&h!==q.ABORTED})(a.code)){const c=s.Ta.shift();ui(s).B_(),await qy(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a))),await ju(s)}})(i,e),Hy(i)&&Wy(i)}async function ig(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),re(Hi,"RemoteStore received new credentials");const s=Gi(n);n.Ea.add(3),await Ra(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mu(n)}async function eS(i,e){const n=we(i);e?(n.Ea.delete(2),await Mu(n)):e||(n.Ea.add(2),await Ra(n),n.Ra.set("Unknown"))}function ro(i){return i.ma||(i.ma=(function(n,s,a){const c=we(n);return c.sa(),new jT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Xo:qT.bind(null,i),t_:HT.bind(null,i),r_:WT.bind(null,i),H_:QT.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Cd(i)?Ad(i):i.Ra.set("Unknown")):(await i.ma.stop(),$y(i))}))),i.ma}function ui(i){return i.fa||(i.fa=(function(n,s,a){const c=we(n);return c.sa(),new FT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:YT.bind(null,i),r_:ZT.bind(null,i),ta:XT.bind(null,i),na:JT.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await ju(i)):(await i.fa.stop(),i.Ta.length>0&&(re(Hi,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Rd{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const h=Date.now()+s,m=new Rd(e,n,h,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(i,e){if(_r("AsyncQueue",`${e}: ${i}`),no(i))return new ce(q.UNAVAILABLE,`${e}: ${i}`);throw i}class $s{static emptySet(e){return new $s(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=ta(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $s;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class sg{constructor(){this.ga=new et(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Xs{constructor(e,n,s,a,c,h,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Xs(e,n,$s.emptySet(n),h,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class tS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nS{constructor(){this.queries=og(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=we(n),c=a.queries;a.queries=og(),c.forEach(((h,m)=>{for(const y of m.Sa)y.onError(s)}))})(this,new ce(q.ABORTED,"Firestore shutting down"))}}function og(){return new Qi((i=>fy(i)),Nu)}async function Qy(i,e){const n=we(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(s=2):(c=new tS,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=Pd(h,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&kd(n)}async function Ky(i,e){const n=we(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rS(i,e){const n=we(i);let s=!1;for(const a of e){const c=a.query,h=n.queries.get(c);if(h){for(const m of h.Sa)m.Fa(a)&&(s=!0);h.wa=a}}s&&kd(n)}function iS(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);s.queries.delete(e)}function kd(i){i.Ca.forEach((e=>{e.next()}))}var Qh,ag;(ag=Qh||(Qh={})).Ma="default",ag.Cache="cache";class Gy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Xs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qh.Cache}}class Yy{constructor(e){this.key=e}}class Xy{constructor(e){this.key=e}}class sS{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=py(e),this.tu=new $s(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new sg,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((w,T)=>{const C=a.get(w),U=Vu(this.query,T)?T:null,G=!!C&&this.mutatedKeys.has(C.key),H=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let B=!1;C&&U?C.data.isEqual(U.data)?G!==H&&(s.track({type:3,doc:U}),B=!0):this.su(C,U)||(s.track({type:2,doc:U}),B=!0,(y&&this.eu(U,y)>0||v&&this.eu(U,v)<0)&&(m=!0)):!C&&U?(s.track({type:0,doc:U}),B=!0):C&&!U&&(s.track({type:1,doc:C}),B=!0,(y||v)&&(m=!0)),B&&(U?(h=h.add(U),c=H?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,T)=>(function(U,G){const H=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:B})}};return H(U)-H(G)})(w.type,T.type)||this.eu(w.doc,T.doc))),this.ou(s),a=a??!1;const m=n&&!a?this._u():[],y=this.Xa.size===0&&this.current&&!a?1:0,v=y!==this.Za;return this.Za=y,h.length!==0||v?{snapshot:new Xs(this.query,e.tu,c,h,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Xy(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Yy(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nd="SyncEngine";class oS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class aS{constructor(e){this.key=e,this.hu=!1}}class lS{constructor(e,n,s,a,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Qi((m=>fy(m)),Nu),this.Iu=new Map,this.Eu=new Set,this.du=new et(pe.comparator),this.Au=new Map,this.Ru=new Ed,this.Vu={},this.mu=new Map,this.fu=Ys.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uS(i,e,n=!0){const s=rv(i);let a;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await Jy(s,e,n,!0),a}async function cS(i,e){const n=rv(i);await Jy(n,e,!0,!1)}async function Jy(i,e,n,s){const a=await kT(i.localStore,Hn(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await hS(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&By(i.remoteStore,a),m}async function hS(i,e,n,s,a){i.pu=(T,C,U)=>(async function(H,B,le,te){let ie=B.view.ru(le);ie.Cs&&(ie=await Zm(H.localStore,B.query,!1).then((({documents:k})=>B.view.ru(k,ie))));const de=te&&te.targetChanges.get(B.targetId),ke=te&&te.targetMismatches.get(B.targetId)!=null,Ie=B.view.applyChanges(ie,H.isPrimaryClient,de,ke);return ug(H,B.targetId,Ie.au),Ie.snapshot})(i,T,C,U);const c=await Zm(i.localStore,e,!0),h=new sS(e,c.Qs),m=h.ru(c.documents),y=Ca.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,y);ug(i,n,v.au);const w=new oS(e,n,h);return i.Tu.set(e,w),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function dS(i,e,n){const s=we(i),a=s.Tu.get(e),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter((h=>!Nu(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Hh(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Id(s.remoteStore,a.targetId),Kh(s,a.targetId)})).catch(to)):(Kh(s,a.targetId),await Hh(s.localStore,a.targetId,!0))}async function fS(i,e){const n=we(i),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Id(n.remoteStore,s.targetId))}async function pS(i,e,n){const s=wS(i);try{const a=await(function(h,m){const y=we(h),v=Ge.now(),w=m.reduce(((U,G)=>U.add(G.key)),Pe());let T,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let G=Er(),H=Pe();return y.Ns.getEntries(U,w).next((B=>{G=B,G.forEach(((le,te)=>{te.isValidDocument()||(H=H.add(le))}))})).next((()=>y.localDocuments.getOverlayedDocuments(U,G))).next((B=>{T=B;const le=[];for(const te of m){const ie=P1(te,T.get(te.key).overlayedDocument);ie!=null&&le.push(new Ki(te.key,ie,oy(ie.value.mapValue),Wn.exists(!0)))}return y.mutationQueue.addMutationBatch(U,v,le,m)})).next((B=>{C=B;const le=B.applyToLocalDocumentSet(T,H);return y.documentOverlayCache.saveOverlays(U,B.batchId,le)}))})).then((()=>({batchId:C.batchId,changes:gy(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(h,m,y){let v=h.Vu[h.currentUser.toKey()];v||(v=new et(Re)),v=v.insert(m,y),h.Vu[h.currentUser.toKey()]=v})(s,a.batchId,n),await Pa(s,a.changes),await ju(s.remoteStore)}catch(a){const c=Pd(a,"Failed to persist write");n.reject(c)}}async function Zy(i,e){const n=we(i);try{const s=await CT(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const h=n.Au.get(c);h&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?Fe(h.hu,14607):a.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Pa(n,s,e)}catch(s){await to(s)}}function lg(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(h,m){const y=we(h);y.onlineState=m;let v=!1;y.queries.forEach(((w,T)=>{for(const C of T.Sa)C.va(m)&&(v=!0)})),v&&kd(y)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mS(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),c=a&&a.key;if(c){let h=new et(pe.comparator);h=h.insert(c,jt.newNoDocument(c,_e.min()));const m=Pe().add(c),y=new Lu(_e.min(),new Map,new et(Re),h,m);await Zy(s,y),s.du=s.du.remove(c),s.Au.delete(e),Vd(s)}else await Hh(s.localStore,e,!1).then((()=>Kh(s,e,n))).catch(to)}async function gS(i,e){const n=we(i),s=e.batch.batchId;try{const a=await AT(n.localStore,e);tv(n,s,null),ev(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pa(n,a)}catch(a){await to(a)}}async function yS(i,e,n){const s=we(i);try{const a=await(function(h,m){const y=we(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return y.mutationQueue.lookupMutationBatch(v,m).next((T=>(Fe(T!==null,37113),w=T.keys(),y.mutationQueue.removeMutationBatch(v,T)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>y.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);tv(s,e,n),ev(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pa(s,a)}catch(a){await to(a)}}function ev(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function tv(i,e,n){const s=we(i);let a=s.Vu[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Kh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||nv(i,s)}))}function nv(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Id(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Vd(i))}function ug(i,e,n){for(const s of n)s instanceof Yy?(i.Ru.addReference(s.key,e),vS(i,s)):s instanceof Xy?(re(Nd,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||nv(i,s.key)):ye(19791,{wu:s})}function vS(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(re(Nd,"New document in limbo: "+n),i.Eu.add(s),Vd(i))}function Vd(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(Ke.fromString(e)),s=i.fu.next();i.Au.set(s,new aS(n)),i.du=i.du.insert(n,s),By(i.remoteStore,new Zr(Hn(pd(n.path)),s,"TargetPurposeLimboResolution",Cu.ce))}}async function Pa(i,e,n){const s=we(i),a=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{h.push(s.pu(y,e,n).then((v=>{if((v||n)&&s.isPrimaryClient){const w=v?!v.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(v){a.push(v);const w=Td.As(y.targetId,v);c.push(w)}})))})),await Promise.all(h),s.Pu.H_(a),await(async function(y,v){const w=we(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>$.forEach(v,(C=>$.forEach(C.Es,(U=>w.persistence.referenceDelegate.addReference(T,C.targetId,U))).next((()=>$.forEach(C.ds,(U=>w.persistence.referenceDelegate.removeReference(T,C.targetId,U)))))))))}catch(T){if(!no(T))throw T;re(Sd,"Failed to update sequence numbers: "+T)}for(const T of v){const C=T.targetId;if(!T.fromCache){const U=w.Ms.get(C),G=U.snapshotVersion,H=U.withLastLimboFreeSnapshotVersion(G);w.Ms=w.Ms.insert(C,H)}}})(s.localStore,c))}async function _S(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){re(Nd,"User change. New user:",e.toKey());const s=await My(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new ce(q.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pa(n,s.Ls)}}function ES(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let a=Pe();const c=n.Iu.get(e);if(!c)return a;for(const h of c){const m=n.Tu.get(h);a=a.unionWith(m.view.nu)}return a}}function rv(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ES.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mS.bind(null,e),e.Pu.H_=rS.bind(null,e.eventManager),e.Pu.yu=iS.bind(null,e.eventManager),e}function wS(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yS.bind(null,e),e}class wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ou(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xT(this.persistence,new TT,e.initialUser,this.serializer)}Cu(e){return new Oy(wd.mi,this.serializer)}Du(e){return new VT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wu.provider={build:()=>new wu};class TS extends wu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof _u,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aT(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new Oy((s=>_u.mi(s,n)),this.serializer)}}class Gh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_S.bind(null,this.syncEngine),await eS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nS})()}createDatastore(e){const n=Ou(e.databaseInfo.databaseId),s=(function(c){return new MT(c)})(e.databaseInfo);return(function(c,h,m,y){return new BT(c,h,m,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,c,h,m){return new $T(s,a,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>lg(this.syncEngine,n,0)),(function(){return ng.v()?new ng:new DT})())}createSyncEngine(e,n){return(function(a,c,h,m,y,v,w){const T=new lS(a,c,h,m,y,v);return w&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);re(Hi,"RemoteStore shutting down."),s.Ea.add(5),await Ra(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gh.provider={build:()=>new Gh};class iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ci="FirestoreClient";class SS{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=ad.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{re(ci,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(re(ci,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pd(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ih(i,e){i.asyncQueue.verifyOperationInProgress(),re(ci,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await My(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function cg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await IS(i);re(ci,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>ig(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>ig(e.remoteStore,a))),i._onlineComponents=e}async function IS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){re(ci,"Using user provided OfflineComponentProvider");try{await Ih(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===q.FAILED_PRECONDITION||a.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await Ih(i,new wu)}}else re(ci,"Using default OfflineComponentProvider"),await Ih(i,new TS(void 0));return i._offlineComponents}async function sv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(re(ci,"Using user provided OnlineComponentProvider"),await cg(i,i._uninitializedComponentsProvider._online)):(re(ci,"Using default OnlineComponentProvider"),await cg(i,new Gh))),i._onlineComponents}function xS(i){return sv(i).then((e=>e.syncEngine))}async function ov(i){const e=await sv(i),n=e.eventManager;return n.onListen=uS.bind(null,e.syncEngine),n.onUnlisten=dS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fS.bind(null,e.syncEngine),n}function AS(i,e,n={}){const s=new yr;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,y,v){const w=new iv({next:C=>{w.Nu(),h.enqueueAndForget((()=>Ky(c,T)));const U=C.docs.has(m);!U&&C.fromCache?v.reject(new ce(q.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&C.fromCache&&y&&y.source==="server"?v.reject(new ce(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),T=new Gy(pd(m.path),w,{includeMetadataChanges:!0,qa:!0});return Qy(c,T)})(await ov(i),i.asyncQueue,e,n,s))),s.promise}function CS(i,e,n={}){const s=new yr;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,y,v){const w=new iv({next:C=>{w.Nu(),h.enqueueAndForget((()=>Ky(c,T))),C.fromCache&&y.source==="server"?v.reject(new ce(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),T=new Gy(m,w,{includeMetadataChanges:!0,qa:!0});return Qy(c,T)})(await ov(i),i.asyncQueue,e,n,s))),s.promise}function av(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const hg=new Map;const lv="firestore.googleapis.com",dg=!0;class fg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lv,this.ssl=dg}else this.host=e.host,this.ssl=e.ssl??dg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ly;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sT)throw new ce(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=av(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Nw;switch(s.type){case"firstParty":return new Lw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=hg.get(n);s&&(re("ComponentProvider","Removing Datastore"),hg.delete(n),s.terminate())})(this),Promise.resolve()}}function RS(i,e,n,s={}){i=qi(i,Fu);const a=id(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;a&&(iE(`https://${m}`),lE("Firestore",!0)),c.host!==lv&&c.host!==m&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:a,emulatorOptions:s};if(!uu(y,h)&&(i._setSettings(y),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Mt.MOCK_USER;else{v=sE(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ce(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Mt(T)}i._authCredentials=new Vw(new Kg(v,w))}}class Uu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Uu(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(xa(n,Tt._jsonSchema))return new Tt(e,s||null,new pe(Ke.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:dt("string",Tt._jsonSchemaVersion),referencePath:dt("string")};class ii extends Uu{constructor(e,n,s){super(e,n,pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new pe(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function PS(i,e,...n){if(i=da(i),Gg("collection","path",e),i instanceof Fu){const s=Ke.fromString(e,...n);return Cm(s),new ii(i,null,s)}{if(!(i instanceof Tt||i instanceof ii))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...n));return Cm(s),new ii(i.firestore,null,s)}}function Yh(i,e,...n){if(i=da(i),arguments.length===1&&(e=ad.newId()),Gg("doc","path",e),i instanceof Fu){const s=Ke.fromString(e,...n);return Am(s),new Tt(i,null,new pe(s))}{if(!(i instanceof Tt||i instanceof ii))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...n));return Am(s),new Tt(i.firestore,i instanceof ii?i.converter:null,new pe(s))}}const pg="AsyncQueue";class mg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fy(this,"async_queue_retry"),this._c=()=>{const s=Sh();s&&re(pg,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Sh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!no(e))throw e;re(pg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",gg(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Rd.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&ye(47125,{Pc:gg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gg(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ka extends Fu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new mg,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mg(e),this._firestoreClient=void 0,await e}}}function kS(i,e){const n=typeof i=="object"?i:vw(),s=typeof i=="string"?i:fu,a=fw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=nE("firestore");c&&RS(a,...c)}return a}function Dd(i){if(i._terminated)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||NS(i),i._firestoreClient}function NS(i){const e=i._freezeSettings(),n=(function(a,c,h,m){return new Jw(a,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,av(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new SS(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(i._componentsProvider))}class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(Pt.fromBase64String(e))}catch(n){throw new ce(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xa(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:dt("string",pn._jsonSchemaVersion),bytes:dt("string")};class bd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._methodName=e}}class Kn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kn._jsonSchemaVersion}}static fromJSON(e){if(xa(e,Kn._jsonSchema))return new Kn(e.latitude,e.longitude)}}Kn._jsonSchemaVersion="firestore/geoPoint/1.0",Kn._jsonSchema={type:dt("string",Kn._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};class Gn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xa(e,Gn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gn(e.vectorValues);throw new ce(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gn._jsonSchemaVersion="firestore/vectorValue/1.0",Gn._jsonSchema={type:dt("string",Gn._jsonSchemaVersion),vectorValues:dt("object")};const VS=/^__.*__$/;class DS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new Aa(e,this.data,n,this.fieldTransforms)}}function uv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:i})}}class Od{constructor(e,n,s,a,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Od({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uv(this.Ac)&&VS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ou(e)}Cc(e,n,s,a=!1){return new Od({Ac:e,methodName:n,Dc:s,path:Rt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LS(i){const e=i._freezeSettings(),n=Ou(i._databaseId);return new bS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function OS(i,e,n,s,a,c={}){const h=i.Cc(c.merge||c.mergeFields?2:0,e,n,a);fv("Data must be an object, but it was:",h,s);const m=hv(s,h);let y,v;if(c.merge)y=new xn(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const T of c.mergeFields){const C=MS(e,T,n);if(!h.contains(C))throw new ce(q.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);FS(w,C)||w.push(C)}y=new xn(w),v=h.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,v=h.fieldTransforms;return new DS(new fn(m),y,v)}class Md extends Ld{_toFieldTransform(e){return new x1(e.path,new _a)}isEqual(e){return e instanceof Md}}function cv(i,e){if(dv(i=da(i)))return fv("Unsupported field value:",e,i),hv(i,e);if(i instanceof Ld)return(function(s,a){if(!uv(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const c=[];let h=0;for(const m of s){let y=cv(m,a.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}})(i,e)}return(function(s,a){if((s=da(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return T1(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Ge.fromDate(s);return{timestampValue:vu(a.serializer,c)}}if(s instanceof Ge){const c=new Ge(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vu(a.serializer,c)}}if(s instanceof Kn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pn)return{bytesValue:Ry(a.serializer,s._byteString)};if(s instanceof Tt){const c=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:_d(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Gn)return(function(h,m){return{mapValue:{fields:{[iy]:{stringValue:sy},[pu]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw m.Sc("VectorValues must only contain numeric values.");return md(m.serializer,v)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${ld(s)}`)})(i,e)}function hv(i,e){const n={};return Jg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(i,((s,a)=>{const c=cv(a,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function dv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ge||i instanceof Kn||i instanceof pn||i instanceof Tt||i instanceof Ld||i instanceof Gn)}function fv(i,e,n){if(!dv(n)||!Yg(n)){const s=ld(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function MS(i,e,n){if((e=da(e))instanceof bd)return e._internalPath;if(typeof e=="string")return pv(i,e);throw Tu("Field path arguments must be of type string or ",i,!1,void 0,n)}const jS=new RegExp("[~\\*/\\[\\]]");function pv(i,e,n){if(e.search(jS)>=0)throw Tu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new bd(...e.split("."))._internalPath}catch{throw Tu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Tu(i,e,n,s,a){const c=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${s}`),h&&(y+=` in document ${a}`),y+=")"),new ce(q.INVALID_ARGUMENT,m+i+y)}function FS(i,e){return i.some((n=>n.isEqual(e)))}class mv{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new US(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class US extends mv{data(){return super.data()}}function gv(i,e){return typeof e=="string"?pv(i,e):e instanceof bd?e._internalPath:e._delegate._internalPath}function BS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zS{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Wi(e,((a,c)=>{s[a]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[pu].arrayValue?.values?.map((s=>at(s.doubleValue)));return new Gn(n)}convertGeoPoint(e){return new Kn(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Pu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const n=oi(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ke.fromString(e);Fe(by(s),9688,{name:e});const a=new ya(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return a.isEqual(n)||_r(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function $S(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zi extends mv{constructor(e,n,s,a,c,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(gv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zi._jsonSchemaVersion="firestore/documentSnapshot/1.0",zi._jsonSchema={type:dt("string",zi._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class su extends zi{data(e={}){return super.data(e)}}class qs{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ra(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new su(this._firestore,this._userDataWriter,s.key,s,new ra(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((m=>{const y=new su(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ra(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new su(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ra(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:qS(m.type),doc:y,oldIndex:v,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ad.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}function HS(i){i=qi(i,Tt);const e=qi(i.firestore,ka);return AS(Dd(e),i._key).then((n=>GS(e,i,n)))}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:dt("string",qs._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};class yv extends zS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function WS(i){i=qi(i,Uu);const e=qi(i.firestore,ka),n=Dd(e),s=new yv(e);return BS(i._query),CS(n,i._query).then((a=>new qs(e,s,i,a)))}function QS(i){return vv(qi(i.firestore,ka),[new gd(i._key,Wn.none())])}function KS(i,e){const n=qi(i.firestore,ka),s=Yh(i),a=$S(i.converter,e);return vv(n,[OS(LS(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function vv(i,e){return(function(s,a){const c=new yr;return s.asyncQueue.enqueueAndForget((async()=>pS(await xS(s),a,c))),c.promise})(Dd(i),e)}function GS(i,e,n){const s=n.docs.get(e._key),a=new yv(i);return new zi(i,a,e._key,s,new ra(n.hasPendingWrites,n.fromCache),e.converter)}function YS(){return new Md("serverTimestamp")}(function(e,n=!0){(function(a){eo=a})(yw),hu(new fa("firestore",((s,{instanceIdentifier:a,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new ka(new Dw(s.getProvider("auth-internal")),new Ow(h,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ce(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(v.options.projectId,w)})(h,a),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),zs(Tm,Sm,e),zs(Tm,Sm,"esm2020")})();const ia={apiKey:"AIzaSyC5kp8Odl-VW_34sutNVecwIS1QacQqUEE",authDomain:"ybi-karnataka-web.firebaseapp.com",projectId:"ybi-karnataka-web",storageBucket:"ybi-karnataka-web.firebasestorage.app",messagingSenderId:"997534030364",appId:"1:997534030364:web:3f00df88a082bf59d81dd9"},XS=!!(ia&&(ia.apiKey||ia.projectId||ia.appId)),JS="Firebase is not configured. Please open src/firebase.js and paste your Firebase config object.";let Xh,Ta,Jh,Su;if(XS){const i=jg(ia),e=kS(i),n=PS(e,"research");Xh=async function({title:s,author:a,description:c,content:h}){return(await KS(n,{title:s,author:a,description:c,content:h,createdAt:YS()})).id},Ta=async function(){return(await WS(n)).docs.map(a=>({id:a.id,...a.data()}))},Jh=async function(s){const a=await HS(Yh(e,"research",s));return a.exists()?{id:a.id,...a.data()}:null},Su=async function(s){await QS(Yh(e,"research",s))}}else{const i=()=>{throw new Error(JS)};Xh=async()=>{i()},Ta=async()=>{i()},Jh=async()=>{i()},Su=async()=>{i()}}function ZS(){const[i,e]=X.useState(""),[n,s]=X.useState(""),[a,c]=X.useState(""),[h,m]=X.useState(""),[y,v]=X.useState(""),[w,T]=X.useState(!1);async function C(U){if(U.preventDefault(),!i||!n||!a||!h){v("Please fill all fields including the full research content.");return}T(!0),v("Saving...");try{const G=await Xh({title:i,author:n,description:a,content:h});v("Saved successfully!"),e(""),s(""),c(""),m(""),setTimeout(()=>v(""),3e3)}catch(G){console.error(G),v("Save failed. Check console for details.")}finally{T(!1)}}return R.jsxs("div",{className:"max-w-3xl mx-auto",children:[R.jsxs("div",{className:"mb-6",children:[R.jsx("h2",{className:"text-3xl font-bold text-brand-600 mb-2",children:"Upload Research"}),R.jsx("p",{className:"text-gray-600",children:"Share your research paper with the YBI Karnataka community"})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[R.jsx("div",{className:"md:col-span-2 bg-white rounded-lg shadow-lg p-6",children:R.jsxs("form",{onSubmit:C,className:"space-y-5",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Research Title"}),R.jsx("input",{type:"text",value:i,onChange:U=>e(U.target.value),placeholder:"Enter the title of your research",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-brand-500 focus:ring-2 focus:ring-brand-200"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Author Name"}),R.jsx("input",{type:"text",value:n,onChange:U=>s(U.target.value),placeholder:"Your name or research team",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-brand-500 focus:ring-2 focus:ring-brand-200"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Abstract / Summary"}),R.jsx("textarea",{value:a,onChange:U=>c(U.target.value),placeholder:"Brief summary of your research, key findings, and methodology...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-brand-500 focus:ring-2 focus:ring-brand-200"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Research Paper Content"}),R.jsx("textarea",{value:h,onChange:U=>m(U.target.value),placeholder:"Paste your complete research paper content here (introduction, methodology, results, conclusion, references, etc.)...",rows:20,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-brand-500 focus:ring-2 focus:ring-brand-200 font-mono text-sm"}),R.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Paste the full text of your research paper. You can format it with line breaks."})]}),y&&R.jsx("div",{className:`p-3 rounded-lg text-sm font-medium ${y.includes("")?"bg-brand-100 text-brand-700":y.includes("")?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:y}),R.jsx("button",{type:"submit",disabled:w,className:"w-full px-6 py-3 bg-brand-600 text-white font-semibold rounded-lg hover:bg-brand-700 disabled:bg-gray-400 transition-all duration-200",children:w?"Saving...":"Save Research"})]})}),R.jsxs("div",{className:"bg-brand-50 rounded-lg shadow-lg p-6 border-2 border-brand-200",children:[R.jsx("h3",{className:"text-lg font-bold text-brand-600 mb-4",children:"Reference Guide"}),R.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-brand-600 mb-1",children:"Research Title"}),R.jsx("p",{children:"Be clear and descriptive. Include keywords relevant to your research."})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-brand-600 mb-1",children:"Author Name"}),R.jsx("p",{children:"Can be individual or team name. Include all primary contributors."})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-brand-600 mb-1",children:"Abstract / Summary"}),R.jsx("p",{children:"Write a brief abstract. Include purpose, methodology, and key findings."})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-brand-600 mb-1",children:"Full Content"}),R.jsx("p",{children:"Paste your complete research paper text. Include all sections: intro, methods, results, discussion, and references."})]}),R.jsx("div",{className:"mt-6 pt-4 border-t-2 border-brand-200",children:R.jsx("p",{className:"text-xs text-gray-600",children:"Tip: Make sure your research is complete and properly formatted before pasting."})})]})]})]})]})}function eI({r:i}){return R.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-brand hover:scale-105 transition-all duration-300 p-6 flex flex-col border border-gray-100",children:[R.jsx("h3",{className:"text-lg font-bold text-brand-700 mb-1 line-clamp-2",children:i.title}),R.jsx("div",{className:"text-sm text-gray-500 mb-3 font-medium",children:i.author}),R.jsx("p",{className:"mt-2 text-gray-700 text-sm line-clamp-3 flex-1",children:i.description}),R.jsx("div",{className:"mt-5 pt-4 border-t border-gray-100",children:R.jsx(gr,{to:`/research/${i.id}`,className:"inline-block w-full text-center px-4 py-2 bg-brand-600 text-white font-semibold rounded-lg hover:bg-brand-700 transition",children:"Read Full Paper "})})]})}function tI(){const[i,e]=X.useState([]),[n,s]=X.useState(!0);return X.useEffect(()=>{s(!0),Ta().then(a=>{e(a.sort((c,h)=>(h.createdAt?.seconds||0)-(c.createdAt?.seconds||0))),s(!1)}).catch(a=>{console.error(a),s(!1)})},[]),R.jsxs("div",{className:"animate-fadeInUp",children:[R.jsxs("div",{className:"mb-8",children:[R.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-brand-600 to-brand-700 bg-clip-text text-transparent mb-2",children:"Browse Research"}),R.jsx("p",{className:"text-gray-500",children:"Explore research papers from the YBI community"})]}),n?R.jsxs("div",{className:"text-center py-16",children:[R.jsx("div",{className:"inline-block animate-spin text-4xl text-brand-600",children:""}),R.jsx("p",{className:"text-gray-600 mt-4",children:"Loading research papers..."})]}):R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.length===0&&R.jsxs("div",{className:"col-span-full text-center py-16 bg-gradient-to-r from-brand-50 to-brand-100 rounded-xl border border-brand-200",children:[R.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"No research uploaded yet."}),R.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Be the first to contribute!"})]}),i.map((a,c)=>R.jsx("div",{className:"animate-fadeInUp",style:{animationDelay:`${c*.1}s`},children:R.jsx(eI,{r:a})},a.id))]})]})}function nI(){const{id:i}=h0(),[e,n]=X.useState(null),[s,a]=X.useState(!0);return X.useEffect(()=>{a(!0),Jh(i).then(c=>{n(c),a(!1)}).catch(c=>{console.error(c),a(!1)})},[i]),s?R.jsxs("div",{className:"text-center py-12",children:[R.jsx("div",{className:"inline-block animate-spin text-3xl",children:"..."}),R.jsx("p",{className:"text-gray-600 mt-2",children:"Loading research paper..."})]}):e?R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"border-b-2 border-brand-200 pb-4",children:[R.jsx("h2",{className:"text-3xl font-bold text-brand-600 mb-2",children:e.title}),R.jsx("div",{className:"flex items-center gap-4 text-gray-600",children:R.jsxs("span",{className:"font-medium",children:["By ",e.author]})})]}),R.jsxs("div",{className:"bg-brand-50 p-6 rounded-lg",children:[R.jsx("h3",{className:"text-xl font-semibold text-brand-600 mb-3",children:"Abstract"}),R.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap",children:e.description})]}),R.jsxs("div",{className:"bg-white p-8 rounded-lg border-2 border-brand-200",children:[R.jsx("h3",{className:"text-xl font-semibold text-brand-600 mb-4",children:"Full Research Paper"}),e.content?R.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 leading-relaxed whitespace-pre-wrap",children:e.content}):R.jsx("p",{className:"text-gray-600 italic",children:"No content available."})]})]}):R.jsx("div",{className:"text-center py-12 bg-red-50 rounded-lg",children:R.jsx("p",{className:"text-red-600 font-semibold",children:"Research not found."})})}function rI(){return R.jsxs("div",{className:"space-y-8 animate-fadeInUp",children:[R.jsxs("div",{className:"bg-gradient-to-r from-brand-50 via-white to-brand-50 rounded-2xl shadow-brand border border-brand-200 p-8",children:[R.jsx("h2",{className:"text-4xl font-bold text-brand-700 mb-4",children:"About YBI"}),R.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:"The Youth Biology Institute, inspires students to explore how engineering principles enhance understanding of the human body. Through our active research department and hands-on workshops with government-school students, we spark curiosity, support learning, and encourage young minds to pursue impactful careers in Biology."})]}),R.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 border border-gray-100",children:[R.jsx("h3",{className:"text-3xl font-bold text-brand-700 mb-6",children:"Our Mission"}),R.jsx("p",{className:"text-gray-700 leading-relaxed mb-8",children:"We believe in the power of open knowledge and collaborative innovation. This platform is a repository of research papers and workshops conducted by our students. Contributors can upload and share their work publicly, creating a vibrant community of researchers and innovators."}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[R.jsxs("div",{className:"bg-gradient-to-br from-brand-50 to-brand-100 p-6 rounded-xl border-l-4 border-brand-600 hover:shadow-brand transition-shadow",children:[R.jsx("h4",{className:"font-bold text-brand-700 mb-2 text-lg",children:"Accessible"}),R.jsx("p",{className:"text-sm text-gray-700",children:"Browse and access research from anywhere, anytime."})]}),R.jsxs("div",{className:"bg-gradient-to-br from-brand-50 to-brand-100 p-6 rounded-xl border-l-4 border-brand-600 hover:shadow-brand transition-shadow",children:[R.jsx("h4",{className:"font-bold text-brand-700 mb-2 text-lg",children:"Community-Driven"}),R.jsx("p",{className:"text-sm text-gray-700",children:"Built by and for researchers and students alike."})]})]})]}),R.jsxs("div",{className:"bg-gradient-to-r from-brand-600 to-brand-700 text-white rounded-2xl shadow-brand-lg p-10",children:[R.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Get Started Today"}),R.jsx("p",{className:"text-brand-100 mb-8 text-lg",children:"Have a research paper or project? Share it with the YBI community and contribute to our collective knowledge."}),R.jsx(gr,{to:"/upload",className:"inline-block px-8 py-3 bg-white text-brand-700 rounded-lg font-bold hover:bg-brand-50 transition-all shadow-lg hover:shadow-xl",children:"Start Uploading"})]})]})}const iI="tarunsigma123";function sI(){const[i,e]=X.useState(""),[n,s]=X.useState(!1),[a,c]=X.useState([]),[h,m]=X.useState(!1);X.useEffect(()=>{n&&y()},[n]);async function y(){m(!0);const T=await Ta();c(T.sort((C,U)=>(U.createdAt?.seconds||0)-(C.createdAt?.seconds||0))),m(!1)}function v(T){T.preventDefault(),i===iI?s(!0):alert("Incorrect password")}async function w(T){if(confirm("Delete this research?"))try{await Su(T),await y()}catch(C){console.error(C),alert("Failed to delete")}}return R.jsx("div",{className:"max-w-4xl mx-auto",children:n?R.jsxs("div",{className:"bg-white p-6 rounded shadow border-l-4 border-brand-600",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h3",{className:"text-lg font-semibold text-brand-600",children:"Manage Research"}),R.jsx("button",{onClick:()=>{s(!1),e("")},className:"text-sm text-red-600 hover:text-red-700 font-semibold",children:"Logout"})]}),R.jsx("div",{className:"mt-4",children:R.jsx("button",{onClick:y,className:"px-4 py-2 bg-brand-100 text-brand-600 rounded font-semibold hover:bg-brand-200",children:"Refresh"})}),R.jsx("div",{className:"mt-4",children:h?R.jsx("div",{className:"text-gray-600",children:"Loading..."}):R.jsxs("div",{className:"space-y-3",children:[a.length===0&&R.jsx("div",{className:"text-gray-600",children:"No research found"}),a.map(T=>R.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border-l-4 border-brand-400",children:[R.jsxs("div",{children:[R.jsx("div",{className:"font-medium text-brand-700",children:T.title}),R.jsx("div",{className:"text-sm text-gray-600",children:T.author})]}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(gr,{to:`/research/${T.id}`,className:"text-sm text-brand-600 hover:text-brand-700 font-semibold",children:"View"}),R.jsx("button",{onClick:()=>w(T.id),className:"text-sm text-red-600 hover:text-red-700 font-semibold",children:"Delete"})]})]},T.id))]})})]}):R.jsxs("form",{onSubmit:v,className:"bg-white p-6 rounded shadow max-w-sm border-l-4 border-brand-600",children:[R.jsx("h3",{className:"text-lg font-semibold mb-2 text-brand-600",children:"Admin Panel"}),R.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter password to manage research uploads."}),R.jsx("input",{type:"password",value:i,onChange:T=>e(T.target.value),className:"w-full border border-gray-300 rounded p-2 mb-3 focus:outline-none focus:border-brand-500 focus:ring-2 focus:ring-brand-200",placeholder:"Password"}),R.jsx("button",{className:"w-full px-4 py-2 bg-brand-600 text-white rounded hover:bg-brand-700 font-semibold",children:"Enter"})]})})}const oI="tarunsigma123";function aI(){const[i,e]=X.useState(""),[n,s]=X.useState(!1),[a,c]=X.useState([]),[h,m]=X.useState(!1),{setAdmin:y}=X.useContext(nd);X.useEffect(()=>{n&&v()},[n]);async function v(){m(!0);try{const C=await Ta();c(C.sort((U,G)=>(G.createdAt?.seconds||0)-(U.createdAt?.seconds||0)))}catch(C){console.error(C)}m(!1)}function w(C){if(C.preventDefault(),i===oI){s(!0);try{typeof y=="function"&&y(1)}catch(U){console.error(U)}e("")}else alert("Incorrect password")}async function T(C){if(confirm("Delete this research?"))try{await Su(C),await v()}catch(U){console.error(U),alert("Failed to delete")}}return R.jsx("div",{className:"max-w-4xl mx-auto py-8",children:n?R.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h3",{className:"text-lg font-semibold",children:"Admin - Manage Research"}),R.jsx("button",{onClick:()=>{s(!1),e("");try{typeof y=="function"&&y(0)}catch(C){console.error(C)}},className:"text-sm text-red-600",children:"Logout"})]}),R.jsx("div",{className:"mt-4",children:R.jsx("button",{onClick:v,className:"px-3 py-1 bg-gray-100 rounded",children:"Refresh"})}),R.jsx("div",{className:"mt-4",children:h?R.jsx("div",{children:"Loading..."}):R.jsxs("div",{className:"space-y-3",children:[a.length===0&&R.jsx("div",{className:"text-gray-600",children:"No research found"}),a.map(C=>R.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[R.jsxs("div",{children:[R.jsx("div",{className:"font-medium text-brand-700",children:C.title}),R.jsx("div",{className:"text-sm text-gray-600",children:C.author})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(gr,{to:`/research/${C.id}`,className:"text-sm text-brand-600",children:"View"}),R.jsx("button",{onClick:()=>T(C.id),className:"text-sm text-red-600",children:"Delete"})]})]},C.id))]})})]}):R.jsxs("form",{onSubmit:w,className:"bg-white p-6 rounded shadow max-w-sm mx-auto",children:[R.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Admin Access"}),R.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter password to manage research uploads."}),R.jsx("input",{type:"password",value:i,onChange:C=>e(C.target.value),className:"w-full border rounded p-2 mb-3",placeholder:"Password"}),R.jsx("button",{className:"w-full px-4 py-2 bg-brand-600 text-white rounded",children:"Enter"})]})})}function lI(){return R.jsx(B0,{children:R.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[R.jsx(z0,{}),R.jsxs("main",{className:"container mx-auto px-4 py-8",children:[R.jsx($0,{}),R.jsx(q0,{}),R.jsxs(C0,{children:[R.jsx(Xr,{path:"/",element:R.jsx(H0,{})}),R.jsx(Xr,{path:"/upload",element:R.jsx(ZS,{})}),R.jsx(Xr,{path:"/browse",element:R.jsx(tI,{})}),R.jsx(Xr,{path:"/research/:id",element:R.jsx(nI,{})}),R.jsx(Xr,{path:"/about",element:R.jsx(rI,{})}),R.jsx(Xr,{path:"/admin",element:R.jsx(sI,{})}),R.jsx(Xr,{path:"/secret-admin",element:R.jsx(aI,{})})]})]})]})})}L_.createRoot(document.getElementById("root")).render(R.jsx(ed.StrictMode,{children:R.jsx(L0,{children:R.jsx(lI,{})})}));
